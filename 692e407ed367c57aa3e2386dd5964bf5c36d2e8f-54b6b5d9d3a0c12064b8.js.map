{"version":3,"sources":["webpack:///./node_modules/@math.gl/core/dist/esm/lib/validators.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/es6.number.is-finite.js","webpack:///./node_modules/probe.gl/dist/es5/env/index.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/probe.gl/dist/es5/env/is-electron.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/globals.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/@math.gl/core/dist/esm/classes/base/math-array.js","webpack:///./node_modules/probe.gl/dist/esm/env/is-browser.js","webpack:///./node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/state-tracker/track-context-state.js","webpack:///./node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.math.fround.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.object.is-extensible.js","webpack:///./node_modules/@probe.gl/stats/dist/esm/utils/hi-res-timestamp.js","webpack:///./node_modules/axios/lib/helpers/bind.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-context.js","webpack:///./node_modules/probe.gl/dist/esm/env/is-electron.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/probe.gl/dist/es5/env/get-browser.js","webpack:///./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/globals.js","webpack:///./node_modules/axios/lib/defaults.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/core-js/modules/es6.math.cosh.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-vertex-array-object.js","webpack:///./node_modules/probe.gl/dist/esm/env/globals.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/modules/fp32/fp32.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/log.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/constants.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project.glsl.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/memoize.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/assert.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/project/viewport-uniforms.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/project32/project32.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/modules/picking/picking.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/picking/picking.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/context/context.js","webpack:///./node_modules/@probe.gl/stats/dist/esm/lib/stat.js","webpack:///./node_modules/@probe.gl/stats/dist/esm/lib/stats.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/init.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/assert.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/webgl-checks.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/constants-to-keys.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/utils.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/stub-methods.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/resource.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/typed-array-utils.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/check-props.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/accessor.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/texture-formats.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/texture.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/load-file.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/texture-2d.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/renderbuffer-formats.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/renderbuffer.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/clear.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/format-utils.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/texture-cube.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/texture-3d.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/copy-and-blit.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/texture-utils.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/framebuffer.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/features/features.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/features/webgl-features-table.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/shader-attribute.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/typed-array-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/math-utils.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/data-column.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/gl-utils.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/flatten.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/range.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/array-utils.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-transition-utils.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute.js","webpack:///./node_modules/@deck.gl/core/dist/esm/debug/index.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/utils/assert.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/utils/shader-utils.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/transform-feedback.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/transform/buffer-transform.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-version.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/inject-shader.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/constants.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/modules/module-injectors.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/modules/transform/transform.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/transform/texture-transform.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/transform/transform-shader-utils.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/filters/prop-types.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/shader-module.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/resolve-modules.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/utils/is-old-ie.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/utils/webgl-info.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/transpile-shader.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/assemble-shaders.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/uniforms.js","webpack:///./node_modules/@luma.gl/shadertools/dist/esm/lib/platform-defines.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-name.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/format-glsl-error.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/glsl-utils/get-shader-type-name.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/shader.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/attribute-utils.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/program-configuration.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/program.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/lib/program-manager.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/array-utils-flat.js","webpack:///./node_modules/probe.gl/dist/esm/env/get-browser.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/vertex-array-object.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/vertex-array.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/utils/format-value.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/debug/debug-vertex-array.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/debug/debug-uniforms.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/debug/debug-program-configuration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/lib/model-utils.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/lib/model.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/transform/transform.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/transition.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/gpu-interpolation-transition.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/gpu-spring-transition.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-transition-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/attribute/attribute-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/cpu-interpolation-transition.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/cpu-spring-transition.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/uniform-transition-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/constants.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/props.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/count.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/shader.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/assert.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/viewport.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js","webpack:///./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/project/project-functions.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/prop-types.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/create-props.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncIterator.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/component-state.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lifecycle/component.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/layer-state.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/javascript-utils/is-type.js","webpack:///./node_modules/@loaders.gl/loader-utils/dist/esm/lib/path-utils/file-aliases.js","webpack:///./node_modules/@loaders.gl/loader-utils/dist/esm/lib/env-utils/assert.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.browser.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-error-message.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/fetch/fetch-file.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/normalize-loader.js","webpack:///./node_modules/@loaders.gl/loader-utils/dist/esm/lib/validate-loader-version.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/loggers.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/constants.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/merge-options.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/make-iterator/string-iterator.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/make-iterator/array-buffer-iterator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/AwaitValue.js","webpack:///./node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/AsyncGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/make-iterator/blob-iterator.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/make-iterator/stream-iterator.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/make-iterator/make-iterator.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/javascript-utils/memory-copy-utils.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/iterator-utils/async-iteration.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/check-errors.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-data.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/get-loader-context.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/worker-utils/get-worker-url.js","webpack:///./node_modules/@loaders.gl/loader-utils/dist/esm/lib/worker-utils/get-transfer-list.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/worker-utils/worker-thread.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/worker-utils/worker-pool.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/worker-utils/worker-farm.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/javascript-utils/binary-utils.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/loader-utils/parse-with-worker.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/utils/mime-type-utils.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/utils/resource-utils.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/api/register-loaders.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/api/select-loader.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/api/parse.js","webpack:///./node_modules/@loaders.gl/core/dist/esm/lib/api/load.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/layer.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/geometry/geometry.js","webpack:///./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer.js","webpack:///./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer-vertex.glsl.js","webpack:///./node_modules/@deck.gl/layers/dist/esm/scatterplot-layer/scatterplot-layer-fragment.glsl.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/animation/timeline.js","webpack:///./node_modules/@deck.gl/core/dist/esm/viewports/viewport.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/misc/geometry.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/index.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/layer-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/deep-equal.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/view-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/positions.js","webpack:///./node_modules/@deck.gl/core/dist/esm/views/view.js","webpack:///./node_modules/@deck.gl/core/dist/esm/viewports/web-mercator-viewport.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/transition-interpolator.js","webpack:///./node_modules/@deck.gl/core/dist/esm/transitions/linear-interpolator.js","webpack:///./node_modules/@deck.gl/core/dist/esm/controllers/transition-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/controllers/controller.js","webpack:///./node_modules/@deck.gl/core/dist/esm/controllers/view-state.js","webpack:///./node_modules/@deck.gl/core/dist/esm/controllers/map-controller.js","webpack:///./node_modules/@deck.gl/core/dist/esm/views/map-view.js","webpack:///./node_modules/@deck.gl/core/dist/esm/effects/lighting/ambient-light.js","webpack:///./node_modules/@deck.gl/core/dist/esm/effects/lighting/directional-light.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/effect.js","webpack:///./node_modules/@deck.gl/core/dist/esm/passes/layers-pass.js","webpack:///./node_modules/@deck.gl/core/dist/esm/passes/pass.js","webpack:///./node_modules/@deck.gl/core/dist/esm/passes/shadow-pass.js","webpack:///./node_modules/@deck.gl/core/dist/esm/shaderlib/shadow/shadow.js","webpack:///./node_modules/@deck.gl/core/dist/esm/effects/lighting/lighting-effect.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/effect-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/passes/draw-layers-pass.js","webpack:///./node_modules/@deck.gl/core/dist/esm/passes/pick-layers-pass.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/deck-renderer.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/picking/query-object.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/picking/pick-info.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/deck-picker.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/tooltip.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/utils/assert.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/category-api/image-type.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/category-api/parsed-image-api.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/parsers/svg-utils.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-image.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-image-bitmap.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/category-api/binary-image-api.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-to-node-image.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/parsers/parse-image.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/image-loader.js","webpack:///./node_modules/@deck.gl/core/dist/esm/utils/json-loader.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/init.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/classes/query.js","webpack:///./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/request-animation-frame.js","webpack:///./node_modules/@luma.gl/engine/dist/esm/lib/animation-loop.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack:///./node_modules/mjolnir.js/dist/esm/constants.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack:///./node_modules/mjolnir.js/dist/esm/event-manager.js","webpack:///./node_modules/@deck.gl/core/dist/esm/lib/deck.js","webpack:///./node_modules/@deck.gl/react/dist/esm/utils/inherits-from.js","webpack:///./node_modules/@deck.gl/react/dist/esm/utils/extract-jsx-layers.js","webpack:///./node_modules/@deck.gl/react/dist/esm/utils/evaluate-children.js","webpack:///./node_modules/@deck.gl/react/dist/esm/utils/position-children-under-views.js","webpack:///./node_modules/@deck.gl/react/dist/esm/utils/extract-styles.js","webpack:///./node_modules/@deck.gl/react/dist/esm/deckgl.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/math-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/assert.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-state.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-constraints.js","webpack:///./node_modules/react-map-gl/dist/esm/components/map-context.js","webpack:///./node_modules/react-map-gl/dist/esm/components/static-map.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/transition-manager.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/map-controller.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/debounce.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/deprecate-warn.js","webpack:///./node_modules/react-map-gl/dist/esm/components/interactive-map.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack:///./node_modules/react-map-gl/dist/esm/components/source.js","webpack:///./node_modules/react-map-gl/dist/esm/components/layer.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/react-map-gl/dist/esm/components/base-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/draggable-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js","webpack:///./node_modules/react-map-gl/dist/esm/components/marker.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js","webpack:///./node_modules/react-map-gl/dist/esm/components/popup.js","webpack:///./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js","webpack:///./node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack:///./node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/version.js","webpack:///./node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js","webpack:///./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js","webpack:///./src/components/Mapbox.js","webpack:///./node_modules/core-js/modules/_math-expm1.js","webpack:///./node_modules/axios/lib/core/createError.js","webpack:///./node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./src/api/index.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/@math.gl/core/dist/esm/classes/base/matrix.js","webpack:///./node_modules/@math.gl/core/dist/esm/classes/matrix4.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/polyfill/get-parameter-polyfill.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/polyfill/polyfill-table.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/axios/lib/core/settle.js","webpack:///./node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/core-js/modules/es6.object.is-sealed.js","webpack:///./node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack:///./node_modules/@math.gl/core/dist/esm/index.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/gl-matrix/esm/mat4.js","webpack:///./node_modules/core-js/modules/es6.object.is-frozen.js","webpack:///./node_modules/gl-matrix/esm/vec2.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/@math.gl/core/dist/esm/lib/common.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.math.sinh.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/gl-matrix/esm/vec4.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/probe.gl/dist/esm/utils/globals.js","webpack:///./node_modules/probe.gl/dist/esm/utils/local-storage.js","webpack:///./node_modules/probe.gl/dist/esm/utils/formatters.js","webpack:///./node_modules/probe.gl/dist/esm/utils/color.js","webpack:///./node_modules/probe.gl/dist/esm/utils/autobind.js","webpack:///./node_modules/probe.gl/dist/esm/utils/assert.js","webpack:///./node_modules/probe.gl/dist/esm/utils/hi-res-timestamp.js","webpack:///./node_modules/probe.gl/dist/esm/lib/log.js","webpack:///./node_modules/@loaders.gl/images/dist/esm/lib/utils/globals.js","webpack:///./node_modules/core-js/modules/es6.array.copy-within.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/utils/utils.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/utils/device-pixels.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/utils/webgl-checks.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/utils/index.js","webpack:///./node_modules/axios/lib/core/buildFullPath.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/state-tracker/unified-parameter-api.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/probe.gl/dist/es5/env/globals.js","webpack:///./node_modules/react-virtualized-auto-sizer/dist/index.esm.js","webpack:///./node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///./node_modules/core-js/modules/_date-to-iso-string.js","webpack:///./node_modules/core-js/modules/_math-fround.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack:///./node_modules/gl-matrix/esm/vec3.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@luma.gl/gltools/dist/esm/state-tracker/webgl-parameter-tables.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/@math.gl/core/dist/esm/lib/gl-matrix-extras.js","webpack:///./node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/@math.gl/core/dist/esm/lib/assert.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/probe.gl/dist/es5/env/is-browser.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/axios/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/core-js/modules/es6.math.tanh.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/probe.gl/env.js","webpack:///./node_modules/axios/lib/utils.js","webpack:///./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./node_modules/gl-matrix/esm/common.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@math.gl/core/dist/esm/classes/base/vector.js","webpack:///./node_modules/@math.gl/core/dist/esm/classes/vector3.js","webpack:///./node_modules/axios/lib/axios.js"],"names":["validateVector","v","length","i","Number","isFinite","checkNumber","value","Error","concat","checkVector","callerName","arguments","undefined","debug","map","deprecated","method","version","console","warn","$export","$entries","S","entries","it","_isFinite","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","enumerable","get","_globals","self","window","global","document","process","_isBrowser","isBrowserMainThread","_getBrowser","isMobile","_isElectron","createHTML","this","mockUserAgent","_typeof2","type","versions","Boolean","electron","realUserAgent","navigator","userAgent","indexOf","_classCallCheck","instance","Constructor","TypeError","_typeof","_getRequireWildcardCache","WeakMap","cache","module","obj","__esModule","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","url","test","window_","document_","Class","_cache","Map","fn","Function","toString","Wrapper","construct","getPrototypeOf","constructor","create","writable","configurable","setPrototypeOf","_Array","MathArray","apply","copy","arrayOrObject","Array","isArray","fromObject","array","offset","ELEMENTS","check","toArray","toObject","target","to","Float32Array","formatString","opts","string","printTypes","name","a","b","t","ai","vector","Math","min","max","minVector","maxVector","_len","vectors","_key","_i","_vectors","_len2","_key2","_i2","_vectors2","_scale","multiply","subtract","addScalar","scalar","scale","validate","valid","assert","isBrowser","String","browser","baseURL","relativeURL","replace","propTypes","container","object","gl","mapboxApiAccessToken","mapboxApiUrl","attributionControl","bool","preserveDrawingBuffer","reuseMaps","transformRequest","func","mapOptions","mapStyle","oneOfType","visible","asyncRender","onLoad","onError","width","number","height","viewState","longitude","latitude","zoom","bearing","pitch","altitude","defaultProps","body","accessToken","location","match","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","event","error","checkPropTypes","props","component","Mapbox","_this","_map","mapboxgl","initialized","_checkStyleSheet","_initialize","_destroy","_update","resize","style","_frame","cancel","_render","savedMap","oldContainer","getContainer","newContainer","classList","add","childNodes","appendChild","_container","setStyle","diff","isStyleLoaded","_fireLoadEvent","once","_reuse","getContext","HTMLCanvasElement","center","maxZoom","interactive","trackResize","assign","on","remove","off","_this2","baseApiUrl","_create","canvas","getCanvas","outline","_updateMapViewport","_updateMapSize","oldProps","newProps","viewportChanged","sizeChanged","redraw","oldViewState","_getViewState","newViewState","jumpTo","_viewStateToMapboxProps","transform","_ref","_ref$pitch","_ref$bearing","_ref$altitude","mapboxVersion","testElement","createElement","className","display","append","isCssLoaded","getComputedStyle","position","link","setAttribute","head","LIBRARY","fails","$typed","$buffer","ctx","anInstance","propertyDesc","hide","redefineAll","toInteger","toLength","toIndex","toAbsoluteIndex","toPrimitive","classof","isObject","isArrayIter","gOPN","f","getIterFn","uid","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","dP","gOPD","RangeError","Uint8Array","ArrayProto","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","keys","arrayEntries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","join","arraySort","sort","arraySlice","slice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","O","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","C","speciesFromList","list","fromList","index","result","addGetter","internal","_d","$from","source","step","iterator","aLen","mapfn","mapping","iterFn","next","done","push","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","start","every","callbackfn","fill","filter","find","predicate","findIndex","forEach","searchElement","includes","separator","reverse","middle","floor","some","comparefn","subarray","begin","end","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","$getDesc","$setDesc","F","$TypedArrayPrototype$","KEY","wrapper","CLAMPED","NAME","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","that","data","o","getter","round","setter","$offset","$length","byteLength","klass","$len","l","e","iter","$nativeIterator","CORRECT_ITER_NAME","$iterator","G","W","of","from","P","DESCRIPTORS","setToStringTag","Infinity","BaseBuffer","abs","pow","log","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","m","c","eLen","eMax","eBias","rt","s","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","store","_b","pack","conversion","ArrayBufferProto","j","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","args","title","env","argv","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","installGetterOverride","functionName","originalGetterFunc","bind","pname","state","enable","installSetterSpy","originalSetterFunc","params","_setter","_updateCache","valueChanged","oldValue","installProgramSpy","originalUseProgram","useProgram","handle","program","GLState","_ref$copyState","copyState","_ref$log","stateStack","seal","oldValues","pop","cached","trackContextState","_ref2","_ref2$enable","global_","polyfillContext","pushContextState","popContextState","utils","InterceptorManager","handlers","use","fulfilled","rejected","eject","id","h","Date","toJSON","toISOString","pv","fround","_unsupportedIterableToArray","minLen","n","buildURL","dispatchRequest","mergeConfig","Axios","instanceConfig","defaults","interceptors","request","response","config","toLowerCase","chain","promise","Promise","resolve","interceptor","unshift","then","shift","getUri","paramsSerializer","merge","Typed","TypedArrayConstructors","split","meta","onFreeze","$freeze","callback","arr","repeat","init","$isExtensible","getHiResTimestamp","timestamp","performance","now","hrtime","timeParts","thisArg","polyfillExtension","extension","target2","_defaults$meta","_meta$suffix","suffix","ext","getExtension","_loop","_Object$keys","extKey","polyfill","luma","polyfilled","extensions","EXTENSIONS","getSupportedExtensions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","err","initializeExtensions","polyfills","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","getOwnPropertyNames","installPolyfills","originalFunc","installOverrides","isElectron","aFunction","anObject","rConstruct","Reflect","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","$find","forced","orientation","navigator_","isMSIE","isTrident","chrome","safari","mozInnerScreenX","matches","nodeVersion","parseFloat","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","isUndefined","adapter","XMLHttpRequest","isFormData","isArrayBuffer","isBuffer","isStream","isFile","isBlob","isArrayBufferView","isURLSearchParams","JSON","stringify","transformResponse","parse","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","_assertThisInitialized","ReferenceError","exp","cosh","x","_inherits","subClass","superClass","glErrorShadow","synthesizeGLError","opt_msg","msg","WebGLVertexArrayObjectOES","isAlive","hasBeenBound","elementArrayBuffer","attribs","maxVertexAttribs","attrib","VertexAttrib","maxAttrib","enabled","size","normalized","stride","recache","OESVertexArrayObject","getError","parseInt","wrapGLError","original","getParameter","enableVertexAttribArray","disableVertexAttribArray","bindBuffer","getVertexAttrib","vertexAttribPointer","VERTEX_ARRAY_BINDING_OES","currentVertexArrayObject","defaultVertexArrayObject","vao","currentArrayBuffer","indx","instrumentExtension","addEventListener","reset_","polyfillVertexArrayObject","createVertexArray","original_getSupportedExtensions","original_getExtension","__OESVertexArrayObject","vertexArrayObjects","ii","bindVertexArrayOES","createVertexArrayOES","arrayObject","deleteVertexArrayOES","splice","isVertexArrayOES","oldVAO","newVAO","currentBinding","oldAttrib","bufferChanged","globals","process_","_toConsumableArray","arrayLikeToArray","unsupportedIterableToArray","property","receiver","base","vs","fs","COORDINATE_SYSTEM","DEFAULT","LNGLAT","METER_OFFSETS","LNGLAT_OFFSETS","CARTESIAN","PROJECTION_MODE","WEB_MERCATOR","WEB_MERCATOR_AUTO_OFFSET","IDENTITY","EVENTS","click","handler","panstart","panmove","panend","COORDINATE_SYSTEM_GLSL_CONSTANTS","PROJECTION_MODE_GLSL_CONSTANTS","isEqual","memoize","compute","cachedResult","cachedArgs","condition","message","ZERO_VECTOR","VECTOR_TO_POINT_MATRIX","IDENTITY_MATRIX","DEFAULT_PIXELS_PER_UNIT2","DEFAULT_COORDINATE_ORIGIN","getMemoizedViewportUniforms","viewport","devicePixelRatio","coordinateSystem","coordinateOrigin","_calculateMatrixAndOf","viewMatrixUncentered","projectionMatrix","viewMatrix","viewProjectionMatrix","projectionCenter","cameraPosCommon","cameraPosition","_getOffsetOrigin","getOffsetOrigin","geospatialOrigin","shaderCoordinateOrigin","offsetMode","positionCommonSpace","projectPosition","vec4","mat4","calculateMatrixAndOffset","distanceScales","getDistanceScales","viewportSize","uniforms","project_uCoordinateSystem","project_uProjectionMode","projectionMode","project_uCoordinateOrigin","project_uCenter","project_uAntimeridian","project_uViewportSize","project_uDevicePixelRatio","project_uFocalDistance","focalDistance","project_uCommonUnitsPerMeter","unitsPerMeter","project_uCommonUnitsPerWorldUnit","project_uCommonUnitsPerWorldUnit2","project_uScale","project_uViewProjectionMatrix","project_uCameraPosition","distanceScalesAtOrigin","unitsPerMeter2","unitsPerDegree","unitsPerDegree2","isGeospatial","unprojectPosition","getUniformsFromViewport","_ref$devicePixelRatio","_ref$modelMatrix","modelMatrix","_ref$coordinateSystem","_ref$wrapLongitude","wrapLongitude","positionOrigin","project_uWrapLongitude","project_uModelMatrix","INITIAL_MODULE_OPTIONS","dependencies","fp32","getUniforms","DEFAULT_MODULE_OPTIONS","pickingSelectedColor","pickingHighlightColor","pickingActive","pickingAttribute","selectedColor","picking_uSelectedColorValid","picking_uSelectedColor","color","picking_uHighlightColor","picking_uActive","picking_uAttribute","inject","order","injection","picking","isPage","CONTEXT_DEFAULTS","webgl2","webgl1","throwOnError","manageState","createGLContext","options","_options","_options2","targetCanvas","createBrowserContext","logInfo","instrumentGLContext","_instrumented","_version","getVersion","canvasSizeInfo","_options3","makeDebugContext","level","onCreateError","statusMessage","_options$webgl","_options$webgl2","removeEventListener","_ref$width","_ref$height","readyState","getElementById","insertBefore","firstChild","webGL","info","vendorMasked","rendererMasked","vendor","UNMASKED_VENDOR_WEBGL","renderer","UNMASKED_RENDERER_WEBGL","shadingLanguageVersion","getContextDebugInfo","driver","WebGL2RenderingContext","setDevicePixelRatio","clientWidth","clientHeight","cachedSize","clampedPixelRatio","canvasWidth","canvasHeight","drawingBufferWidth","drawingBufferHeight","Stat","sampleSize","reset","samples","addCount","subtractCount","_count","_samples","_checkSampling","time","_time","lastTiming","_startTime","_timerPending","addTime","lastSampleCount","lastSampleTime","count","Stats","stats","_initializeStats","_getOrCreate","table","stat","average","getAverageTime","hz","getHz","lumaStats","StatsManager","VERSION","modules","nodeIO","assertWebGLContext","assertWebGL2Context","getKeyValue","isNaN","getKey","uidCounters","isPowerOfTwo","isObjectEmpty","isEmpty","methodNames","upgradeMessage","methodName","removed","ERR_RESOURCE_METHOD_UNDEFINED","Resource","_opts$userData","userData","_bound","_handle","_createHandle","_addStats","_ref$deleteChildren","deleteChildren","children","_deleteHandle","_removeStats","child","funcOrHandle","_bindHandle","parameters","PARAMETERS","parameter","isWebgl2","parameterAvailable","webgl1Default","webgl2Default","defaultValue","_getParameter","parameterKeys","_setParameter","setParameter","incrementCount","decrementCount","getGLTypeFromTypedArray","arrayOrType","isView","Uint32Array","Uint8ClampedArray","Int8Array","Int16Array","Int32Array","getTypedArrayFromGLType","glType","_ref$clamped","clamped","flipRows","_ref2$bytesPerPixel","bytesPerPixel","temp","bytesPerRow","y","topOffset","bottomOffset","scalePixels","_ref3","newWidth","newHeight","newData","checkProps","propChecks","_propChecks$removedPr","removedProps","_propChecks$deprecate","deprecatedProps","_propChecks$replacedP","replacedProps","propName","replacement","_propName","_replacementProp","_propName2","_replacementProp2","_TEXTURE_FORMATS","_DATA_FORMAT_CHANNELS","_TYPE_SIZES","DEFAULT_ACCESSOR_VALUES","divisor","integer","PROP_CHECKS","instanced","isInstanced","Accessor","accessors","accessor","_assign","freeze","getBytesPerElement","getBytesPerVertex","DEPRECATED_PROPS","PROP_CHECKS_INITIALIZE","PROP_CHECKS_SET_PROPS","_Resource","Buffer","stubRemovedMethods","initialize","usage","debugData","setAccessor","_setData","_setByteLength","bytesUsed","_props","_props$offset","_props$srcOffset","srcOffset","bufferSubData","_inferType","sourceBuffer","_ref$readOffset","readOffset","_ref$writeOffset","writeOffset","copyBufferSubData","_ref2$dstData","dstData","_ref2$srcByteOffset","srcByteOffset","_ref2$dstOffset","dstOffset","_ref2$length","dstAvailableElementCount","dstElementCount","ArrayType","sourceAvailableElementCount","_getAvailableElementCount","dstElementOffset","copyElementCount","getBufferSubData","_ref3$target","_ref3$index","_ref3$offset","bindBufferRange","bindBufferBase","_ref4","_ref4$target","_ref4$index","isIndexedBuffer","changed","getData","_trackDeallocatedMemory","_getTarget","bufferData","_trackAllocatedMemory","sourceElementOffset","getElementCount","createBuffer","deleteBuffer","getBufferParameter","reallocate","TEXTURE_FORMATS","dataFormat","types","gl2","DATA_FORMAT_CHANNELS","TYPE_SIZES","isFormatSupported","format","gl1","isLinearFilteringSupported","NPOT_MIN_FILTERS","WebGLBuffer","Texture","_props$id","textureUnit","loaded","depth","border","mipmaps","linearFiltering","supported","resolvedImageData","pixels","_props$pixels","_props$format","_props$border","_props$recreate","recreate","_props$parameters","_props$pixelStore","pixelStore","_props$textureUnit","_props$mipmaps","_props$depth","_this$_deduceParamete","_deduceParameters","compressed","activeTexture","bindTexture","_isNPOT","_updateForNPOT","setImageData","generateMipmap","setParameters","_ref2$mipmaps","_this3","_options$target","_options$pixels","_options$level","_options$format","_options$border","_options$offset","_options$parameters","_options$data","_options$type","_options$width","_options$height","_options$dataFormat","_options$compressed","_this$_deduceParamete2","dataType","_this$_getDataType","_getDataType","texImage2D","compressedTexImage2D","channels","channelSize","_this4","_ref3$pixels","_ref3$data","_ref3$x","_ref3$y","_ref3$width","_ref3$height","_ref3$level","_ref3$format","_ref3$type","_ref3$dataFormat","_ref3$compressed","_ref3$border","_ref3$parameters","_this$_deduceParamete3","ndarray","shape","compressedTexSubImage2D","texSubImage2D","_ref4$compressed","textureFormat","_this$_deduceImageSiz","_deduceImageSize","ImageData","HTMLImageElement","naturalWidth","naturalHeight","ImageBitmap","HTMLVideoElement","videoWidth","videoHeight","createTexture","deleteTexture","getTexParameter","param","_getNPOTParam","texParameterf","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","pathPrefix","loadImage","reject","image","Image","onload","onerror","crossOrigin","_$33190$36012$","_Texture","Texture2D","isSupported","EXT_FLOAT_WEBGL2","bpp","formats","Renderbuffer","getInternalformatParameter","_ref3$samples","bindRenderbuffer","renderbufferStorageMultisample","renderbufferStorage","createRenderbuffer","deleteRenderbuffer","getRenderbufferParameter","_ref$framebuffer","framebuffer","_ref$color","_ref$depth","_ref$stencil","stencil","clearFlags","clearColor","clearDepth","clearStencil","clear","clearBuffer","_ref2$framebuffer","_ref2$buffer","_ref2$drawBuffer","drawBuffer","_ref2$value","clearBufferiv","clearBufferuiv","clearBufferfv","_value","clearBufferfi","glFormatToComponents","asyncGeneratorStep","gen","_next","_throw","arg","_asyncToGenerator","FACES","TextureCube","_setCubeMapImageData","setCubeMapImageData","face","_ref$x","_ref$y","_ref$mipmapLevel","mipmapLevel","_subImage","mark","_callee","_ref2$border","_ref2$format","_ref2$type","imageDataMap","resolvedFaces","wrap","_context","prev","all","facePixels","sent","lodLevel","unbind","stop","_x","imageData","setImageDataForFace","Texture3D","unpackFlipY","_ref$level","_ref$dataFormat","_ref$border","_ref$type","_ref$offset","_ref$parameters","texImage3D","readPixelsToArray","_ref$sourceX","sourceX","_ref$sourceY","sourceY","_ref$sourceFormat","sourceFormat","_ref$sourceAttachment","sourceAttachment","_ref$target","sourceWidth","sourceHeight","sourceType","_getFramebuffer","getFramebuffer","deleteFramebuffer","attachments","getPixelArray","prevHandle","bindFramebuffer","readPixels","_ref3$sourceAttachmen","_ref3$targetMaxHeight","targetMaxHeight","MAX_SAFE_INTEGER","_scalePixels","context","createImageData","putImageData","toDataURL","texture","pixelArray","Framebuffer","readBuffer","drawBuffers","ownResources","MAX_COLOR_ATTACHMENTS","MAX_DRAW_BUFFERS","colorBufferFloat","colorBufferHalfFloat","defaultFramebuffer","_ref2$width","_ref2$height","_ref2$attachments","_ref2$color","_ref2$depth","_ref2$stencil","_ref2$check","attachment","_createDefaultAttachments","update","clearAttachments","checkStatus","_ref3$attachments","_ref3$clearAttachment","_ref3$resizeAttachmen","resizeAttachments","attach","_setReadBuffer","_setDrawBuffers","attachmentPoint","_ref5","_ref5$clearAttachment","_ref5$resizeAttachmen","newAttachments","descriptor","_attachRenderbuffer","renderbuffer","_descriptor","_descriptor$","layer","_descriptor$2","_attachTexture","_unattach","getStatus","STATUS","_getFrameBufferStatus","checkFramebufferStatus","_ref6","_ref6$drawBuffers","_ref7","_ref7$attachments","_ref7$x","_ref7$y","invalidateFramebuffer","_getAttachmentParameterFallback","getFramebufferAttachmentParameter","ATTACHMENT_PARAMETERS","getAttachmentParameter","_attachments","attachmentName","getAttachmentParameters","open","logLevel","maxHeight","_ref8","_ref8$target","_ref9","_ref9$target","_parameters","defaultAttachments","oldAttachment","framebufferRenderbuffer","framebufferTexture2D","_ref10","_ref10$attachment","_ref11","_ref11$attachment","framebufferTextureLayer","mapIndexToCubeMapFace","drawBuffersWEBGL","caps","cap","isFeatureSupported","getFeatures","WEBGL2","EXT_sRGB","createFramebuffer","_FEATURES$WEBGL2$FEAT","FEATURES","testTexture","testFb","hasFeatures","features","feature","featureDefinition","queryFeature","enumerableOnly","getOwnPropertySymbols","symbols","sym","ShaderAttribute","dataColumn","getBuffer","getAccessor","constantValue","elementOffset","getOwnPropertyDescriptors","defineProperties","_objectSpread","TypedArrayManager","_ref$overAlloc","overAlloc","_ref$poolSize","poolSize","_pool","typedArray","_ref2$size","_ref2$padding","padding","_ref2$copy","_ref2$initialize","Type","newSize","newArray","_allocate","_release","ceil","pool","scratchArray","cameraDirection","cameraUp","cameraRight","nearCenter","farCenter","toDoublePrecisionArray","_ref3$size","_ref3$startIndex","startIndex","endIndex","sourceIndex","targetIndex","getStride","bytesPerElement","resolveShaderAttribute","baseAccessor","shaderAttributeOptions","vertexOffset","DataColumn","logicalType","doublePrecision","bufferType","isIndexed","hasFeature","defaultType","Float64Array","glArrayFromType","shaderAttributes","fp64","settings","externalBuffer","bufferAccessor","allocatedValue","constant","_buffer","setData","release","isBuffer64Bit","doubleShaderAttributeDefs","high","resolvedOptions","low","shaderAttributeDef","_normalizeValue","_normalizeConstant","_areValuesEqual","_checkExternalBuffer","subData","_opts$startOffset","startOffset","endOffset","numInstances","_ref3$copy","illegalArrayType","out","_this$settings","value1","value2","_this$settings2","EMPTY_ARRAY","placeholderArray","isAsyncIterable","asyncIterator","getAccessorFromBuffer","startIndices","nested","elementStride","vertexCount","_","_sourceIndex","_j","_sourceIndex2","_j2","flatten","flattenArray","fillArray","_ref$start","_ref$count","total","copied","EMPTY","FULL","rangeList","range","newRangeList","insertPosition","range0","padArrayChunk","sourceLength","targetLength","datum","DEFAULT_TRANSITION_SETTINGS","interpolation","duration","easing","spring","stiffness","damping","normalizeTransitionSettings","userSettings","layerSettings","getSourceBufferAttribute","attribute","getAttributeTypeFromSize","cycleBuffers","buffers","getAttributeBufferLength","multiplier","noAlloc","padBuffer","fromLength","fromStartIndices","_ref$getData","precisionMultiplier","toStartIndices","hasStartIndices","isConstant","toData","chunk","getMissingData","sourceStartIndices","targetStartIndices","getChunkData","nextSourceIndex","nextTargetIndex","padArray","_DataColumn","Attribute","_opts$transition","transition","_opts$noAlloc","_opts$update","_opts$accessor","_opts$transform","_opts$startIndices","_autoUpdater","lastExternalBuffer","binaryValue","binaryAccessor","needsUpdate","needsRedraw","updateRanges","_validateAttributeUpdaters","_ref$clearChangedFlag","clearChangedFlags","supportsTransition","reason","dataRange","setNeedsRedraw","_dataRange$startRow","startRow","_dataRange$endRow","endRow","updated","_step$value","_startRow","_endRow","_step2$value","getVertexOffset","_checkAttributeArray","clearNeedsUpdate","needsNormalize","row","shaderAttributeDefs","shaderAttributeName","accessorFunc","_createIterable","iterable","objectInfo","createIterable","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","objectValue","numVertices","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","item","limit","layout","loggers","eventType","_loggers$eventType","FS100","FS_GLES","FS300","getQualifierDetails","line","qualifiers","words","_words","qualifier","definition","getPassthroughFS","_ref$version","input","inputType","output","outputValue","convertToVec4","typeToChannelCount","variable","TransformFeedback","unused","configuration","bindOnUse","_unbindBuffers","setProps","setBuffers","bufferName","setBuffer","locationOrName","bufferOrParams","_getVaryingIndex","_this$_getBufferParam","_getBufferParams","byteSize","_bindBuffer","primitiveMode","bindTransformFeedback","_bindBuffers","beginTransformFeedback","endTransformFeedback","getVaryingInfo","bufferIndex","_this$_getBufferParam2","createTransformFeedback","deleteTransformFeedback","BufferTransform","currentIndex","feedbackMap","varyings","bindings","resources","_setupTransformFeedback","sourceBuffers","transformFeedback","attributes","_getNextIndex","_setupBuffers","varyingName","feedbackBuffers","_props$sourceBuffers","sourceName","feedbackName","bufferOrRef","_createNewBuffer","_props$sourceBuffers2","_getFeedbackBuffers","_updateBindings","model","_updateBinding","_this$_swapBuffers","_swapBuffers","nextIndex","srcName","dstName","getShaderVersion","_MODULE_INJECTORS","MODULE_INJECTORS","REGEX_START_OF_MAIN","REGEX_END_OF_MAIN","fragments","injectShader","injectStandardStubs","isVertex","fragmentData","fragmentString","combineInjects","injects","_SRC_TEX_PARAMETER_OV","updateForTextures","sourceTextureMap","targetTextureVarying","targetTexture","sourceCount","targetTextureType","samplerTextureMap","updatedVs","finalInject","vsLines","updateVsLines","lines","textureMap","attributeData","getAttributeDefinition","updatedLine","_getSamplerDecleratio","textureName","samplerName","sizeName","uniformDeclerations","getSamplerDeclerations","typeToChannelSuffix","sampleInstruction","processAttributeDefinition","varying","qualaiferDetails","getVaryingType","uniformDeclaration","posInstructions","getSizeUniforms","_sourceTextureMap$tex","SRC_TEX_PARAMETER_OVERRIDES","TextureTransform","_swapTexture","updatedModelProps","_processVertexShader","_this$bindings$this$c","sourceTextures","discard","hasSourceTextures","hasTargetTexture","sampler","transform_elementID","elementIDBuffer","_setSourceTextureParameters","sizeUniforms","_setupTextures","_ref$packed","packed","channelCount","packedPixels","packCount","ownTexture","_targetTextureVarying","textureOrReference","refTexture","_targetRefTexName","_createNewTexture","_props$_sourceTexture","_sourceTextures","_targetTexture","_createTargetTexture","_updateElementIDBuffer","elementCount","elementIds","_this$_swapTextures","_swapTextures","overrides","TextureType","cloneTextureFrom","_this$bindings$this$c2","_updateForTextures","combinedInject","_fs","TYPE_DEFINITIONS","propType","parsePropType","propDef","getTypeOf","ShaderModule","_ref$dependencies","_ref$deprecations","deprecations","_ref$defines","defines","_ref$inject","vertexShader","fragmentShader","getModuleUniforms","_parseDeprecationDefinitions","injections","hook","stage","normalizeInjections","propDefs","parsePropTypes","moduleSource","toUpperCase","_defaultGetUniforms","shaderSource","def","regex","old","RegExp","resolveModules","getShaderDependencies","instantiateModules","seen","moduleMap","moduleDepth","getDependencyGraph","_module","isOldIE","WEBGL_FEATURES","GLSL_FRAG_DATA","GLSL_FRAG_DEPTH","GLSL_DERIVATIVES","GLSL_TEXTURE_LOD","compiledGlslExtensions","canCompileGLGSExtension","extensionName","behavior","shader","createShader","compileShader","canCompile","getShaderParameter","deleteShader","getFeature","isWebGL2","transpileShader","targetGLSLVersion","convertVertexShaderTo300","convertFragmentShaderTo300","convertVertexShaderTo100","outputMatch","FS_OUTPUT_REGEX","outputName","convertFragmentShaderTo100","_SHADER_TYPE","_UNIFORM_SETTERS","INJECT_SHADER_DECLARATIONS","SHADER_TYPE","assembleShaders","assembleShader","assembleGetUniforms","_ref$hookFunctions","hookFunctions","_ref$transpileToGLSL","transpileToGLSL100","_ref$prologue","prologue","sourceLines","glslVersion","versionLine","coreSource","allDefines","getDefines","assembledSource","getShaderName","getShaderType","gpuVendor","identifyGPUVendor","getContextInfo","getPlatformShaderDefines","isFragment","versionDefines","getVersionDefines","sourceText","define","getApplicationDefines","_hook$split","trim","_hook$split2","signature","normalizeHookFunctions","hookInjections","declInjections","mainInjections","hash","checkDeprecations","getModuleSource","_match","injectionType","hookName","hookFunction","header","footer","getHookFunctions","moduleUniforms","UNIFORM_SETTERS","getArraySetter","toFloatArray","setVectorUniform","toIntArray","setMatrixUniform","getSamplerSetter","toUIntArray","FLOAT_ARRAY","INT_ARRAY","UINT_ARRAY","array1","toTypedArray","uniformLength","parseUniformName","getUniformSetter","checkUniformValues","uniformMap","uniformName","checkUniformValue","checkLength","checkUniformArray","copyUniform","dest","uniform1i","uniformSetter","cacheLength","arrayValue","defaultName","SHADER_NAME_REGEXP","parseGLSLCompilerError","errLog","shaderType","shaderName","errorStrings","errors","warnings","shaderDescription","getShaderTypeName","errorString","segments","delim","maxDigits","lineNumber","digits","padLeft","addLineNumbers","formatErrors","column","substring","_COMPOSITE_GL_TYPES","Shader","getTypeName","_compile","getShaderSource","getTranslatedShaderSource","startsWith","compileStatus","infoLog","getShaderInfoLog","_parseGLSLCompilerErr","getSource","_Shader","VertexShader","_Shader2","FragmentShader","COMPOSITE_GL_TYPES","getPrimitiveDrawMode","drawMode","decomposeCompositeGLType","compositeGLType","typeAndSize","_typeAndSize","components","getCompositeGLType","_COMPOSITE_GL_TYPES$g","compType","compComponents","ProgramConfiguration","attributeInfos","attributeInfosByName","attributeInfosByLocation","varyingInfos","varyingInfosByName","_readAttributesFromProgram","_readVaryingsFromProgram","attributeInfo","getAttributeInfo","getProgramParameter","_gl$getActiveAttrib","getActiveAttrib","getAttribLocation","_addAttribute","_gl$getTransformFeedb","getTransformFeedbackVarying","_addVarying","compositeType","_decomposeCompositeGL","_inferProperties","_decomposeCompositeGL2","V6_DEPRECATED_METHODS","Program","_isCached","_setId","_props$bufferMode","bufferMode","_textureUniforms","_texturesRenderable","transformFeedbackVaryings","_compileAndLink","_readUniformLocationsFromLinkedProgram","setUniforms","logPriority","_ref$drawMode","_ref$isIndexed","_ref$indexType","indexType","_ref$instanceCount","instanceCount","_ref$isInstanced","_ref$vertexArray","vertexArray","samplers","priority","fb","_areTexturesRenderable","bindForDraw","_bindTextures","drawElementsInstanced","drawRangeElements","drawElements","drawArraysInstanced","drawArrays","_uniformSetters","uniform","textureUpdate","textureIndex","_textureIndexCounter","createProgram","deleteProgram","shaderHandles","getAttachedShaders","shaderHandle","programName","_getName","getName","attachShader","linkProgram","timeEnd","validateProgram","getProgramInfoLog","_uniformCount","getActiveUniform","_parseUniformName","getUniformLocation","uniformIndices","getActiveUniforms","blockName","getUniformBlockIndex","blockIndex","getActiveUniformBlockParameter","blockBinding","uniformBlockBinding","ProgramManager","_programCache","_getUniforms","_registeredModules","_hookFunctions","_defaultModules","_hashes","_hashCounter","stateHash","_useCounts","defaultProgramManager","moduleName","_props$vs","_props$fs","_props$defines","_props$inject","_props$varyings","_props$transpileToGLS","_getModuleList","vsHash","_getHash","fsHash","moduleHashes","varyingHashes","defineKeys","injectKeys","defineHashes","injectHashes","assembled","appModules","_name","getScratchArray","getBrowser","ERR_ELEMENTS","VertexArrayObject","bufferValue","isDefaultArray","constantAttributeZero","defaultVertexArray","MAX_ATTRIBUTES","_setConstantFloatArray","_setConstantIntArray","_setConstantUintArray","elementBuffer","setElementBuffer","vertexAttribIPointer","vertexAttribDivisor","_enable","disablingAttributeZero","_normalizeConstantArrayValue","updateNeeded","_compareConstantArrayValues","v1","v2","deleteVertexArray","elements","bindVertexArray","getVertexAttribOffset","getMaxAttributes","vertexAttrib1fv","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttribI1iv","vertexAttribI2iv","vertexAttribI3iv","vertexAttribI4iv","vertexAttribI1uiv","vertexAttribI2uiv","vertexAttribI3uiv","vertexAttribI4uiv","MULTI_LOCATION_ATTRIBUTE_REGEXP","DEPRECATIONS_V6","VertexArray","elementsAccessor","drawParams","vertexArrayObject","setAttributes","_updateDrawParams","_setAttribute","clearDrawParams","appAccessor","_this$_resolveLocatio","_resolveLocationAndAccessor","_this$_resolveLocatio2","_setConstantAttributes","valueAccessor","_this5","_this$_getAttributeIn","_getAttributeIndex","accessInfo","_getAttributeInfo","currentAccessor","attributeName","multiLocation","exec","locationOffset","getAttributeLocation","setConstant","_accessor","_setConstantAttributeZero","_setConstantAttribute","getConstantBuffer","indexCount","_updateDrawParamsForLocation","indexOffset","getVertexCount","formatArrayValue","_opts$maxElts","maxElts","_opts$size","formatValue","terminator","EPSILON","_opts$isInteger","isInteger","toFixed","toPrecision","decimal","getDebugTableRow","verts","_buffer$getDebugData","getDebugData","modified","getGLSLDeclaration","typeAndName","getDebugTableForUniforms","_ref$header","_ref$undefinedOnly","undefinedOnly","SHADER_MODULE_UNIFORM_REGEXP","PROJECT_MODULE_UNIFORM_REGEXP","uniformLocations","uniformNames","_uniformName","addUniformToTable","_uniformName2","_uniformName3","unusedCount","unusedTable","_table$uniformName","isDefined","isUniformDefined","_attributeInfo$access","ownKeys","GLTF_TO_LUMA_ATTRIBUTE_MAP","POSITION","NORMAL","COLOR_0","TEXCOORD_0","TEXCOORD_1","TEXCOORD_2","mapAttributeName","_ref$attributeMap","attributeMap","inferAttributeAccessor","category","NOOP","DRAW_PARAMS","Model","lastLogTime","programManager","getDefaultProgramManager","_programManagerState","_managedProgram","_props$program","programProps","_programDirty","_attributes","pickable","_checkProgram","moduleSettings","geometryBuffers","_setModelProps","geometry","_deleteGeometryBuffers","indices","remappedName","getBuffersFromGeometry","normalizedAttributes","getValue","_opts$moduleSettings","_opts$uniforms","_opts$attributes","_opts$transformFeedba","_opts$parameters","_opts$vertexArray","updateModuleSettings","_logDrawCallStart","getDrawParams","_this$props","_this$props$isIndexed","_this$props$indexType","_this$props$indexOffs","_this$props$vertexArr","vertexArrayInstanced","_this$props2","_this$props2$onBefore","onBeforeRender","_this$props2$onAfterR","onAfterRender","didDraw","draw","getDrawMode","_logDrawCallEnd","_opts$discard","_opts$unbindModels","unbindModels","_setFeedbackBuffers","unbindBuffers","bindBuffers","setGeometry","_feedbackBuffers","_this$programProps","animationProps","animated","animatedUniforms","_evaluateAnimateUniforms","logDrawTimeout","group","collapsed","attributeTable","ELEMENT_ARRAY_BUFFER","attributeLocation","rowHeader","getDebugTableForVertexArray","_getDebugTableForUnif","uniformTable","_getDebugTableForUnif2","missingTable","configTable","glslDeclaration","varyingInfo","_glslDeclaration","getDebugTableForProgramConfiguration","groupEnd","Transform","bufferTransform","textureTransform","_opts$clearRenderTarg","clearRenderTarget","updatedOpts","_updateDrawOptions","swapped","resourceTransforms","resourceTransform","swap","setVertexCount","_buildResourceTransforms","_updateModelProps","setupResources","updatedProps","updateModelProps","canCreateBufferTransform","canCreateTextureTransform","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","getDrawOptions","DEFAULT_SETTINGS","onStart","onUpdate","onInterrupt","onEnd","Transition","timeline","_inProgress","removeChannel","addChannel","delay","getTime","_onUpdate","isFinished","GPUInterpolationTransition","attributeInTransition","currentStartIndices","currentLength","attributeType","ATTRIBUTE_TYPE","getTransform","bufferOpts","transitionSettings","padBufferOpts","enter","aFrom","aTo","vCurrent","_this$transition","_this$transition$sett","inProgress","TRANSITION_TYPES","GPUSpringTransition","getTexture","aPrev","aCur","vNext","depthTest","blend","blendFunc","blendEquation","AttributeTransitionManager","transitions","_removeTransition","_ref2$transitions","getTransitionSetting","_updateAttribute","_attributeName","_attribute","animatedAttributes","isNew","TransitionType","AttributeManager","_ref$id","updateTriggers","attributeTransitionManager","finalize","clearRedrawFlags","updaters","_add","attributeNameArray","triggerName","_invalidateTrigger","setNeedsUpdate","_ref2$startIndices","_ref2$props","_ref2$buffers","_ref2$context","timeStart","accessorName","setExternalBuffer","setBinaryValue","setConstantValue","transitionUpdated","changedAttributes","getAttributes","hasAttribute","excludeAttributes","getShaderAttributes","extraProps","newAttributes","newAttribute","_createAttribute","_mapUpdateTriggersToAttributes","triggers","getUpdateTriggers","invalidatedAttributes","updateBuffer","_Transition","CPUInterpolationTransition","fromValue","toValue","updateSpringElement","cur","velocity","distanceSquare","d","sqrt","CPUSpringTransition","_this$_prevValue","_prevValue","_this$_currValue","_currValue","nextValue","updateSpring","delta","UniformTransitionManager","propsInTransition","LIFECYCLE","PROP_SYMBOLS","COMPONENT","ASYNC_DEFAULTS","ASYNC_ORIGINAL","ASYNC_RESOLVED","propsChangedReason","compareProps","getPropTypes","ignoreProps","dataChangedReason","dataChanged","dataComparator","_dataDiff","diffDataProps","updateTriggersChangedReason","diffUpdateTrigger","triggerChanged","diffUpdateTriggers","propsChanged","updateTriggersChanged","extensionsChanged","diffExtensions","transitionsChanged","diffTransitions","comparePropValues","_ref$ignoreProps","_ref$propTypes","_ref$triggerName","_Object$keys2","_changed","newProp","oldProp","equal","equals","oldExtensions","newTriggers","oldTriggers","LayerType","_propTypes","isPlainObject","mergeShaders","mergedInjection","transformVector","matrix","modulus","lerp","PI","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","zoomToScale","scaleToZoom","log2","lngLatToWorld","lng","lat","phi2","tan","worldToLngLat","lambda2","atan","_ref6$highPrecision","highPrecision","latCosine","cos","unitsPerDegreeY","altUnitsPerMeter","metersPerUnit","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","lngLatZ","xyz","_lngLatZ","z0","_xyz","z","_getDistanceScales","worldspace","newLngLat","newZ","getViewMatrix","_ref7$center","vm","vec3","getProjectionParameters","_ref8$altitude","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","pitchRadians","halfFov","topHalfSurfaceDistance","sin","fov","aspect","near","far","getProjectionMatrix","_getProjectionParamet","worldToPixels","pixelProjectionMatrix","_xyz2","_xyz2$","pixelsToWorld","pixelUnprojectionMatrix","targetZ","_xyz3","coord","coord0","coord1","z1","vec2","bounds","_ref$minExtent","minExtent","_ref$maxZoom","_ref$padding","_bounds","_bounds$","west","south","_bounds$2","east","north","top","bottom","left","right","nw","project","se","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unproject","_Viewport","WebMercatorViewport","_ref$latitude","_ref$longitude","_ref$zoom","_ref$nearZMultiplier","_ref$farZMultiplier","lngLat","xy","fromLocation","pos","toLocation","translate","getMapCenterByLngLatPosition","_fitBounds2","Viewport","_ref$viewMatrix","_ref$projectionMatrix","vpm","mInverse","projectFlat","unprojectFlat","_ref2$topLeft","topLeft","worldPosition","_coord","y2","_ref3$topLeft","targetZWorld","_this$unprojectPositi","_this$unprojectPositi2","X","Y","Z","_this$projectFlat","_this$projectFlat2","_this$unprojectFlat","_this$unprojectFlat2","normalizeViewportProps","flatViewport","topY","bottomY","shiftY","VIEWPORT_TRANSITION_PROPS","DEFAULT_OPTS","curve","speed","getFlyToTransitionParams","startProps","endProps","rho","startZoom","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w0","w1","u1","_u1","rho2","b0","b1","r0","r1","lngLatZToWorldPosition","_lngLatZ$","_viewport$projectFlat","_viewport$projectFlat2","getWorldPosition","_position","_vec4$transformMat","_vec4$transformMat2","_normalizeParameters","normalizedParams","fromCoordinateSystem","fromCoordinateOrigin","normalizeParameters","optional","arrayEqual","valueType","compare","array2","normalizePropDefinition","createProps","propsPrototype","getPropsPrototype","propsInstance","componentClass","getOwnProperty","parentClass","parentDefaultProps","componentPropDefs","_Object$entries","_Object$entries$_i","deprecatedFor","parentProps","componentName","getComponentName","createPropsPrototype","defaultValues","descriptors","async","getDescriptorForAsyncProp","addAsyncPropsToPropPrototype","_deprecatedProps","newValue","nameStr","newPropName","addDeprecatedPropsToPropPrototype","_mergedDefaultProps","createPropsPrototypeAndTypes","internalState","hasAsyncProp","getAsyncProp","prop","_asyncIterator","EMPTY_PROPS","ComponentState","asyncProps","onAsyncPropUpdated","oldAsyncProps","_resolveAsyncIterable2","asyncProp","resolvedValue","pendingLoadCount","resolvedLoadCount","isAsyncPropLoading","resolvedValues","originalValues","_createAsyncPropData","_updateAsyncProp","_value2","_didAsyncInputValueChange","fetch","_watchPromise","_resolveAsyncIterable","_setPropValue","lastValue","loadCount","freezeAsyncOldProps","_postProcessValue","_setAsyncPropValue","onDataLoad","t0","finish","_x2","previousValue","dataTransform","counter","Component","lifecycle","parent","_ComponentState","LayerState","attributeManager","subLayers","isBoolean","isFunction","isIterable","isResponse","Response","arrayBuffer","text","json","Blob","isReadableStream","ReadableStream","tee","getReader","isReadableDOMStream","read","pipe","readable","isReadableNodeStream","fileAliases","resolvePath","filename","alias","FileReadableResponse","fileOrBlob","_fileOrBlob","bodyUsed","_json","_text","_arrayBuffer","_this$_getFileReader","reader","_getFileReader","readAsArrayBuffer","abrupt","_callee2","_this$_getFileReader2","_context2","readAsText","_callee3","_context3","FileReader","onabort","Headers","fetchFileReadable","getErrorMessageFromResponse","_getErrorMessageFromResponse","statusText","t1","fetchFile","_fetchFile","_args","ok","isLoaderObject","loader","hasParser","parseTextSync","parseSync","parseStream","parseInBatches","loaderOptions","workerUrl","normalizeLoader","binary","validateLoaderVersion","coreVersion","loaderVersion","parseVersion","parts","major","minor","NullLog","DEFAULT_LOADER_OPTIONS","CDN","worker","ConsoleLog","_this$console$log","_this$console$info","_this$console$warn","_len3","_key3","_this$console$error","_len4","_key4","metadata","globalOptions","mergeOptions","topOptions","validateLoaderOptions","mergeOptionsInternal","idOptions","deprecatedOptions","defaultOptions","mergedOptions","baseUri","addUrlOptions","mergeNestedFields","_marked","makeStringIterator","_options$chunkSize","chunkSize","textEncoder","chunkLength","TextEncoder","encode","makeArrayBufferIterator","chunkByteLength","sourceArray","_AwaitValue","wrapped","_awaitAsyncGenerator","AsyncGenerator","front","back","resume","wrappedAwait","settle","_invoke","_wrapAsyncGenerator","makeBlobIterator","_makeBlobIterator","file","readFileSlice","_readFileSlice","fileReader","onloadend","makeStreamIterator","stream","getIterator","_makeBrowserStreamIterator","makeBrowserStreamIterator","_makeNodeStreamIterator","makeNodeStreamIterator","_yield$_awaitAsyncGen","releaseLock","_readableState","ended","onceReadable","_x3","_onceReadable","makeIterator","concatenateArrayBuffers","source1","source2","sourceArray1","sourceArray2","concatenateChunksAsync","_concatenateChunksAsync","checkFetchResponseStatus","_checkFetchResponseStatus","errorMessage","ERR_DATA","getUrlFromData","getArrayBufferOrStringFromDataSync","TextDecoder","decode","getArrayBufferOrStringFromData","_getArrayBufferOrStringFromData","getLoaderContext","previousContext","loaders","getLoaders","candidateLoaders","contextLoaders","workerURLCache","buildScript","getTransferList","recursive","transfers","transfersSet","Set","isTransferable","MessagePort","OffscreenCanvas","defaultOnMessage","WorkerThread","_ref2$name","onMessage","workerSource","endsWith","workerURL","blob","URL","createObjectURL","getWorkerURL","Worker","_process","onmessage","lineno","colno","betterError","transferList","postMessage","terminate","WorkerPool","_ref$name","_ref$maxConcurrency","maxConcurrency","_ref$onDebug","onDebug","jobQueue","idleQueue","isDestroyed","destroy","jobName","_startQueuedJob","_getAvailableWorker","job","backlog","_onWorkerDone","WorkerFarm","workerPools","workerPool","workerName","_getWorkerPool","toArrayBuffer","canParseWithWorker","localWorkerUrl","useWorker","parseWithWorker","workerFarm","_workerFarm","onWorkerMessage","getWorkerFarm","warning","arraybuffer","_onWorkerMessage","DATA_URL_PATTERN","MIME_TYPE_PATTERN","parseMIMETypeFromURL","dataUrl","QUERY_STRING_PATTERN","getResourceUrlAndType","resource","contentType","mimeString","parseMIMEType","urlType","stripQueryString","_createForOfIteratorHelper","allowArrayLike","_arrayLikeToArray","_e","normalCompletion","didErr","_e2","arr2","registeredLoaders","getRegisteredLoaders","EXT_PATTERN","selectLoader","normalizeLoaders","_getResourceUrlAndTyp","findLoaderByUrl","findLoaderByContentType","findLoaderByExamingInitialData","nothrow","getNoValidLoaderMessage","getMagicString","getFirstCharacters","findLoaderByExtension","mimeType","mimeTypes","testText","testBinary","dataView","magic","fromCharCode","_x4","_parse","autoUrl","parseWithLoader","_x5","_x6","_x7","_x8","_parseWithLoader","_load","pickingColorCache","__diff","load","getLoadOptions","opacity","onHover","onClick","onDragStart","onDrag","onDragEnd","positionFormat","colorFormat","getPolygonOffset","layerIndex","highlightedObjectIndex","autoHighlight","highlightColor","_Component","Layer","layerName","updateObject","setChangeFlags","stateChanged","layerManager","_getNeedsRedraw","hasUniformTransition","shouldUpdateState","_getUpdateParams","uniformTransitions","active","models","loadOptions","_worldToPixels","_worldToPixels2","pickingEvent","_color","shaders","getShaders","changeFlags","propsOrDataChanged","getAttributeManager","invalidateAll","getModels","mode","invalidate","_setModelAttributes","getNumInstances","getStartIndices","ignoreUnknownAttributes","getChangedAttributes","updateAttributes","updateTransition","cacheSize","newCacheSize","pickingColor","encodePickingColor","_this$getAttributeMan","pickingColors","instancePickingColors","colors","decodePickingColor","_this$getAttributeMan2","updateSubBuffer","_initState","initializeState","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_updateState","stateNeedsUpdate","currentProps","_updateUniformTransition","updateParams","updateState","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_updateModules","isComposite","_renderLayers","_updateAttributes","setInstanceCount","clearChangeFlags","resetOldProps","finalizeState","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_ref7$moduleParameter","moduleParameters","_ref7$uniforms","_ref7$parameters","_updateAttributeTransition","setModuleParameters","offsets","polygonOffset","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","flags","somethingChanged","invalidateAttribute","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","getOldProps","attributeManagerNeedsRedraw","getNeedsRedraw","_getAttributeManager","addInstanced","calculateInstancePickingColors","_onAsyncPropUpdated","setAsyncProps","oldLayer","diffProps","DRAW_MODE","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","Geometry","_props$drawMode","_props$attributes","_props$indices","_props$vertexCount","_setAttributes","_calculateVertexCount","_print","DEFAULT_COLOR","radiusScale","radiusMinPixels","radiusMaxPixels","lineWidthUnits","lineWidthScale","lineWidthMinPixels","lineWidthMaxPixels","stroked","filled","getPosition","getRadius","getFillColor","getLineColor","getLineWidth","strokeWidth","getColor","_Layer","ScatterplotLayer","project32","instancePositions","use64bitPositions","instanceRadius","instanceFillColors","instanceLineColors","instanceLineWidths","setState","_getModel","widthMultiplier","metersPerPixel","positions","channelHandles","animationHandles","Timeline","animations","playing","lastEngineTime","_props$delay","_props$duration","POSITIVE_INFINITY","_props$rate","rate","_props$repeat","channel","_setChannelTime","animationHandle","detachAnimation","animationData","animation","_channel","setTime","channelHandle","engineTime","offsetTime","DEFAULT_DISTANCE_SCALES","_opts$id","_opts$x","_opts$y","_opts$width","_opts$height","displayName","_frustumPlanes","_initViewMatrix","_initProjectionMatrix","_initPixelMatrices","_ref$topLeft","_this$projectionProps","projectionProps","fovyRadians","direction","up","nearFarScale","normalize","widthScale","nearHeight","nearWidth","normal","clone","negate","distance","dot","planes","cross","orthographic","fovy","perspective","_opts$viewMatrix","_opts$longitude","_opts$latitude","_opts$zoom","_opts$position","_opts$modelMatrix","_opts$focalDistance","_opts$distanceScales","getMeterZoom","meterOffset","_getCenterInWorld","multiplyRight","center2d","commonPosition","_opts$projectionMatri","_opts$orthographic","_opts$fovy","_opts$near","_opts$far","_opts$focalDistance2","_createProjectionMatrix","viewMatrixInverse","_extractCameraVectors","eye","viewportMatrix","DEFAULT_MODULES","SHADER_HOOKS","createProgramManager","shaderModule","addDefaultModule","shaderHook","addShaderHook","INITIAL_CONTEXT","deck","shaderCache","pickingFBO","mousePosition","LayerManager","_ref$viewport","_ref$timeline","lastRenderedLayers","layers","_needsRedraw","_needsUpdate","_debug","_onError","activateViewport","_finalizeLayer","layerNeedsRedraw","_ref2$layerIds","layerIds","layerId","setLayers","newLayers","forceUpdate","shouldUpdate","_updateLayers","oldViewport","_updateLayer","oldLayers","oldLayerMap","generatedLayers","_updateSublayersRecursively","_finalizeOldLayers","_generatedLayers","newLayer","sublayers","validateProps","_transferLayerState","_initializeLayer","getSubLayers","_handleError","_transferState","_finalize","deepEqual","aValue","bValue","ViewManager","views","controllers","_viewports","_viewportMap","_isUpdating","_eventManager","eventManager","_eventCallbacks","onViewStateChange","onInteractiveStateChange","viewId","controller","rect","containsPixel","viewMap","viewOrViewId","getView","getViewStateId","filterViewState","viewports","getViewports","pixel","p","_setViews","_setViewState","_setSize","_rebuildViewports","_diffViews","Controller","_onViewStateChange","onStateChange","controllerProps","_createController","oldControllers","getViewState","makeViewport","_updateController","_buildViewportMap","newViews","oldViews","PERCENT_OR_PIXELS_REGEX","parsePosition","relative","extent","View","_props$x","_props$y","_props$width","_props$height","_props$projectionMatr","_props$fovy","_props$near","_props$far","_props$modelMatrix","_props$viewportInstan","viewportInstance","_props$type","_parseDimensions","viewportDimensions","getDimensions","_getViewport","_y","_width","_height","defaultOpts","ViewportType","_opts$pitch","_opts$bearing","_opts$nearZMultiplier","_opts$farZMultiplier","_opts$repeat","_opts$worldOffset","worldOffset","_opts$altitude","viewOffset","multiplyLeft","viewportOpts","_subViewports","newCenter","topRight","bottomLeft","bottomRight","minLon","maxLon","minOffset","maxOffset","offsetViewport","TransitionInterpolator","extract","required","_opts","_propsToCompare","_propsToExtract","_requiredProps","nextProps","startViewStateProps","endViewStateProps","_checkRequiredProps","transitionDuration","_TransitionInterpolat","LinearInterpolator","transitionProps","TRANSITION_EVENTS","DEFAULT_PROPS","transitionEasing","transitionInterpolator","transitionInterruption","onTransitionStart","onTransitionInterrupt","onTransitionEnd","TransitionManager","ControllerState","_onTransitionUpdate","transitionTriggered","_shouldIgnoreViewportChange","_isTransitionEnabled","interruption","_triggerTransition","interpolator","arePropsEqual","_isUpdateDueToCurrentTransition","startViewstate","shortestPathFrom","getDuration","initialProps","initializeProps","_onTransitionEnd","_transition$settings","interpolateProps","getViewportProps","interactionState","inTransition","NO_TRANSITION_PROPS","EVENT_TYPES","controllerState","controllerStateProps","transitionManager","_events","_state","isDragging","_customEvents","invertPan","handleEvent","eventName","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onDoubleTap","_onWheel","_onKeyDown","_this$controllerState","offsetCenter","_this$controllerState2","handled","inside","stopPropagation","srcEvent","metaKey","altKey","ctrlKey","shiftKey","toggleEvents","processViewStateChange","_props$scrollZoom","scrollZoom","_props$dragPan","dragPan","_props$dragRotate","dragRotate","_props$doubleClickZoo","doubleClickZoom","_props$touchZoom","touchZoom","_props$touchRotate","touchRotate","_props$keyboard","keyboard","isInteractive","eventNames","newControllerState","getInteractiveState","getCenter","isPointInBounds","panStart","rotateStart","updateViewport","alternateMode","isFunctionKeyPressed","rightButton","_onPanMove","_onPanRotate","panEnd","rotateEnd","isPanning","isRotating","pan","deltaX","deltaY","_this$controllerState3","deltaScaleX","deltaScaleY","rotate","preventDefault","isZooming","zoomStart","startPinchRotation","rotation","zoomEnd","isZoomOut","_getTransitionProps","funcKey","keyCode","zoomOut","zoomIn","rotateLeft","moveLeft","rotateRight","moveRight","rotateUp","moveUp","rotateDown","moveDown","customEvents","ViewState","_viewportProps","_applyConstraints","LINEAR_TRANSITION_PROPS","MAPBOX_LIMITS","DEFAULT_STATE","_ViewState","MapState","_ref$minZoom","minZoom","_ref$maxPitch","maxPitch","_ref$minPitch","minPitch","startPanLngLat","startZoomLngLat","startBearing","startPitch","_interactiveState","_getUpdatedState","_unproject","startPos","_this$_calculateNewLn","_calculateNewLngLat","_this$_calculateNewLn2","_ref5$deltaScaleX","_ref5$deltaScaleY","_this$_interactiveSta","_this$_calculateNewPi","_calculateNewPitchAndBearing","_this$_interactiveSta2","_calculateNewZoom","_zoomedViewport$getMa","_zoomedViewport$getMa2","_zoomFromCenter","_panFromCenter","fromProps","_this$_viewportProps","_this$_viewportProps2","_this$_viewportProps3","_this$_viewportProps4","_Controller","MapController","_this$getCenter","centerY","startY","_View","MapView","_getControllerProps","DEFAULT_LIGHT_COLOR","idCount","AmbientLight","_props$color","_props$intensity","intensity","DEFAULT_LIGHT_DIRECTION","DirectionalLight","_props$direction","_props$_shadow","_shadow","shadow","Effect","_Pass","LayersPass","_drawLayers","onViewportActive","_props$clearCanvas","clearCanvas","clearGLCanvas","renderStats","viewportOrDescriptor","subViewports","subViewport","_drawLayersInViewport","layerFilter","_ref$pass","pass","effects","glViewport","dimensions","pixelRatio","getGLViewport","clearOpts","scissorTest","scissor","renderStatus","totalCount","visibleCount","compositeCount","pickableCount","indexResolver","layerIndexResolver","layerIndices","resolvers","isDrawn","indexOverride","_offset","parentId","resolver","shouldDrawLayer","_shouldDrawLayer","layerRenderIndex","_moduleParameters","_getModuleParameters","layerParameters","getLayerParameters","drawLayer","isPicking","renderPass","effect","getModuleParameters","Pass","_LayersPass","ShadowPass","shadowMap","depthBuffer","fbo","depthRange","shadowEnabled","drawToShadowMap","getMemoizedViewportCenterPosition","invert","getMemoizedViewProjectionMatrices","shadowMatrices","projectionMatrices","farZ","corners","screenToCommonSpace","shadowMatrix","corner","ortho","DEFAULT_SHADOW_COLOR","createShadowUniforms","shadow_uDrawShadowMap","shadow_uUseShadowMap","shadowMaps","shadow_uColor","shadowColor","shadow_uLightId","shadowLightId","shadow_uLightCount","projectCenters","viewProjectionMatrices","viewProjectionMatrixCentered","dummyShadowMap","shadowUniforms","_opts$shadowEnabled","DEFAULT_AMBIENT_LIGHT_PROPS","DEFAULT_DIRECTIONAL_LIGHT_PROPS","_Effect","LightingEffect","ambientLight","directionalLights","pointLights","shadowPasses","lightSource","_applyDefaultLights","light","_createLightMatrix","_createShadowPasses","render","lightSources","directionalLight","getProjectedLight","pointLight","removeDefaultModule","lightMatrices","lookAt","shadowPass","DEFAULT_LIGHTING_EFFECT","EffectManager","_internalEffects","setEffects","cleanup","_createInternalEffects","DrawLayersPass","PICKING_PARAMETERS","PickLayersPass","_drawPickingBuffer","_ref$deviceRect","deviceRect","redrawReason","pickZ","depthMask","colorMask","pickParameters","blendColor","DeckRenderer","drawPickingColors","drawLayersPass","pickLayersPass","renderCount","renderBuffers","lastPostProcessEffect","layerPass","getDefaultFramebuffer","_preRender","outputBuffer","_postRender","preRender","postRender","_resizeRenderBuffers","inputBuffer","swapBuffer","NO_PICKED_OBJECT","pickedColor","pickedLayer","pickedObjectIndex","getClosestObject","pickedColors","deviceX","deviceY","deviceRadius","minSquareDistanceToCenter","closestPixelIndex","dy","dy2","col","dx","d2","_pickedLayerIndex","_dy","pickedX","pickedY","processPickInfo","pickInfo","lastPickedInfo","affectedLayers","lastPickedObjectIndex","lastPickedLayerId","pickedLayerId","lastPickedLayer","coordinate","baseInfo","picked","devicePixel","infos","getLayerPickingInfo","pickingModuleParameters","sourceLayer","getPickingInfo","DeckPicker","depthFBO","_pickClosestObject","_pickVisibleObjects","pickableLayers","isPickable","_ref2$radius","radius","_ref2$mode","unproject3D","_getPickable","_resizeBuffer","devicePixelRange","_this$pickingFBO","_getPickingRect","deviceWidth","deviceHeight","_drawAndSample","clearPickingColor","_layerId","restorePickingColors","emptyInfo","_ref3$mode","leftTop","deviceLeft","deviceTop","rightBottom","deviceRight","deviceBottom","pickInfos","uniqueColors","pickedLayerIndex","colorKey","getUniqueObjects","uniqueInfos","defaultStyle","zIndex","pointerEvents","backgroundColor","Tooltip","canvasParent","parentElement","el","displayInfo","innerText","innerHTML","html","_parseImageNode","IMAGE_SUPPORTED","IMAGE_BITMAP_SUPPORTED","NODE_IMAGE_SUPPORTED","DATA_SUPPORTED","getImageType","getImageTypeOrNull","getImageData","drawImage","SVG_DATA_URL_PATTERN","SVG_URL_PATTERN","isSVG","getBlobOrSVGDataUrl","xmlText","btoa","getBlob","parseToImage","_parseToImage","blobOrDataUrl","objectUrl","webkitURL","loadToImage","revokeObjectURL","_loadToImage","EMPTY_OBJECT","imagebitmapOptionsSupported","parseToImageBitmap","_parseToImageBitmap","imagebitmapOptions","imagebitmap","safeCreateImageBitmap","_safeCreateImageBitmap","_args2","isEmptyObject","createImageBitmap","getBinaryImageMetadata","binaryData","toDataView","getPngMetadata","_getJpegMarkers","tableMarkers","sofMarkers","getJpegMarkers","getJpegMetadata","getGifMetadata","getBmpMetadata","parseToNodeImage","_parseImage","imageOptions","imageType","loadType","getLoadableImageType","getDefaultImageType","isImageTypeSupported","firstChar","lastChar","existingVersion","_registerLoggers","normalizedLoader","registeredLoader","registerLoaders","Query","_queryPending","_pollingPromise","hasTimerQuery","_ref$conservative","conservative","beginQuery","endQuery","resultAvailable","getQueryParameter","getResult","requestAnimationFrame","poll","isResultAvailable","createQuery","deleteQuery","timerId","cancelAnimationFrame","PointerEventInput","oldHandler","statIdCounter","AnimationLoop","_props$onCreateContex","onCreateContext","_props$onAddHTML","onAddHTML","_props$onInitialize","onInitialize","_props$onRender","onRender","_props$onFinalize","onFinalize","_props$gl","_props$glOptions","glOptions","_props$debug","_props$createFramebuf","_props$autoResizeView","autoResizeViewport","_props$autoResizeDraw","autoResizeDrawingBuffer","_props$stats","_props$useDevicePixel","useDevicePixels","useDevicePixelRatio","cpuTime","gpuTime","frameRate","_initialized","_running","_animationFrameId","_nextFramePromise","_resolveNextFrame","_cpuStartTime","_pageLoadPromise","_onMousemove","_onMouseleave","_toDataURL","_setDisplay","startPromise","_getPageLoadPromise","_createWebGLContext","_createFramebuffer","_startEventHandling","_initializeCallbackData","_updateCallbackData","_resizeCanvasDrawingBuffer","_resizeViewport","_gpuTimeQuery","appContext","_addCallbackData","_startLoop","_beginTimers","_setupFrame","_renderFrame","_clearNeedsRedraw","offScreen","commit","_endTimers","_finalizeCallbackData","waitForRender","_this$props3","_this$props4","element","_requestAnimationFrame","renderFrame","animationLoop","renderFrameCallback","_this$display","_onSetupFrame","_resizeFramebuffer","startTime","tick","tock","_timeline","_animationLoop","_mousePosition","_this$_getSizeAndAspe","_getSizeAndAspect","_offScreen","_createInfoDiv","wrapperDiv","div","background","resizeGLContext","isTimerDisjoint","getTimerMilliseconds","beginTimeElapsedQuery","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","ev","button","predict","pointerId","MouseInput","pressed","which","manager","pointers","changedPointers","pointerType","Manager","RECOGNIZERS","Rotate","Pinch","Swipe","Pan","threshold","Press","Tap","taps","RECOGNIZER_COMPATIBLE_MAP","pinch","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","pointerdown","pointermove","pointerup","touchstart","touchmove","touchend","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","panup","pandown","panleft","panright","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","anyclick","dblclick","mouseover","mouseout","mouseleave","firefox","WHEEL_EVENTS","WheelInput","events","passive","WheelEvent","deltaMode","DOM_DELTA_PIXEL","DOM_DELTA_LINE","wheelPosition","clientX","clientY","MOUSE_EVENTS","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","KeyInput","enableDownEvent","enableUpEvent","tabIndex","targetElement","srcElement","tagName","ContextmenuInput","DEFAULT_OPTIONS","EventRegistrar","handlersByElement","_active","entry","mjolnirEvent","_normalizeEvent","rootElement","_emit","parentNode","immediatePropagationStopped","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_event$srcEvent","buttons","leftButton","middleButton","whichButtons","getBoundingClientRect","offsetWidth","offsetHeight","clientLeft","clientTop","getOffsetPosition","recognizers","recognizerOptions","touchAction","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","recognizerName","recognizer","otherName","recognizeWith","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","otherRecognizer","requireFailure","dropRequireFailure","enableEventType","isRecognizerUsed","eh","pickingRadius","_framebuffer","_animate","onWebGLInitialized","onResize","_onMetrics","getCursor","Deck","viewManager","effectManager","deckRenderer","deckPicker","_pickRequest","_lastPointerDownInfo","interactiveState","_onEvent","_onPointerDown","_onPointerMove","_pickAndCallback","_onRendererInitialized","_onRenderFrame","_onInteractiveStateChange","initialViewState","_createCanvas","_createAnimationLoop","metrics","fps","setPropsTime","updateAttributesTime","framesRedrawn","pickTime","pickCount","gpuTimePerFrame","cpuTimePerFrame","bufferMemory","textureMemory","renderbufferMemory","gpuMemory","_metricsCounter","tooltip","removeChild","_setCanvasSize","resolvedProps","_getViews","viewManagerNeedsRedraw","layerManagerNeedsRedraw","effectManagerNeedsRedraw","deckRendererNeedsRedraw","force","_customRender","_pick","statKey","getLayers","_checkForCanvasSizeChange","_this$_pick","pickedInfo","getTooltip","setTooltip","cursor","polygonOffsetFill","depthFunc","play","attachTimeline","pointerleave","_updateCanvasSize","renderOptions","renderLayers","getViews","getEffects","_setGLContext","_getFrameStats","_getMetrics","_updateCursor","updateLayers","updateViewStates","_ref3$isDragging","eventOptions","getLastPickedObject","layerHandler","rootHandler","pickObject","animationLoopStats","memoryStats","PropTypes","arrayOf","instanceOf","inheritsFrom","ParentType","wrapInView","node","Fragment","extractJSXLayers","reactChildren","jsxLayers","jsxViews","Children","reactElement","ElementType","reactProps","createLayer","MAP_STYLE","evaluateChildren","childProps","componentProps","deckGLViewProps","needsDeckGLViewProps","positionChildrenUnderViews","ContextProvider","defaultViewId","viewChildren","getViewport","_views$viewId","viewElement","contextValue","offsetParent","CANVAS_ONLY_STYLES","mixBlendMode","extractStyles","containerStyle","canvasStyle","_React$Component","DeckGL","_containerRef","createRef","_canvasRef","pickMultipleObjects","pickObjects","_extractJSXLayers","_positionChildrenUnderViews","_extractStyles","DeckClass","current","_updateFromProps","childrenChanged","_parseJSX","viewsChanged","_redrawDeck","_this$_parseJSX","deckProps","_this$_extractStyles","ref","refProps","normalizeStyle","toJS","layerRef","normalizedLayer","clamp","propNames","WRAPPED_ANGULAR_PROPS","isValid","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","_createSuper","Derived","hasNativeReflectConstruct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","ViewportFlyToInterpolator","_super","startViewportProps","endViewportProps","_startValue","_endValue","_getFlyToTransitionPa","w","u","tanh","sinh","scaleIncrement","newZoom","newCenterWorld","flyToViewport","screenSpeed","maxDuration","_getFlyToTransitionPa2","getFlyToDuration","around","aroundLngLat","_WebMercatorViewport$","_WebMercatorViewport$2","_getUpdatedMapState","decapitalize","mapContainer","onViewportChange","NO_TOKEN_WARNING","CONTAINER_STYLE","overflow","preventStyleDiffing","disableTokenWarning","visibilityConstraints","_PureComponent","StaticMap","accessTokenInvalid","queryRenderedFeatures","evt","_mapbox","_mapboxMapRef","_mapboxMapError","getMap","prevProps","_updateMapStyle","_updateMapProps","href","_dimensions$width","_dimensions$height","Consumer","interactiveContext","_mapContainerRef","Provider","mapContainerStyle","constraints","constraintName","checkVisibilityConstraints","visibility","disableWidth","disableHeight","_renderOverlays","_renderNoTokenWarning","_animationFrame","_onTransitionFrame","_updateViewport","_isTransitionInProgress","currentTime","x0","y0","cropEasingFunction","_endTransition","_this$state","shouldEnd","mapState","newState","_onWheelEnd","_arguments","executeNow","debounce","getMapState","_event$offsetCenter","newMapState","extraState","newViewport","viewStateChanged","mapStateProps","_options$eventManager","_options$isInteractiv","_options$scrollZoom","_options$dragPan","_options$dragRotate","_options$doubleClickZ","_options$touchZoom","_options$touchRotate","_options$keyboard","dimensionChanged","_transitionManager","processViewportChange","_this$mapState$getVie","getDeprecatedText","getNewText","checkDeprecatedProps","depProp","warnMessage","onInteractionStateChange","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","clickRadius","interactiveLayerIds","onNativeClick","isHovering","InteractiveMap","isLoaded","_staticMapRef","_interactionState$isD","_updateInteractiveContext","_setControllerProps","callbackName","_getFeatures","point","isEntering","isExiting","callbacks","isDoubleClickEnabled","cb","_controller","_eventCanvasRef","_onPointerUp","_onClick","wheel","contextmenu","_onViewportChange","_onInteractionStateChange","setOptions","_interactiveContext","queryParams","bbox","updatedContext","eventCanvasStyle","_onResize","_onLoad","aKeys","bKeys","_aKeys","isRequired","sourceCounter","Source","_assertThisInitialize","_assertThisInitialize2","sourceOptions","_sourceOptions","changedKey","changedKeyCount","updateImage","coordinates","setCoordinates","_createSource","_updateSource","_loaded","removeSource","addSource","beforeId","diffLayerStyles","_props$layout","_props$paint","paint","minzoom","maxzoom","otherProps","excluded","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_objectWithoutProperties","moveLayer","setLayoutProperty","setPaintProperty","setFilter","setLayerZoomRange","setLayerProperty","layerCounter","layerOptions","_layerOptions","getLayer","_createLayer","removeLayer","addLayer","captureScroll","captureDrag","captureClick","captureDoubleClick","BaseControl","_onScroll","_onDragStart","_onDblClick","watch","draggable","offsetLeft","offsetTop","_BaseControl","DraggableControl","dragPos","dragOffset","_getDragEventPosition","_getDragEventOffset","_setupDragEvents","callbackEvent","_getDragLngLat","_removeDragEvents","_dragEvents","_onDrag","_onDragEnd","_onDragCancel","_event$center","_this$_getDraggedPosi","_getDraggedPosition","_this$_getDraggedPosi2","crispPixel","crispPercentage","percentage","dimension","origSize","_DraggableControl","Marker","_this$_context$viewpo","_this$_context$viewpo2","_this$_getPosition","_getPosition","_this$_getPosition2","_control","ANCHOR_POSITION","ANCHOR_TYPES","tipSize","closeButton","closeOnClick","anchor","oneOf","dynamicPosition","sortByDepth","onClose","Popup","content","_contentRef","selfWidth","selfHeight","_ANCHOR_POSITION$anch","anchorX","anchorY","xStep","positionType","anchorPosition","getDynamicPosition","xPercentage","yPercentage","borderWidth","_getContainerStyle","_renderTip","_renderContent","FullscreenControl","isFullscreen","showButton","nextState","_mapboxFullscreenControl","_fullscreen","_onClickFullscreen","_checkFullscreenSupport","_fullscreenchange","_onFullscreenChange","label","_renderButton","auto","positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation","onGeolocate","GeolocateControl","supportsGeolocation","markerPosition","controlOptions","control","_mapboxGeolocateControl","_watchState","_geolocateButton","_geolocateButtonRef","_updateMarker","_updateCamera","_setup","trigger","coords","LngLat","accuracy","toBounds","_ne","_sw","_getBounds","fitBounds","permissions","query","geolocation","_setupMapboxGeolocateControl","_triggerGeolocate","geolocationWatchID","_geolocationWatchID","clearWatch","_renderMarker","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","getUIVersion","version1","version2","part1","part2","compareVersions","NavigationControl","_uiVersion","_onZoomIn","_onZoomOut","_onResetNorth","_renderCompass","maxWidth","unit","ScaleControl","mapboxScaleControl","_mapboxScaleControl","_onMove","CanvasOverlay","_ctx","save","_this$_context","restore","_canvas","_redraw","HTMLOverlay","SVGOverlay","setRTLTextPlugin","hoveredFeature","bear","componentDidMount","fetchData","cases","textAlign","_onHover","$expm1","expm1","enhanceError","code","__CANCEL__","val","encodeURIComponent","serializedParams","isDate","hashmarkIndex","fetchHistData","country","axios","deaths","recovered","fetchCountryData","points","province","confirmed","fetchUSCountyData","county","other","us","endPos","_MathArray","Matrix","printRowMajor","RANK","columnIndex","firstIndex","columnVector","ZERO","INDICES","COL0ROW0","COL0ROW1","COL0ROW2","COL0ROW3","COL1ROW0","COL1ROW1","COL1ROW2","COL1ROW3","COL2ROW0","COL2ROW1","COL2ROW2","COL2ROW3","COL3ROW0","COL3ROW1","COL3ROW2","COL3ROW3","constants","_Matrix","Matrix4","identity","m00","m10","m20","m30","m01","m11","m21","m31","m02","m12","m22","m32","m03","m13","m23","m33","q","_computeInfinitePerspectiveOffCenter","_eye","_ref2$near","_ref2$far","_ref3$fovy","_ref3$aspect","_ref3$focalDistance","_ref3$near","_ref3$far","halfY","_ref4$fovy","_ref4$fov","_ref4$aspect","_ref4$near","_ref4$far","scaleResult","getScale","inverseScale0","inverseScale1","inverseScale2","radians","rx","ry","rz","rotateX","rotateY","rotateZ","axis","factor","vec","transformAsPoint","transformAsVector","column0Row0","column1Row1","column2Row0","column2Row1","column3Row2","_slicedToArray","_arr","_n","_s","defined","quot","tag","p1","isAxiosError","description","fileName","columnNumber","stack","isStandardBrowserEnv","originURL","msie","urlParsingNode","resolveURL","protocol","host","hostname","port","pathname","charAt","requestURL","parsed","isString","_WEBGL_PARAMETERS","_WEBGL2_CONTEXT_POLYF","WEBGL_PARAMETERS","GPU_DISJOINT_EXT","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_COLOR_ATTACHMENTS_WEBGL","MAX_DRAW_BUFFERS_WEBGL","WEBGL2_CONTEXT_POLYFILLS","isVertexArray","getQuery","getQueryObject","WEBGL2_CONTEXT_OVERRIDES","_getExtensionData","getExtensionData","TEXTURE_MAX_ANISOTROPY_EXT","originalGetParameter","hint","Parent","createError","$reduce","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","deepMerge","axiosKeys","otherKeys","$trim","getKeys","toIObject","isEnum","isEntries","transformData","isCancel","throwIfCancellationRequested","cancelToken","throwIfRequested","$isSealed","passiveSupported","mathgl","transpose","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","determinant","b2","b3","rad","b12","b20","b21","b22","hypot","fromQuat","x2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","frustum","rl","tb","nf","lr","bt","x1","y1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b13","b14","b15","$isFrozen","ax","ay","transformMat4","sub","_ref$precision","precision","epsilon","oldEpsilon","printDegrees","E","__VERSION__","getStorage","storage","setItem","removeItem","LocalStorage","defaultSettings","_loadConfiguration","updateConfiguration","serialized","serializedConfiguration","getItem","formatImage","imageUrl","COLOR","BLACK","RED","GREEN","YELLOW","BLUE","MAGENTA","CYAN","WHITE","BRIGHT_BLACK","BRIGHT_RED","BRIGHT_GREEN","BRIGHT_YELLOW","BRIGHT_BLUE","BRIGHT_MAGENTA","BRIGHT_CYAN","BRIGHT_WHITE","autobind","predefined","originalConsole","ONCE","getTableHeader","Log","_startTs","_deltaTs","LOG_THROTTLE_TIMEOUT","_storage","timeStamp","_getLogFunction","oldUsage","newUsage","_table","columns","_image","_ref2$message","_ref2$scale","_shouldLog","_ref4$message","_ref4$scale","img","_console","nodeName","_console2","_img","_console3","logImageInBrowser","_ref3$scale","asciify","fit","logImageInNode","setting","normalizeArguments","groupCollapsed","trace","isEnabled","getLevel","normalizeLogLevel","_method","getTotal","getDelta","decorateMessage","newLevel","setLevel","newPriority","resolvedLevel","messageType","padLength","leftPad","ms","Cancel","write","expires","path","domain","secure","cookie","isNumber","toGMTString","decodeURIComponent","_getPrototypeOf","__proto__","deepArrayEqual","isArrayX","isArrayY","cssToDeviceRatio","cssToDevicePixels","cssPixel","yInvert","ratio","getDevicePixelRatio","windowRatio","yHigh","xHigh","isWebGL","isAbsoluteURL","combineURLs","requestedURL","compositeSetters","glConstant","compositeSetter","getParameters","_getter","resetParameters","withParameters","_parameters$nocatch","nocatch","$values","self_","console_","createDetectElementResize","nonce","_window","raf","attachEvent","requestFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","resetTriggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","scrollListener","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","keyframeprefix","animationstartevent","domPrefixes","startEvents","elm","animationName","animationKeyframes","animationStyle","addResizeListener","doc","ownerDocument","elementStyle","css","getElementsByTagName","styleSheet","cssText","createTextNode","createStyles","__animationListener__","removeResizeListener","detachEvent","classCallCheck","createClass","protoProps","staticProps","_extends","possibleConstructorReturn","AutoSizer","_React$PureComponent","_temp","defaultHeight","defaultWidth","_parentNode","_style","paddingLeft","paddingRight","paddingTop","paddingBottom","_setRef","autoSizer","_autoSizer","inherits","defaultView","HTMLElement","_detectElementResize","outerStyle","childParams","bailoutOnChildren","CancelToken","executor","resolvePromise","token","createProperty","getDesc","$toISOString","lz","num","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","sign","EPSILON32","MAX32","MIN32","$abs","$sign","str","res","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","isGeneratorFunction","genFun","ctor","awrap","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","complete","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","$native","NEGATIVE_ZERO","gOPS","getSymbols","_possibleConstructorReturn","$preventExtensions","az","bx","by","bz","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","r","angle","mag","cosine","acos","_defineProperty","_GL_PARAMETER_DEFAULT","_GL_PARAMETER_SETTERS","_GL_PARAMETER_GETTERS","GL_PARAMETER_DEFAULTS","disable","pixelStorei","GL_PARAMETER_SETTERS","cullFace","frontFace","lineWidth","stencilMaskSeparate","blendEquationSeparate","blendFuncSeparate","sampleCoverage","mask","backMask","backFunc","backRef","stencilFuncSeparate","_args3","_args4","sfail","dpfail","dppass","backSfail","backDpfail","backDppass","stencilOpSeparate","glEnum","GL_COMPOSITE_PARAMETER_SETTERS","stencilFuncFront","stencilFuncBack","stencilOpFront","stencilOpBack","GL_HOOKED_SETTERS","capability","_hint","_update5","g","_update9","modeRGB","modeAlpha","_update10","dst","_update11","srcRGB","dstRGB","srcAlpha","dstAlpha","_update12","zNear","zFar","units","_update23","_update24","stencilMask","_update26","stencilFunc","_update28","_update29","stencilOp","fail","zfail","zpass","_update30","_update31","GL_PARAMETER_GETTERS","_setPrototypeOf","vec2_transformMat4AsVector","vec3_transformMat4AsVector","vec3_transformMat2","buildFullPath","parseHeaders","isURLSameOrigin","requestData","requestHeaders","auth","username","password","Authorization","fullPath","onreadystatechange","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","ontimeout","timeoutErrorMessage","cookies","xsrfValue","withCredentials","setRequestHeader","onDownloadProgress","onUploadProgress","upload","abort","send","inc","_defineProperties","_createClass","ignoreDuplicateOf","substr","sum","larg","fns","FormData","URLSearchParams","product","assignValue","extend","normalizedName","exportName","VENDOR_PREFIXES","TEST_ELEMENT","setTimeoutContext","bindFn","invokeArrayArg","each","deprecate","deprecationMessage","nextKey","inherit","properties","childP","baseP","boolOrFn","ifUndefined","val1","val2","addEventListeners","splitStr","removeEventListeners","hasParent","inStr","inArray","findByKey","uniqueArray","results","prefixed","prefix","camelProp","_uniqueId","getWindowForElement","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","PROPS_XY","PROPS_CLIENT_XY","Input","inputTarget","domHandler","inputHandler","pointersLen","changedPointersLen","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","deltaTime","getAngle","getDistance","offsetDelta","prevDelta","prevInput","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getRotation","maxPointers","velocityX","velocityY","last","lastInterval","computeIntervalInputData","computeInputData","recognize","p2","atan2","evEl","evTarget","evWin","POINTER_INPUT_MAP","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","isTouch","storeIndex","SINGLE_TOUCH_INPUT_MAP","touchcancel","SingleTouchInput","started","normalizeSingleTouches","touches","changedTouches","TOUCH_INPUT_MAP","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","actions","getTouchAction","hasPanX","hasPanY","cleanTouchActions","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","Recognizer","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","Hammer","preset","dropRecognizeWith","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","attrTest","optionPointers","isRecognized","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","oldCssProps","toggleCssProps","stopped","curRecognizer","existing","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","ARRAY_TYPE","RANDOM","random","$seal","_objectWithoutPropertiesLoose","sourceKeys","Vector","lengthSquared","mathArray","distanceSquared","dist","magnitude","multiplyScalar","ORIGIN","_Vector","Vector3","_ref$origin","origin","_ref2$origin","_ref3$origin","matrix4","matrix3","matrix2","quaternion","createInstance","defaultConfig","promises","spread"],"mappings":"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","file":"692e407ed367c57aa3e2386dd5964bf5c36d2e8f-54b6b5d9d3a0c12064b8.js","sourcesContent":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport { config } from './common';\nexport function validateVector(v, length) {\n  if (v.length !== length) {\n    return false;\n  }\n\n  for (var i = 0; i < v.length; ++i) {\n    if (!Number.isFinite(v[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\nexport function checkNumber(value) {\n  if (!Number.isFinite(value)) {\n    throw new Error(\"Invalid number \".concat(value));\n  }\n\n  return value;\n}\nexport function checkVector(v, length) {\n  var callerName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  if (config.debug && !validateVector(v, length)) {\n    throw new Error(\"math.gl: \".concat(callerName, \" some fields set to invalid numbers'\"));\n  }\n\n  return v;\n}\nvar map = {};\nexport function deprecated(method, version) {\n  if (!map[method]) {\n    map[method] = true;\n    console.warn(\"\".concat(method, \" has been removed in version \").concat(version, \", see upgrade guide for more information\"));\n  }\n}","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"self\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.self;\n  }\n});\nObject.defineProperty(exports, \"window\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.window;\n  }\n});\nObject.defineProperty(exports, \"global\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.global;\n  }\n});\nObject.defineProperty(exports, \"document\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.document;\n  }\n});\nObject.defineProperty(exports, \"process\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.process;\n  }\n});\nObject.defineProperty(exports, \"console\", {\n  enumerable: true,\n  get: function get() {\n    return _globals.console;\n  }\n});\nObject.defineProperty(exports, \"isBrowser\", {\n  enumerable: true,\n  get: function get() {\n    return _isBrowser[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"isBrowserMainThread\", {\n  enumerable: true,\n  get: function get() {\n    return _isBrowser.isBrowserMainThread;\n  }\n});\nObject.defineProperty(exports, \"getBrowser\", {\n  enumerable: true,\n  get: function get() {\n    return _getBrowser[\"default\"];\n  }\n});\nObject.defineProperty(exports, \"isMobile\", {\n  enumerable: true,\n  get: function get() {\n    return _getBrowser.isMobile;\n  }\n});\nObject.defineProperty(exports, \"isElectron\", {\n  enumerable: true,\n  get: function get() {\n    return _isElectron[\"default\"];\n  }\n});\n\nvar _globals = require(\"./globals\");\n\nvar _isBrowser = _interopRequireWildcard(require(\"./is-browser\"));\n\nvar _getBrowser = _interopRequireWildcard(require(\"./get-browser\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = isElectron;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nfunction isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && (0, _typeof2[\"default\"])(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && (0, _typeof2[\"default\"])(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","'use strict';\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\n\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};","var window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport { config, formatValue, equals as _equals, isArray } from '../../lib/common';\nimport assert from '../../lib/assert';\n\nvar MathArray = function (_Array) {\n  _inherits(MathArray, _Array);\n\n  function MathArray() {\n    _classCallCheck(this, MathArray);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MathArray).apply(this, arguments));\n  }\n\n  _createClass(MathArray, [{\n    key: \"clone\",\n    value: function clone() {\n      return new this.constructor().copy(this);\n    }\n  }, {\n    key: \"from\",\n    value: function from(arrayOrObject) {\n      return Array.isArray(arrayOrObject) ? this.copy(arrayOrObject) : this.fromObject(arrayOrObject);\n    }\n  }, {\n    key: \"fromArray\",\n    value: function fromArray(array) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = array[i + offset];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"to\",\n    value: function to(arrayOrObject) {\n      if (arrayOrObject === this) {\n        return this;\n      }\n\n      return isArray(arrayOrObject) ? this.toArray(arrayOrObject) : this.toObject(arrayOrObject);\n    }\n  }, {\n    key: \"toTarget\",\n    value: function toTarget(target) {\n      return target ? this.to(target) : this;\n    }\n  }, {\n    key: \"toArray\",\n    value: function toArray() {\n      var array = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        array[offset + i] = this[i];\n      }\n\n      return array;\n    }\n  }, {\n    key: \"toFloat32Array\",\n    value: function toFloat32Array() {\n      return new Float32Array(this);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.formatString(config);\n    }\n  }, {\n    key: \"formatString\",\n    value: function formatString(opts) {\n      var string = '';\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        string += (i > 0 ? ', ' : '') + formatValue(this[i], opts);\n      }\n\n      return \"\".concat(opts.printTypes ? this.constructor.name : '', \"[\").concat(string, \"]\");\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (!_equals(this[i], array[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"exactEquals\",\n    value: function exactEquals(array) {\n      if (!array || this.length !== array.length) {\n        return false;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        if (this[i] !== array[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"negate\",\n    value: function negate() {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = -this[i];\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lerp\",\n    value: function lerp(a, b, t) {\n      if (t === undefined) {\n        t = b;\n        b = a;\n        a = this;\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var ai = a[i];\n        this[i] = ai + t * (b[i] - ai);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"min\",\n    value: function min(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"max\",\n    value: function max(vector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.max(vector[i], this[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"clamp\",\n    value: function clamp(minVector, maxVector) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], minVector[i]), maxVector[i]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] += vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] -= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(_scale) {\n      if (Array.isArray(_scale)) {\n        return this.multiply(_scale);\n      }\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= _scale;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"sub\",\n    value: function sub(a) {\n      return this.subtract(a);\n    }\n  }, {\n    key: \"setScalar\",\n    value: function setScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"addScalar\",\n    value: function addScalar(a) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] += a;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"subScalar\",\n    value: function subScalar(a) {\n      return this.addScalar(-a);\n    }\n  }, {\n    key: \"multiplyScalar\",\n    value: function multiplyScalar(scalar) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] *= scalar;\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divideScalar\",\n    value: function divideScalar(a) {\n      return this.scale(1 / a);\n    }\n  }, {\n    key: \"clampScalar\",\n    value: function clampScalar(min, max) {\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        this[i] = Math.min(Math.max(this[i], min), max);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiplyByScalar\",\n    value: function multiplyByScalar(scalar) {\n      return this.scale(scalar);\n    }\n  }, {\n    key: \"check\",\n    value: function check() {\n      if (config.debug && !this.validate()) {\n        throw new Error(\"math.gl: \".concat(this.constructor.name, \" some fields set to invalid numbers'\"));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var valid = this.length === this.ELEMENTS;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        valid = valid && Number.isFinite(this[i]);\n      }\n\n      return valid;\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"RANK\",\n    get: function get() {\n      assert(false);\n      return 0;\n    }\n  }, {\n    key: \"elements\",\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return MathArray;\n}(_wrapNativeSuper(Array));\n\nexport { MathArray as default };","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport isElectron from './is-electron';\nexport default function isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || isElectron();\n}\nexport function isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","'use strict';\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '') : baseURL;\n};","import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.match\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PropTypes from 'prop-types';\nimport { document } from '../utils/globals';\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: PropTypes.object,\n  gl: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool,\n  preserveDrawingBuffer: PropTypes.bool,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func,\n  mapOptions: PropTypes.object,\n  mapStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  visible: PropTypes.bool,\n  asyncRender: PropTypes.bool,\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  viewState: PropTypes.object,\n  longitude: PropTypes.number,\n  latitude: PropTypes.number,\n  zoom: PropTypes.number,\n  bearing: PropTypes.number,\n  pitch: PropTypes.number,\n  altitude: PropTypes.number\n};\nvar defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nexport function getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    _classCallCheck(this, Mapbox);\n\n    _defineProperty(this, \"mapboxgl\", void 0);\n\n    _defineProperty(this, \"props\", defaultProps);\n\n    _defineProperty(this, \"_map\", null);\n\n    _defineProperty(this, \"width\", 0);\n\n    _defineProperty(this, \"height\", 0);\n\n    _defineProperty(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  _createClass(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this._map.resize();\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle(props.mapStyle, {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: props.mapStyle,\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', props.onLoad);\n\n        this._map.on('error', props.onError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (!Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this.props.onLoad);\n\n        this._map.off('error', this.props.onError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n        this.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        document.body.append(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          document.head.append(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\n_defineProperty(Mapbox, \"initialized\", false);\n\n_defineProperty(Mapbox, \"propTypes\", propTypes);\n\n_defineProperty(Mapbox, \"defaultProps\", defaultProps);\n\n_defineProperty(Mapbox, \"savedMap\", null);\n\nexport { Mapbox as default };","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","import \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.function.bind\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { GL_PARAMETER_DEFAULTS, GL_HOOKED_SETTERS } from './webgl-parameter-tables';\nimport { setParameters, getParameters } from './unified-parameter-api';\nimport { assert, deepArrayEqual } from '../utils';\n\nfunction installGetterOverride(gl, functionName) {\n  var originalGetterFunc = gl[functionName].bind(gl);\n\n  gl[functionName] = function get() {\n    var pname = arguments.length <= 0 ? undefined : arguments[0];\n\n    if (!(pname in gl.state.cache)) {\n      gl.state.cache[pname] = originalGetterFunc.apply(void 0, arguments);\n    }\n\n    return gl.state.enable ? gl.state.cache[pname] : originalGetterFunc.apply(void 0, arguments);\n  };\n\n  Object.defineProperty(gl[functionName], 'name', {\n    value: \"\".concat(functionName, \"-from-cache\"),\n    configurable: false\n  });\n}\n\nfunction installSetterSpy(gl, functionName, setter) {\n  var originalSetterFunc = gl[functionName].bind(gl);\n\n  gl[functionName] = function set() {\n    for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n      params[_key] = arguments[_key];\n    }\n\n    var _setter = setter.apply(void 0, [gl.state._updateCache].concat(params)),\n        valueChanged = _setter.valueChanged,\n        oldValue = _setter.oldValue;\n\n    if (valueChanged) {\n      originalSetterFunc.apply(void 0, params);\n    }\n\n    return oldValue;\n  };\n\n  Object.defineProperty(gl[functionName], 'name', {\n    value: \"\".concat(functionName, \"-to-cache\"),\n    configurable: false\n  });\n}\n\nfunction installProgramSpy(gl) {\n  var originalUseProgram = gl.useProgram.bind(gl);\n\n  gl.useProgram = function useProgramLuma(handle) {\n    if (gl.state.program !== handle) {\n      originalUseProgram(handle);\n      gl.state.program = handle;\n    }\n  };\n}\n\nvar GLState = function () {\n  function GLState(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$copyState = _ref.copyState,\n        copyState = _ref$copyState === void 0 ? false : _ref$copyState,\n        _ref$log = _ref.log,\n        log = _ref$log === void 0 ? function () {} : _ref$log;\n\n    _classCallCheck(this, GLState);\n\n    this.gl = gl;\n    this.program = null;\n    this.stateStack = [];\n    this.enable = true;\n    this.cache = copyState ? getParameters(gl) : Object.assign({}, GL_PARAMETER_DEFAULTS);\n    this.log = log;\n    this._updateCache = this._updateCache.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(GLState, [{\n    key: \"push\",\n    value: function push() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.stateStack.push({});\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      assert(this.stateStack.length > 0);\n      var oldValues = this.stateStack[this.stateStack.length - 1];\n      setParameters(this.gl, oldValues, this.cache);\n      this.stateStack.pop();\n    }\n  }, {\n    key: \"_updateCache\",\n    value: function _updateCache(values) {\n      var valueChanged = false;\n      var oldValue;\n      var oldValues = this.stateStack.length > 0 && this.stateStack[this.stateStack.length - 1];\n\n      for (var key in values) {\n        assert(key !== undefined);\n        var value = values[key];\n        var cached = this.cache[key];\n\n        if (!deepArrayEqual(value, cached)) {\n          valueChanged = true;\n          oldValue = cached;\n\n          if (oldValues && !(key in oldValues)) {\n            oldValues[key] = cached;\n          }\n\n          this.cache[key] = value;\n        }\n      }\n\n      return {\n        valueChanged: valueChanged,\n        oldValue: oldValue\n      };\n    }\n  }]);\n\n  return GLState;\n}();\n\nexport default function trackContextState(gl) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$enable = _ref2.enable,\n      enable = _ref2$enable === void 0 ? true : _ref2$enable,\n      copyState = _ref2.copyState;\n\n  assert(copyState !== undefined);\n\n  if (!gl.state) {\n    var global_ = typeof global !== 'undefined' ? global : window;\n\n    if (global_.polyfillContext) {\n      global_.polyfillContext(gl);\n    }\n\n    gl.state = new GLState(gl, {\n      copyState: copyState,\n      enable: enable\n    });\n    installProgramSpy(gl);\n\n    for (var key in GL_HOOKED_SETTERS) {\n      var setter = GL_HOOKED_SETTERS[key];\n      installSetterSpy(gl, key, setter);\n    }\n\n    installGetterOverride(gl, 'getParameter');\n    installGetterOverride(gl, 'isEnabled');\n  }\n\n  gl.state.enable = enable;\n  return gl;\n}\nexport function pushContextState(gl) {\n  if (!gl.state) {\n    trackContextState(gl, {\n      copyState: false\n    });\n  }\n\n  gl.state.push();\n}\nexport function popContextState(gl) {\n  assert(gl.state);\n  gl.state.pop();\n}","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\n\n\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\n\n\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\n\n\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar utils = require('./../utils');\n\nvar buildURL = require('../helpers/buildURL');\n\nvar InterceptorManager = require('./InterceptorManager');\n\nvar dispatchRequest = require('./dispatchRequest');\n\nvar mergeConfig = require('./mergeConfig');\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\n\n\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\n\n\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config); // Set config.method\n\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  } // Hook up interceptors middleware\n\n\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n}; // Provide aliases for supported request methods\n\n\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function (url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function (url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\nmodule.exports = Axios;","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","'use strict';\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\n\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","import \"core-js/modules/es6.date.now\";\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (typeof window !== 'undefined' && window.performance) {\n    timestamp = window.performance.now();\n  } else if (typeof process !== 'undefined' && process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    return fn.apply(thisArg, args);\n  };\n};","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { polyfillVertexArrayObject } from './polyfill-vertex-array-object';\nimport { assert } from '../utils';\nimport { WEBGL2_CONTEXT_POLYFILLS, WEBGL2_CONTEXT_OVERRIDES } from './polyfill-table';\nexport default function polyfillContext(gl) {\n  gl.luma = gl.luma || {};\n\n  if (!gl.luma.polyfilled) {\n    polyfillVertexArrayObject(gl);\n    initializeExtensions(gl);\n    installPolyfills(gl, WEBGL2_CONTEXT_POLYFILLS);\n    installOverrides(gl, {\n      target: gl.luma,\n      target2: gl\n    });\n    gl.luma.polyfilled = true;\n  }\n\n  return gl;\n}\nvar global_ = typeof global !== 'undefined' ? global : window;\nglobal_.polyfillContext = polyfillContext;\n\nfunction initializeExtensions(gl) {\n  gl.luma.extensions = {};\n  var EXTENSIONS = gl.getSupportedExtensions() || [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = EXTENSIONS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var extension = _step.value;\n      gl.luma[extension] = gl.getExtension(extension);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction installOverrides(gl, _ref) {\n  var target = _ref.target,\n      target2 = _ref.target2;\n  Object.keys(WEBGL2_CONTEXT_OVERRIDES).forEach(function (key) {\n    if (typeof WEBGL2_CONTEXT_OVERRIDES[key] === 'function') {\n      var originalFunc = gl[key] ? gl[key].bind(gl) : function () {};\n      var polyfill = WEBGL2_CONTEXT_OVERRIDES[key].bind(null, gl, originalFunc);\n      target[key] = polyfill;\n      target2[key] = polyfill;\n    }\n  });\n}\n\nfunction installPolyfills(gl, polyfills) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = Object.getOwnPropertyNames(polyfills)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var extension = _step2.value;\n\n      if (extension !== 'overrides') {\n        polyfillExtension(gl, {\n          extension: extension,\n          target: gl.luma,\n          target2: gl\n        });\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction polyfillExtension(gl, _ref2) {\n  var extension = _ref2.extension,\n      target = _ref2.target,\n      target2 = _ref2.target2;\n  var defaults = WEBGL2_CONTEXT_POLYFILLS[extension];\n  assert(defaults);\n  var _defaults$meta = defaults.meta,\n      meta = _defaults$meta === void 0 ? {} : _defaults$meta;\n  var _meta$suffix = meta.suffix,\n      suffix = _meta$suffix === void 0 ? '' : _meta$suffix;\n  var ext = gl.getExtension(extension);\n\n  var _loop = function _loop() {\n    var key = _Object$keys[_i];\n    var extKey = \"\".concat(key).concat(suffix);\n    var polyfill = null;\n\n    if (key === 'meta') {} else if (typeof gl[key] === 'function') {} else if (ext && typeof ext[extKey] === 'function') {\n      polyfill = function polyfill() {\n        return ext[extKey].apply(ext, arguments);\n      };\n    } else if (typeof defaults[key] === 'function') {\n      polyfill = defaults[key].bind(target);\n    }\n\n    if (polyfill) {\n      target[key] = polyfill;\n      target2[key] = polyfill;\n    }\n  };\n\n  for (var _i = 0, _Object$keys = Object.keys(defaults); _i < _Object$keys.length; _i++) {\n    _loop();\n  }\n}","import \"core-js/modules/es6.array.index-of\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function isElectron(mockUserAgent) {\n  if (typeof window !== 'undefined' && _typeof(window.process) === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  if (typeof process !== 'undefined' && _typeof(process.versions) === 'object' && Boolean(process.versions.electron)) {\n    return true;\n  }\n\n  var realUserAgent = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  var userAgent = mockUserAgent || realUserAgent;\n\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n\n  return false;\n}","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isMobile = isMobile;\nexports[\"default\"] = getBrowser;\n\nvar _globals = require(\"./globals\");\n\nvar _isBrowser = _interopRequireDefault(require(\"./is-browser\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));\n\nfunction isMobile() {\n  return typeof _globals.window.orientation !== 'undefined';\n}\n\nfunction getBrowser(mockUserAgent) {\n  if (!mockUserAgent && !(0, _isBrowser[\"default\"])()) {\n    return 'Node';\n  }\n\n  if ((0, _isElectron[\"default\"])(mockUserAgent)) {\n    return 'Electron';\n  }\n\n  var navigator_ = typeof navigator !== 'undefined' ? navigator : {};\n  var userAgent = mockUserAgent || navigator_.userAgent || '';\n\n  if (userAgent.indexOf('Edge') > -1) {\n    return 'Edge';\n  }\n\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n\n  if (isMSIE || isTrident) {\n    return 'IE';\n  }\n\n  if (_globals.window.chrome) {\n    return 'Chrome';\n  }\n\n  if (_globals.window.safari) {\n    return 'Safari';\n  }\n\n  if (_globals.window.mozInnerScreenX) {\n    return 'Firefox';\n  }\n\n  return 'Unknown';\n}","import \"core-js/modules/es6.regexp.match\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport var isBrowser = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) !== 'object' || String(process) !== '[object process]' || process.browser;\nexport var isWorker = typeof importScripts === 'function';\nvar matches = typeof process !== 'undefined' && process.version && process.version.match(/v([0-9]*)/);\nexport var nodeVersion = matches && parseFloat(matches[1]) || 0;","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar utils = require('./utils');\n\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {\n      return data;\n    }\n\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n\n    return data;\n  }],\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        /* Ignore */\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n  maxContentLength: -1,\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\nmodule.exports = defaults;","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import \"core-js/modules/es6.array.index-of\";\nimport { global } from 'probe.gl/env';\nvar glErrorShadow = {};\n\nfunction error(msg) {\n  if (global.console && global.console.error) {\n    global.console.error(msg);\n  }\n}\n\nfunction log(msg) {\n  if (global.console && global.console.log) {\n    global.console.log(msg);\n  }\n}\n\nfunction synthesizeGLError(err, opt_msg) {\n  glErrorShadow[err] = true;\n\n  if (opt_msg !== undefined) {\n    error(opt_msg);\n  }\n}\n\nfunction wrapGLError(gl) {\n  var f = gl.getError;\n\n  gl.getError = function getError() {\n    var err;\n\n    do {\n      err = f.apply(gl);\n\n      if (err !== 0) {\n        glErrorShadow[err] = true;\n      }\n    } while (err !== 0);\n\n    for (err in glErrorShadow) {\n      if (glErrorShadow[err]) {\n        delete glErrorShadow[err];\n        return parseInt(err, 10);\n      }\n    }\n\n    return 0;\n  };\n}\n\nvar WebGLVertexArrayObjectOES = function WebGLVertexArrayObjectOES(ext) {\n  var gl = ext.gl;\n  this.ext = ext;\n  this.isAlive = true;\n  this.hasBeenBound = false;\n  this.elementArrayBuffer = null;\n  this.attribs = new Array(ext.maxVertexAttribs);\n\n  for (var n = 0; n < this.attribs.length; n++) {\n    var attrib = new WebGLVertexArrayObjectOES.VertexAttrib(gl);\n    this.attribs[n] = attrib;\n  }\n\n  this.maxAttrib = 0;\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib = function VertexAttrib(gl) {\n  this.enabled = false;\n  this.buffer = null;\n  this.size = 4;\n  this.type = 5126;\n  this.normalized = false;\n  this.stride = 16;\n  this.offset = 0;\n  this.cached = '';\n  this.recache();\n};\n\nWebGLVertexArrayObjectOES.VertexAttrib.prototype.recache = function recache() {\n  this.cached = [this.size, this.type, this.normalized, this.stride, this.offset].join(':');\n};\n\nvar OESVertexArrayObject = function OESVertexArrayObject(gl) {\n  var self = this;\n  this.gl = gl;\n  wrapGLError(gl);\n  var original = this.original = {\n    getParameter: gl.getParameter,\n    enableVertexAttribArray: gl.enableVertexAttribArray,\n    disableVertexAttribArray: gl.disableVertexAttribArray,\n    bindBuffer: gl.bindBuffer,\n    getVertexAttrib: gl.getVertexAttrib,\n    vertexAttribPointer: gl.vertexAttribPointer\n  };\n\n  gl.getParameter = function getParameter(pname) {\n    if (pname === self.VERTEX_ARRAY_BINDING_OES) {\n      if (self.currentVertexArrayObject === self.defaultVertexArrayObject) {\n        return null;\n      }\n\n      return self.currentVertexArrayObject;\n    }\n\n    return original.getParameter.apply(this, arguments);\n  };\n\n  gl.enableVertexAttribArray = function enableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = true;\n    return original.enableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.disableVertexAttribArray = function disableVertexAttribArray(index) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, index);\n    var attrib = vao.attribs[index];\n    attrib.enabled = false;\n    return original.disableVertexAttribArray.apply(this, arguments);\n  };\n\n  gl.bindBuffer = function bindBuffer(target, buffer) {\n    switch (target) {\n      case 34962:\n        self.currentArrayBuffer = buffer;\n        break;\n\n      case 34963:\n        self.currentVertexArrayObject.elementArrayBuffer = buffer;\n        break;\n\n      default:\n    }\n\n    return original.bindBuffer.apply(this, arguments);\n  };\n\n  gl.getVertexAttrib = function getVertexAttrib(index, pname) {\n    var vao = self.currentVertexArrayObject;\n    var attrib = vao.attribs[index];\n\n    switch (pname) {\n      case 34975:\n        return attrib.buffer;\n\n      case 34338:\n        return attrib.enabled;\n\n      case 34339:\n        return attrib.size;\n\n      case 34340:\n        return attrib.stride;\n\n      case 34341:\n        return attrib.type;\n\n      case 34922:\n        return attrib.normalized;\n\n      default:\n        return original.getVertexAttrib.apply(this, arguments);\n    }\n  };\n\n  gl.vertexAttribPointer = function vertexAttribPointer(indx, size, type, normalized, stride, offset) {\n    var vao = self.currentVertexArrayObject;\n    vao.maxAttrib = Math.max(vao.maxAttrib, indx);\n    var attrib = vao.attribs[indx];\n    attrib.buffer = self.currentArrayBuffer;\n    attrib.size = size;\n    attrib.type = type;\n    attrib.normalized = normalized;\n    attrib.stride = stride;\n    attrib.offset = offset;\n    attrib.recache();\n    return original.vertexAttribPointer.apply(this, arguments);\n  };\n\n  if (gl.instrumentExtension) {\n    gl.instrumentExtension(this, 'OES_vertex_array_object');\n  }\n\n  if (gl.canvas) {\n    gl.canvas.addEventListener('webglcontextrestored', function () {\n      log('OESVertexArrayObject emulation library context restored');\n      self.reset_();\n    }, true);\n  }\n\n  this.reset_();\n};\n\nOESVertexArrayObject.prototype.VERTEX_ARRAY_BINDING_OES = 0x85b5;\n\nOESVertexArrayObject.prototype.reset_ = function reset_() {\n  var contextWasLost = this.vertexArrayObjects !== undefined;\n\n  if (contextWasLost) {\n    for (var ii = 0; ii < this.vertexArrayObjects.length; ++ii) {\n      this.vertexArrayObjects.isAlive = false;\n    }\n  }\n\n  var gl = this.gl;\n  this.maxVertexAttribs = gl.getParameter(34921);\n  this.defaultVertexArrayObject = new WebGLVertexArrayObjectOES(this);\n  this.currentVertexArrayObject = null;\n  this.currentArrayBuffer = null;\n  this.vertexArrayObjects = [this.defaultVertexArrayObject];\n  this.bindVertexArrayOES(null);\n};\n\nOESVertexArrayObject.prototype.createVertexArrayOES = function createVertexArrayOES() {\n  var arrayObject = new WebGLVertexArrayObjectOES(this);\n  this.vertexArrayObjects.push(arrayObject);\n  return arrayObject;\n};\n\nOESVertexArrayObject.prototype.deleteVertexArrayOES = function deleteVertexArrayOES(arrayObject) {\n  arrayObject.isAlive = false;\n  this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(arrayObject), 1);\n\n  if (this.currentVertexArrayObject === arrayObject) {\n    this.bindVertexArrayOES(null);\n  }\n};\n\nOESVertexArrayObject.prototype.isVertexArrayOES = function isVertexArrayOES(arrayObject) {\n  if (arrayObject && arrayObject instanceof WebGLVertexArrayObjectOES) {\n    if (arrayObject.hasBeenBound && arrayObject.ext === this) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nOESVertexArrayObject.prototype.bindVertexArrayOES = function bindVertexArrayOES(arrayObject) {\n  var gl = this.gl;\n\n  if (arrayObject && !arrayObject.isAlive) {\n    synthesizeGLError(1282, 'bindVertexArrayOES: attempt to bind deleted arrayObject');\n    return;\n  }\n\n  var original = this.original;\n  var oldVAO = this.currentVertexArrayObject;\n  this.currentVertexArrayObject = arrayObject || this.defaultVertexArrayObject;\n  this.currentVertexArrayObject.hasBeenBound = true;\n  var newVAO = this.currentVertexArrayObject;\n\n  if (oldVAO === newVAO) {\n    return;\n  }\n\n  if (!oldVAO || newVAO.elementArrayBuffer !== oldVAO.elementArrayBuffer) {\n    original.bindBuffer.call(gl, 34963, newVAO.elementArrayBuffer);\n  }\n\n  var currentBinding = this.currentArrayBuffer;\n  var maxAttrib = Math.max(oldVAO ? oldVAO.maxAttrib : 0, newVAO.maxAttrib);\n\n  for (var n = 0; n <= maxAttrib; n++) {\n    var attrib = newVAO.attribs[n];\n    var oldAttrib = oldVAO ? oldVAO.attribs[n] : null;\n\n    if (!oldVAO || attrib.enabled !== oldAttrib.enabled) {\n      if (attrib.enabled) {\n        original.enableVertexAttribArray.call(gl, n);\n      } else {\n        original.disableVertexAttribArray.call(gl, n);\n      }\n    }\n\n    if (attrib.enabled) {\n      var bufferChanged = false;\n\n      if (!oldVAO || attrib.buffer !== oldAttrib.buffer) {\n        if (currentBinding !== attrib.buffer) {\n          original.bindBuffer.call(gl, 34962, attrib.buffer);\n          currentBinding = attrib.buffer;\n        }\n\n        bufferChanged = true;\n      }\n\n      if (bufferChanged || attrib.cached !== oldAttrib.cached) {\n        original.vertexAttribPointer.call(gl, n, attrib.size, attrib.type, attrib.normalized, attrib.stride, attrib.offset);\n      }\n    }\n  }\n\n  if (this.currentArrayBuffer !== currentBinding) {\n    original.bindBuffer.call(gl, 34962, this.currentArrayBuffer);\n  }\n};\n\nexport function polyfillVertexArrayObject(gl) {\n  if (typeof gl.createVertexArray === 'function') {\n    return;\n  }\n\n  var original_getSupportedExtensions = gl.getSupportedExtensions;\n\n  gl.getSupportedExtensions = function getSupportedExtensions() {\n    var list = original_getSupportedExtensions.call(this) || [];\n\n    if (list.indexOf('OES_vertex_array_object') < 0) {\n      list.push('OES_vertex_array_object');\n    }\n\n    return list;\n  };\n\n  var original_getExtension = gl.getExtension;\n\n  gl.getExtension = function getExtension(name) {\n    var ext = original_getExtension.call(this, name);\n\n    if (ext) {\n      return ext;\n    }\n\n    if (name !== 'OES_vertex_array_object') {\n      return null;\n    }\n\n    if (!gl.__OESVertexArrayObject) {\n      this.__OESVertexArrayObject = new OESVertexArrayObject(this);\n    }\n\n    return this.__OESVertexArrayObject;\n  };\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nvar process_ = globals.process || {};\nvar console_ = console;\nexport { self_ as self, window_ as window, global_ as global, document_ as document, process_ as process, console_ as console };","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","var fp32shader = \"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\\nconst float TWO_PI = 6.2831854820251465;\\nconst float PI_2 = 1.5707963705062866;\\nconst float PI_16 = 0.1963495463132858;\\n\\nconst float SIN_TABLE_0 = 0.19509032368659973;\\nconst float SIN_TABLE_1 = 0.3826834261417389;\\nconst float SIN_TABLE_2 = 0.5555702447891235;\\nconst float SIN_TABLE_3 = 0.7071067690849304;\\n\\nconst float COS_TABLE_0 = 0.9807852506637573;\\nconst float COS_TABLE_1 = 0.9238795042037964;\\nconst float COS_TABLE_2 = 0.8314695954322815;\\nconst float COS_TABLE_3 = 0.7071067690849304;\\n\\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\\n\\nfloat sin_taylor_fp32(float a) {\\n  float r, s, t, x;\\n\\n  if (a == 0.0) {\\n    return 0.0;\\n  }\\n\\n  x = -a * a;\\n  s = a;\\n  r = a;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_3;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_5;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_7;\\n  s = s + t;\\n\\n  r = r * x;\\n  t = r * INVERSE_FACTORIAL_9;\\n  s = s + t;\\n\\n  return s;\\n}\\n\\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\\n  if (a == 0.0) {\\n    sin_t = 0.0;\\n    cos_t = 1.0;\\n  }\\n  sin_t = sin_taylor_fp32(a);\\n  cos_t = sqrt(1.0 - sin_t * sin_t);\\n}\\n\\nfloat tan_taylor_fp32(float a) {\\n    float sin_a;\\n    float cos_a;\\n\\n    if (a == 0.0) {\\n        return 0.0;\\n    }\\n    float z = floor(a / TWO_PI);\\n    float r = a - TWO_PI * z;\\n\\n    float t;\\n    float q = floor(r / PI_2 + 0.5);\\n    int j = int(q);\\n\\n    if (j < -2 || j > 2) {\\n        return 0.0 / 0.0;\\n    }\\n\\n    t = r - PI_2 * q;\\n\\n    q = floor(t / PI_16 + 0.5);\\n    int k = int(q);\\n    int abs_k = int(abs(float(k)));\\n\\n    if (abs_k > 4) {\\n        return 0.0 / 0.0;\\n    } else {\\n        t = t - PI_16 * q;\\n    }\\n\\n    float u = 0.0;\\n    float v = 0.0;\\n\\n    float sin_t, cos_t;\\n    float s, c;\\n    sincos_taylor_fp32(t, sin_t, cos_t);\\n\\n    if (k == 0) {\\n        s = sin_t;\\n        c = cos_t;\\n    } else {\\n        if (abs(float(abs_k) - 1.0) < 0.5) {\\n            u = COS_TABLE_0;\\n            v = SIN_TABLE_0;\\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\\n            u = COS_TABLE_1;\\n            v = SIN_TABLE_1;\\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\\n            u = COS_TABLE_2;\\n            v = SIN_TABLE_2;\\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\\n            u = COS_TABLE_3;\\n            v = SIN_TABLE_3;\\n        }\\n        if (k > 0) {\\n            s = u * sin_t + v * cos_t;\\n            c = u * cos_t - v * sin_t;\\n        } else {\\n            s = u * sin_t - v * cos_t;\\n            c = u * cos_t + v * sin_t;\\n        }\\n    }\\n\\n    if (j == 0) {\\n        sin_a = s;\\n        cos_a = c;\\n    } else if (j == 1) {\\n        sin_a = c;\\n        cos_a = -s;\\n    } else if (j == -1) {\\n        sin_a = -c;\\n        cos_a = s;\\n    } else {\\n        sin_a = -s;\\n        cos_a = -c;\\n    }\\n    return sin_a / cos_a;\\n}\\n#endif\\n\\nfloat tan_fp32(float a) {\\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\\n  return tan_taylor_fp32(a);\\n#else\\n  return tan(a);\\n#endif\\n}\\n\";\nexport default {\n  name: 'fp32',\n  vs: fp32shader,\n  fs: null\n};","import { Log } from 'probe.gl';\nexport default new Log({\n  id: 'deck'\n});","import \"core-js/modules/es6.object.define-property\";\nimport log from '../utils/log';\nexport var COORDINATE_SYSTEM = {\n  DEFAULT: -1,\n  LNGLAT: 1,\n  METER_OFFSETS: 2,\n  LNGLAT_OFFSETS: 3,\n  CARTESIAN: 0\n};\nObject.defineProperty(COORDINATE_SYSTEM, 'IDENTITY', {\n  get: function get() {\n    return log.deprecated('COORDINATE_SYSTEM.IDENTITY', 'COORDINATE_SYSTEM.CARTESIAN')() || 0;\n  }\n});\nexport var PROJECTION_MODE = {\n  WEB_MERCATOR: 1,\n  WEB_MERCATOR_AUTO_OFFSET: 4,\n  IDENTITY: 0\n};\nexport var EVENTS = {\n  click: {\n    handler: 'onClick'\n  },\n  panstart: {\n    handler: 'onDragStart'\n  },\n  panmove: {\n    handler: 'onDrag'\n  },\n  panend: {\n    handler: 'onDragEnd'\n  }\n};","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from '../../lib/constants';\nvar COORDINATE_SYSTEM_GLSL_CONSTANTS = Object.keys(COORDINATE_SYSTEM).map(function (key) {\n  return \"const int COORDINATE_SYSTEM_\".concat(key, \" = \").concat(COORDINATE_SYSTEM[key], \";\");\n}).join('');\nvar PROJECTION_MODE_GLSL_CONSTANTS = Object.keys(PROJECTION_MODE).map(function (key) {\n  return \"const int PROJECTION_MODE_\".concat(key, \" = \").concat(PROJECTION_MODE[key], \";\");\n}).join('');\nexport default \"\".concat(COORDINATE_SYSTEM_GLSL_CONSTANTS, \"\\n\").concat(PROJECTION_MODE_GLSL_CONSTANTS, \"\\n\\nuniform int project_uCoordinateSystem;\\nuniform int project_uProjectionMode;\\nuniform float project_uScale;\\nuniform bool project_uWrapLongitude;\\nuniform float project_uAntimeridian;\\nuniform vec3 project_uCommonUnitsPerMeter;\\nuniform vec3 project_uCommonUnitsPerWorldUnit;\\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\\nuniform vec4 project_uCenter;\\nuniform mat4 project_uModelMatrix;\\nuniform mat4 project_uViewProjectionMatrix;\\nuniform vec2 project_uViewportSize;\\nuniform float project_uDevicePixelRatio;\\nuniform float project_uFocalDistance;\\nuniform vec3 project_uCameraPosition;\\nuniform vec3 project_uCoordinateOrigin;\\n\\nconst float TILE_SIZE = 512.0;\\nconst float PI = 3.1415926536;\\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\\nconst vec3 ZERO_64_LOW = vec3(0.0);\\nfloat project_size(float meters) {\\n  return meters * project_uCommonUnitsPerMeter.z;\\n}\\n\\nvec2 project_size(vec2 meters) {\\n  return meters * project_uCommonUnitsPerMeter.xy;\\n}\\n\\nvec3 project_size(vec3 meters) {\\n  return meters * project_uCommonUnitsPerMeter;\\n}\\n\\nvec4 project_size(vec4 meters) {\\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\\n}\\nvec3 project_normal(vec3 vector) {\\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\\n  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\\n}\\n\\nvec4 project_offset_(vec4 offset) {\\n  float dy = offset.y;\\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\\n    dy = clamp(dy, -1., 1.);\\n  }\\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\\n}\\nvec2 project_mercator_(vec2 lnglat) {\\n  float x = lnglat.x;\\n  if (project_uWrapLongitude) {\\n    x = mod(x - project_uAntimeridian, 360.0) + project_uAntimeridian;\\n  }\\n  return vec2(\\n    radians(x) + PI,\\n    PI + log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\\n  );\\n}\\nvec4 project_position(vec4 position, vec3 position64Low) {\\n  vec4 position_world = project_uModelMatrix * position;\\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\\n      return vec4(\\n        project_mercator_(position_world.xy) * WORLD_SCALE,\\n        project_size(position_world.z),\\n        position_world.w\\n      );\\n    }\\n  }\\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\\n    position_world.xyz -= project_uCoordinateOrigin;\\n    position_world += project_uModelMatrix * vec4(position64Low, 0.0);\\n  }\\n\\n  return project_offset_(position_world);\\n}\\n\\nvec4 project_position(vec4 position) {\\n  return project_position(position, ZERO_64_LOW);\\n}\\n\\nvec3 project_position(vec3 position, vec3 position64Low) {\\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\\n  return projected_position.xyz;\\n}\\n\\nvec3 project_position(vec3 position) {\\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\\n  return projected_position.xyz;\\n}\\n\\nvec2 project_position(vec2 position) {\\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\\n  return projected_position.xy;\\n}\\n\\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\\n  return viewProjectionMatrix * position + center;\\n}\\nvec4 project_common_position_to_clipspace(vec4 position) {\\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\\n}\\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\\n  return offset * project_uFocalDistance;\\n}\\n\\nfloat project_size_to_pixel(float meters) {\\n  return project_size(meters) * project_uScale;\\n}\\nfloat project_pixel_size(float pixels) {\\n  return pixels / project_uScale;\\n}\\nvec2 project_pixel_size(vec2 pixels) {\\n  return pixels / project_uScale;\\n}\\n\");","import \"core-js/modules/es6.array.is-array\";\n\nfunction isEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (Array.isArray(a)) {\n    var len = a.length;\n\n    if (!b || b.length !== len) {\n      return false;\n    }\n\n    for (var i = 0; i < len; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nexport default function memoize(compute) {\n  var cachedArgs = {};\n  var cachedResult;\n  return function (args) {\n    for (var key in args) {\n      if (!isEqual(args[key], cachedArgs[key])) {\n        cachedResult = compute(args);\n        cachedArgs = args;\n        break;\n      }\n    }\n\n    return cachedResult;\n  };\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'deck.gl: assertion failed.');\n  }\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.math.fround\";\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec4 from 'gl-matrix/vec4';\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from '../../lib/constants';\nimport memoize from '../../utils/memoize';\nimport assert from '../../utils/assert';\nvar ZERO_VECTOR = [0, 0, 0, 0];\nvar VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\nvar DEFAULT_PIXELS_PER_UNIT2 = [0, 0, 0];\nvar DEFAULT_COORDINATE_ORIGIN = [0, 0, 0];\nvar getMemoizedViewportUniforms = memoize(calculateViewportUniforms);\nexport function getOffsetOrigin(viewport, coordinateSystem) {\n  var coordinateOrigin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_COORDINATE_ORIGIN;\n  var shaderCoordinateOrigin = coordinateOrigin;\n  var geospatialOrigin;\n  var offsetMode = true;\n\n  if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT_OFFSETS || coordinateSystem === COORDINATE_SYSTEM.METER_OFFSETS) {\n    geospatialOrigin = coordinateOrigin;\n  } else {\n    geospatialOrigin = viewport.isGeospatial ? [Math.fround(viewport.longitude), Math.fround(viewport.latitude), 0] : null;\n  }\n\n  switch (viewport.projectionMode) {\n    case PROJECTION_MODE.WEB_MERCATOR:\n      if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT || coordinateSystem === COORDINATE_SYSTEM.CARTESIAN) {\n        offsetMode = false;\n      }\n\n      break;\n\n    case PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:\n      if (coordinateSystem === COORDINATE_SYSTEM.LNGLAT) {\n        shaderCoordinateOrigin = geospatialOrigin;\n      } else if (coordinateSystem === COORDINATE_SYSTEM.CARTESIAN) {\n        shaderCoordinateOrigin = [Math.fround(viewport.center[0]), Math.fround(viewport.center[1]), 0];\n        geospatialOrigin = viewport.unprojectPosition(shaderCoordinateOrigin);\n      }\n\n      break;\n\n    case PROJECTION_MODE.IDENTITY:\n      shaderCoordinateOrigin = viewport.position.map(Math.fround);\n      break;\n\n    default:\n      offsetMode = false;\n  }\n\n  shaderCoordinateOrigin[2] = shaderCoordinateOrigin[2] || 0;\n  return {\n    geospatialOrigin: geospatialOrigin,\n    shaderCoordinateOrigin: shaderCoordinateOrigin,\n    offsetMode: offsetMode\n  };\n}\n\nfunction calculateMatrixAndOffset(viewport, coordinateSystem, coordinateOrigin) {\n  var viewMatrixUncentered = viewport.viewMatrixUncentered,\n      projectionMatrix = viewport.projectionMatrix;\n  var viewMatrix = viewport.viewMatrix,\n      viewProjectionMatrix = viewport.viewProjectionMatrix;\n  var projectionCenter = ZERO_VECTOR;\n  var cameraPosCommon = viewport.cameraPosition;\n\n  var _getOffsetOrigin = getOffsetOrigin(viewport, coordinateSystem, coordinateOrigin),\n      geospatialOrigin = _getOffsetOrigin.geospatialOrigin,\n      shaderCoordinateOrigin = _getOffsetOrigin.shaderCoordinateOrigin,\n      offsetMode = _getOffsetOrigin.offsetMode;\n\n  if (offsetMode) {\n    var positionCommonSpace = viewport.projectPosition(geospatialOrigin || shaderCoordinateOrigin);\n    cameraPosCommon = [cameraPosCommon[0] - positionCommonSpace[0], cameraPosCommon[1] - positionCommonSpace[1], cameraPosCommon[2] - positionCommonSpace[2]];\n    positionCommonSpace[3] = 1;\n    projectionCenter = vec4.transformMat4([], positionCommonSpace, viewProjectionMatrix);\n    viewMatrix = viewMatrixUncentered || viewMatrix;\n    viewProjectionMatrix = mat4.multiply([], projectionMatrix, viewMatrix);\n    viewProjectionMatrix = mat4.multiply([], viewProjectionMatrix, VECTOR_TO_POINT_MATRIX);\n  }\n\n  return {\n    viewMatrix: viewMatrix,\n    viewProjectionMatrix: viewProjectionMatrix,\n    projectionCenter: projectionCenter,\n    cameraPosCommon: cameraPosCommon,\n    shaderCoordinateOrigin: shaderCoordinateOrigin,\n    geospatialOrigin: geospatialOrigin\n  };\n}\n\nexport function getUniformsFromViewport() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      viewport = _ref.viewport,\n      _ref$devicePixelRatio = _ref.devicePixelRatio,\n      devicePixelRatio = _ref$devicePixelRatio === void 0 ? 1 : _ref$devicePixelRatio,\n      _ref$modelMatrix = _ref.modelMatrix,\n      modelMatrix = _ref$modelMatrix === void 0 ? null : _ref$modelMatrix,\n      _ref$coordinateSystem = _ref.coordinateSystem,\n      coordinateSystem = _ref$coordinateSystem === void 0 ? COORDINATE_SYSTEM.DEFAULT : _ref$coordinateSystem,\n      coordinateOrigin = _ref.coordinateOrigin,\n      _ref$wrapLongitude = _ref.wrapLongitude,\n      wrapLongitude = _ref$wrapLongitude === void 0 ? false : _ref$wrapLongitude,\n      projectionMode = _ref.projectionMode,\n      positionOrigin = _ref.positionOrigin;\n\n  assert(viewport);\n\n  if (coordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n    coordinateSystem = viewport.isGeospatial ? COORDINATE_SYSTEM.LNGLAT : COORDINATE_SYSTEM.CARTESIAN;\n  }\n\n  var uniforms = getMemoizedViewportUniforms({\n    viewport: viewport,\n    devicePixelRatio: devicePixelRatio,\n    coordinateSystem: coordinateSystem,\n    coordinateOrigin: coordinateOrigin\n  });\n  uniforms.project_uWrapLongitude = wrapLongitude;\n  uniforms.project_uModelMatrix = modelMatrix || IDENTITY_MATRIX;\n  return uniforms;\n}\n\nfunction calculateViewportUniforms(_ref2) {\n  var viewport = _ref2.viewport,\n      devicePixelRatio = _ref2.devicePixelRatio,\n      coordinateSystem = _ref2.coordinateSystem,\n      coordinateOrigin = _ref2.coordinateOrigin;\n\n  var _calculateMatrixAndOf = calculateMatrixAndOffset(viewport, coordinateSystem, coordinateOrigin),\n      projectionCenter = _calculateMatrixAndOf.projectionCenter,\n      viewProjectionMatrix = _calculateMatrixAndOf.viewProjectionMatrix,\n      cameraPosCommon = _calculateMatrixAndOf.cameraPosCommon,\n      shaderCoordinateOrigin = _calculateMatrixAndOf.shaderCoordinateOrigin,\n      geospatialOrigin = _calculateMatrixAndOf.geospatialOrigin;\n\n  var distanceScales = viewport.getDistanceScales();\n  var viewportSize = [viewport.width * devicePixelRatio, viewport.height * devicePixelRatio];\n  var uniforms = {\n    project_uCoordinateSystem: coordinateSystem,\n    project_uProjectionMode: viewport.projectionMode,\n    project_uCoordinateOrigin: shaderCoordinateOrigin,\n    project_uCenter: projectionCenter,\n    project_uAntimeridian: (viewport.longitude || 0) - 180,\n    project_uViewportSize: viewportSize,\n    project_uDevicePixelRatio: devicePixelRatio,\n    project_uFocalDistance: viewport.focalDistance || 1,\n    project_uCommonUnitsPerMeter: distanceScales.unitsPerMeter,\n    project_uCommonUnitsPerWorldUnit: distanceScales.unitsPerMeter,\n    project_uCommonUnitsPerWorldUnit2: DEFAULT_PIXELS_PER_UNIT2,\n    project_uScale: viewport.scale,\n    project_uViewProjectionMatrix: viewProjectionMatrix,\n    project_uCameraPosition: cameraPosCommon\n  };\n\n  if (geospatialOrigin) {\n    var distanceScalesAtOrigin = viewport.getDistanceScales(geospatialOrigin);\n\n    switch (coordinateSystem) {\n      case COORDINATE_SYSTEM.METER_OFFSETS:\n        uniforms.project_uCommonUnitsPerWorldUnit = distanceScalesAtOrigin.unitsPerMeter;\n        uniforms.project_uCommonUnitsPerWorldUnit2 = distanceScalesAtOrigin.unitsPerMeter2;\n        break;\n\n      case COORDINATE_SYSTEM.LNGLAT:\n      case COORDINATE_SYSTEM.LNGLAT_OFFSETS:\n        uniforms.project_uCommonUnitsPerWorldUnit = distanceScalesAtOrigin.unitsPerDegree;\n        uniforms.project_uCommonUnitsPerWorldUnit2 = distanceScalesAtOrigin.unitsPerDegree2;\n        break;\n\n      case COORDINATE_SYSTEM.CARTESIAN:\n        uniforms.project_uCommonUnitsPerWorldUnit = [1, 1, distanceScalesAtOrigin.unitsPerMeter[2]];\n        uniforms.project_uCommonUnitsPerWorldUnit2 = [0, 0, distanceScalesAtOrigin.unitsPerMeter2[2]];\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return uniforms;\n}","import { fp32 } from '@luma.gl/core';\nimport projectShader from './project.glsl';\nimport { getUniformsFromViewport } from './viewport-uniforms';\nvar INITIAL_MODULE_OPTIONS = {};\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_MODULE_OPTIONS;\n\n  if (opts.viewport) {\n    return getUniformsFromViewport(opts);\n  }\n\n  return {};\n}\n\nexport default {\n  name: 'project',\n  dependencies: [fp32],\n  vs: projectShader,\n  getUniforms: getUniforms\n};","import project from '../project/project';\nvar vs = \"\\nvec4 project_position_to_clipspace(\\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\\n) {\\n  vec3 projectedPosition = project_position(position, position64Low);\\n  commonPosition = vec4(projectedPosition + offset, 1.0);\\n  return project_common_position_to_clipspace(commonPosition);\\n}\\n\\nvec4 project_position_to_clipspace(\\n  vec3 position, vec3 position64Low, vec3 offset\\n) {\\n  vec4 commonPosition;\\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\\n}\\n\";\nexport default {\n  name: 'project32',\n  dependencies: [project],\n  vs: vs\n};","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nvar DEFAULT_HIGHLIGHT_COLOR = new Uint8Array([0, 255, 255, 255]);\nvar DEFAULT_MODULE_OPTIONS = {\n  pickingSelectedColor: null,\n  pickingHighlightColor: DEFAULT_HIGHLIGHT_COLOR,\n  pickingActive: false,\n  pickingAttribute: false\n};\n\nfunction getUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_MODULE_OPTIONS;\n  var uniforms = {};\n\n  if (opts.pickingSelectedColor !== undefined) {\n    if (!opts.pickingSelectedColor) {\n      uniforms.picking_uSelectedColorValid = 0;\n    } else {\n      var selectedColor = opts.pickingSelectedColor.slice(0, 3);\n      uniforms.picking_uSelectedColorValid = 1;\n      uniforms.picking_uSelectedColor = selectedColor;\n    }\n  }\n\n  if (opts.pickingHighlightColor) {\n    var color = Array.from(opts.pickingHighlightColor, function (x) {\n      return x / 255;\n    });\n\n    if (!Number.isFinite(color[3])) {\n      color[3] = 1;\n    }\n\n    uniforms.picking_uHighlightColor = color;\n  }\n\n  if (opts.pickingActive !== undefined) {\n    uniforms.picking_uActive = Boolean(opts.pickingActive);\n    uniforms.picking_uAttribute = Boolean(opts.pickingAttribute);\n  }\n\n  return uniforms;\n}\n\nvar vs = \"uniform bool picking_uActive;\\nuniform bool picking_uAttribute;\\nuniform vec3 picking_uSelectedColor;\\nuniform bool picking_uSelectedColorValid;\\n\\nout vec4 picking_vRGBcolor_Avalid;\\n\\nconst float COLOR_SCALE = 1. / 255.;\\n\\nbool picking_isColorValid(vec3 color) {\\n  return dot(color, vec3(1.0)) > 0.001;\\n}\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    picking_uSelectedColorValid &&\\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\\n}\\n\\nvoid picking_setPickingColor(vec3 pickingColor) {\\n  if (picking_uActive) {\\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\\n\\n    if (!picking_uAttribute) {\\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\\n    }\\n  } else {\\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\\n  }\\n}\\n\\nvoid picking_setPickingAttribute(float value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.r = value;\\n  }\\n}\\nvoid picking_setPickingAttribute(vec2 value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.rg = value;\\n  }\\n}\\nvoid picking_setPickingAttribute(vec3 value) {\\n  if (picking_uAttribute) {\\n    picking_vRGBcolor_Avalid.rgb = value;\\n  }\\n}\\n\";\nvar fs = \"uniform bool picking_uActive;\\nuniform vec3 picking_uSelectedColor;\\nuniform vec4 picking_uHighlightColor;\\n\\nin vec4 picking_vRGBcolor_Avalid;\\nvec4 picking_filterHighlightColor(vec4 color) {\\n  if (picking_uActive) {\\n    return color;\\n  }\\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\\n\\n  if (selected) {\\n    float highLightAlpha = picking_uHighlightColor.a;\\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\\n    float highLightRatio = highLightAlpha / blendedAlpha;\\n\\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\\n    return vec4(blendedRGB, blendedAlpha);\\n  } else {\\n    return color;\\n  }\\n}\\nvec4 picking_filterPickingColor(vec4 color) {\\n  if (picking_uActive) {\\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\\n      discard;\\n    }\\n    return picking_vRGBcolor_Avalid;\\n  }\\n  return color;\\n}\\nvec4 picking_filterColor(vec4 color) {\\n  vec4 highightColor = picking_filterHighlightColor(color);\\n  return picking_filterPickingColor(highightColor);\\n}\\n\\n\";\nexport default {\n  name: 'picking',\n  vs: vs,\n  fs: fs,\n  getUniforms: getUniforms\n};","import \"core-js/modules/es6.object.assign\";\nimport { picking } from '@luma.gl/core';\nexport default Object.assign({\n  inject: {\n    'vs:DECKGL_FILTER_COLOR': \"\\n    picking_setPickingColor(geometry.pickingColor);\\n    // for picking depth values\\n    picking_setPickingAttribute(geometry.position.z);\\n    \",\n    'fs:DECKGL_FILTER_COLOR': {\n      order: 99,\n      injection: \"\\n    // use highlight color if this fragment belongs to the selected object.\\n    color = picking_filterHighlightColor(color);\\n\\n    // use picking color if rendering to picking FBO.\\n    color = picking_filterPickingColor(color);\\n      \"\n    }\n  }\n}, picking);","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.assign\";\nimport { global, isBrowser as getIsBrowser } from 'probe.gl/env';\nimport trackContextState from '../state-tracker/track-context-state';\nimport { log as _log, assert, getDevicePixelRatio, isWebGL2 } from '../utils';\nexport var ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport var ERR_WEBGL = ERR_CONTEXT;\nexport var ERR_WEBGL2 = 'Requires WebGL2';\nvar isBrowser = getIsBrowser();\nvar isPage = isBrowser && typeof document !== 'undefined';\nvar CONTEXT_DEFAULTS = {\n  webgl2: true,\n  webgl1: true,\n  throwOnError: true,\n  manageState: true,\n  canvas: null,\n  debug: false,\n  width: 800,\n  height: 600\n};\nexport function createGLContext() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  assert(isBrowser, \"createGLContext on available in the browser.\\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils\");\n  options = Object.assign({}, CONTEXT_DEFAULTS, options);\n  var _options = options,\n      width = _options.width,\n      height = _options.height;\n\n  function onError(message) {\n    if (options.throwOnError) {\n      throw new Error(message);\n    }\n\n    console.error(message);\n    return null;\n  }\n\n  options.onError = onError;\n  var gl;\n  var _options2 = options,\n      canvas = _options2.canvas;\n  var targetCanvas = getCanvas({\n    canvas: canvas,\n    width: width,\n    height: height,\n    onError: onError\n  });\n  gl = createBrowserContext(targetCanvas, options);\n\n  if (!gl) {\n    return null;\n  }\n\n  gl = instrumentGLContext(gl, options);\n  logInfo(gl);\n  return gl;\n}\nexport function instrumentGLContext(gl) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!gl || gl._instrumented) {\n    return gl;\n  }\n\n  gl._version = gl._version || getVersion(gl);\n  gl.luma = gl.luma || {};\n  gl.luma.canvasSizeInfo = gl.luma.canvasSizeInfo || {};\n  options = Object.assign({}, CONTEXT_DEFAULTS, options);\n  var _options3 = options,\n      manageState = _options3.manageState,\n      debug = _options3.debug;\n\n  if (manageState) {\n    trackContextState(gl, {\n      copyState: false,\n      log: function log() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _log.log.apply(_log, [1].concat(args))();\n      }\n    });\n  }\n\n  if (isBrowser && debug) {\n    if (!global.makeDebugContext) {\n      _log.warn('WebGL debug mode not activated. import \"@luma.gl/debug\" to enable.')();\n    } else {\n      gl = global.makeDebugContext(gl, options);\n      _log.level = Math.max(_log.level, 1);\n    }\n  }\n\n  gl._instrumented = true;\n  return gl;\n}\nexport function getContextDebugInfo(gl) {\n  var vendorMasked = gl.getParameter(7936);\n  var rendererMasked = gl.getParameter(7937);\n  var ext = gl.getExtension('WEBGL_debug_renderer_info');\n  var vendorUnmasked = ext && gl.getParameter(ext.UNMASKED_VENDOR_WEBGL || 7936);\n  var rendererUnmasked = ext && gl.getParameter(ext.UNMASKED_RENDERER_WEBGL || 7937);\n  return {\n    vendor: vendorUnmasked || vendorMasked,\n    renderer: rendererUnmasked || rendererMasked,\n    vendorMasked: vendorMasked,\n    rendererMasked: rendererMasked,\n    version: gl.getParameter(7938),\n    shadingLanguageVersion: gl.getParameter(35724)\n  };\n}\nexport function resizeGLContext(gl) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (gl.canvas) {\n    var devicePixelRatio = getDevicePixelRatio(options.useDevicePixels);\n    setDevicePixelRatio(gl, devicePixelRatio, options);\n    return;\n  }\n\n  var ext = gl.getExtension('STACKGL_resize_drawingbuffer');\n\n  if (ext && \"width\" in options && \"height\" in options) {\n    ext.resize(options.width, options.height);\n  }\n}\n\nfunction createBrowserContext(canvas, options) {\n  var onError = options.onError;\n\n  var onCreateError = function onCreateError(error) {\n    return onError(\"WebGL context: \".concat(error.statusMessage || 'error'));\n  };\n\n  canvas.addEventListener('webglcontextcreationerror', onCreateError, false);\n  var _options$webgl = options.webgl1,\n      webgl1 = _options$webgl === void 0 ? true : _options$webgl,\n      _options$webgl2 = options.webgl2,\n      webgl2 = _options$webgl2 === void 0 ? true : _options$webgl2;\n  var gl = null;\n\n  if (webgl2) {\n    gl = gl || canvas.getContext('webgl2', options);\n    gl = gl || canvas.getContext('experimental-webgl2', options);\n  }\n\n  if (webgl1) {\n    gl = gl || canvas.getContext('webgl', options);\n    gl = gl || canvas.getContext('experimental-webgl', options);\n  }\n\n  canvas.removeEventListener('webglcontextcreationerror', onCreateError, false);\n\n  if (!gl) {\n    return onError(\"Failed to create \".concat(webgl2 && !webgl1 ? 'WebGL2' : 'WebGL', \" context\"));\n  }\n\n  return gl;\n}\n\nfunction getCanvas(_ref) {\n  var canvas = _ref.canvas,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height,\n      onError = _ref.onError;\n  var targetCanvas;\n\n  if (typeof canvas === 'string') {\n    var isPageLoaded = isPage && document.readyState === 'complete';\n\n    if (!isPageLoaded) {\n      onError(\"createGLContext called on canvas '\".concat(canvas, \"' before page was loaded\"));\n    }\n\n    targetCanvas = document.getElementById(canvas);\n  } else if (canvas) {\n    targetCanvas = canvas;\n  } else {\n    targetCanvas = document.createElement('canvas');\n    targetCanvas.id = 'lumagl-canvas';\n    targetCanvas.style.width = Number.isFinite(width) ? \"\".concat(width, \"px\") : '100%';\n    targetCanvas.style.height = Number.isFinite(height) ? \"\".concat(height, \"px\") : '100%';\n    document.body.insertBefore(targetCanvas, document.body.firstChild);\n  }\n\n  return targetCanvas;\n}\n\nfunction logInfo(gl) {\n  var webGL = isWebGL2(gl) ? 'WebGL2' : 'WebGL1';\n  var info = getContextDebugInfo(gl);\n  var driver = info ? \"(\".concat(info.vendor, \",\").concat(info.renderer, \")\") : '';\n  var debug = gl.debug ? ' debug' : '';\n\n  _log.info(1, \"\".concat(webGL).concat(debug, \" context \").concat(driver))();\n}\n\nfunction getVersion(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return 2;\n  }\n\n  return 1;\n}\n\nfunction setDevicePixelRatio(gl, devicePixelRatio, options) {\n  var clientWidth = 'width' in options ? options.width : gl.canvas.clientWidth;\n  var clientHeight = 'height' in options ? options.height : gl.canvas.clientHeight;\n\n  if (!clientWidth || !clientHeight) {\n    _log.log(1, 'Canvas clientWidth/clientHeight is 0')();\n\n    devicePixelRatio = 1;\n    clientWidth = gl.canvas.width || 1;\n    clientHeight = gl.canvas.height || 1;\n  }\n\n  gl.luma = gl.luma || {};\n  gl.luma.canvasSizeInfo = gl.luma.canvasSizeInfo || {};\n  var cachedSize = gl.luma.canvasSizeInfo;\n\n  if (cachedSize.clientWidth !== clientWidth || cachedSize.clientHeight !== clientHeight || cachedSize.devicePixelRatio !== devicePixelRatio) {\n    var clampedPixelRatio = devicePixelRatio;\n    var canvasWidth = Math.floor(clientWidth * clampedPixelRatio);\n    var canvasHeight = Math.floor(clientHeight * clampedPixelRatio);\n    gl.canvas.width = canvasWidth;\n    gl.canvas.height = canvasHeight;\n\n    if (gl.drawingBufferWidth !== canvasWidth || gl.drawingBufferHeight !== canvasHeight) {\n      _log.warn(\"Device pixel ratio clamped\")();\n\n      clampedPixelRatio = Math.min(gl.drawingBufferWidth / clientWidth, gl.drawingBufferHeight / clientHeight);\n      gl.canvas.width = Math.floor(clientWidth * clampedPixelRatio);\n      gl.canvas.height = Math.floor(clientHeight * clampedPixelRatio);\n    }\n\n    Object.assign(gl.luma.canvasSizeInfo, {\n      clientWidth: clientWidth,\n      clientHeight: clientHeight,\n      devicePixelRatio: devicePixelRatio\n    });\n  }\n}","import \"core-js/modules/es6.function.name\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport getHiResTimestamp from '../utils/hi-res-timestamp';\n\nvar Stat = function () {\n  function Stat(name, type) {\n    _classCallCheck(this, Stat);\n\n    this.name = name;\n    this.type = type;\n    this.sampleSize = 1;\n    this.reset();\n  }\n\n  _createClass(Stat, [{\n    key: \"setSampleSize\",\n    value: function setSampleSize(samples) {\n      this.sampleSize = samples;\n      return this;\n    }\n  }, {\n    key: \"incrementCount\",\n    value: function incrementCount() {\n      this.addCount(1);\n      return this;\n    }\n  }, {\n    key: \"decrementCount\",\n    value: function decrementCount() {\n      this.subtractCount(1);\n      return this;\n    }\n  }, {\n    key: \"addCount\",\n    value: function addCount(value) {\n      this._count += value;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"subtractCount\",\n    value: function subtractCount(value) {\n      this._count -= value;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"addTime\",\n    value: function addTime(time) {\n      this._time += time;\n      this.lastTiming = time;\n      this._samples++;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"timeStart\",\n    value: function timeStart() {\n      this._startTime = getHiResTimestamp();\n      this._timerPending = true;\n      return this;\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd() {\n      if (!this._timerPending) {\n        return this;\n      }\n\n      this.addTime(getHiResTimestamp() - this._startTime);\n      this._timerPending = false;\n\n      this._checkSampling();\n\n      return this;\n    }\n  }, {\n    key: \"getSampleAverageCount\",\n    value: function getSampleAverageCount() {\n      return this.sampleSize > 0 ? this.lastSampleCount / this.sampleSize : 0;\n    }\n  }, {\n    key: \"getSampleAverageTime\",\n    value: function getSampleAverageTime() {\n      return this.sampleSize > 0 ? this.lastSampleTime / this.sampleSize : 0;\n    }\n  }, {\n    key: \"getSampleHz\",\n    value: function getSampleHz() {\n      return this.lastSampleTime > 0 ? this.sampleSize / (this.lastSampleTime / 1000) : 0;\n    }\n  }, {\n    key: \"getAverageCount\",\n    value: function getAverageCount() {\n      return this.samples > 0 ? this.count / this.samples : 0;\n    }\n  }, {\n    key: \"getAverageTime\",\n    value: function getAverageTime() {\n      return this.samples > 0 ? this.time / this.samples : 0;\n    }\n  }, {\n    key: \"getHz\",\n    value: function getHz() {\n      return this.time > 0 ? this.samples / (this.time / 1000) : 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.time = 0;\n      this.count = 0;\n      this.samples = 0;\n      this.lastTiming = 0;\n      this.lastSampleTime = 0;\n      this.lastSampleCount = 0;\n      this._count = 0;\n      this._time = 0;\n      this._samples = 0;\n      this._startTime = 0;\n      this._timerPending = false;\n      return this;\n    }\n  }, {\n    key: \"_checkSampling\",\n    value: function _checkSampling() {\n      if (this._samples === this.sampleSize) {\n        this.lastSampleTime = this._time;\n        this.lastSampleCount = this._count;\n        this.count += this._count;\n        this.time += this._time;\n        this.samples += this._samples;\n        this._time = 0;\n        this._count = 0;\n        this._samples = 0;\n      }\n    }\n  }]);\n\n  return Stat;\n}();\n\nexport { Stat as default };","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Stat from './stat';\n\nvar Stats = function () {\n  function Stats(_ref) {\n    var id = _ref.id,\n        stats = _ref.stats;\n\n    _classCallCheck(this, Stats);\n\n    this.id = id;\n    this.stats = {};\n\n    this._initializeStats(stats);\n\n    Object.seal(this);\n  }\n\n  _createClass(Stats, [{\n    key: \"get\",\n    value: function get(name) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'count';\n      return this._getOrCreate({\n        name: name,\n        type: type\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      for (var key in this.stats) {\n        this.stats[key].reset();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      for (var key in this.stats) {\n        fn(this.stats[key]);\n      }\n    }\n  }, {\n    key: \"getTable\",\n    value: function getTable() {\n      var table = {};\n      this.forEach(function (stat) {\n        table[stat.name] = {\n          time: stat.time || 0,\n          count: stat.count || 0,\n          average: stat.getAverageTime() || 0,\n          hz: stat.getHz() || 0\n        };\n      });\n      return table;\n    }\n  }, {\n    key: \"_initializeStats\",\n    value: function _initializeStats() {\n      var _this = this;\n\n      var stats = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      stats.forEach(function (stat) {\n        return _this._getOrCreate(stat);\n      });\n    }\n  }, {\n    key: \"_getOrCreate\",\n    value: function _getOrCreate(stat) {\n      if (!stat || !stat.name) {\n        return null;\n      }\n\n      var name = stat.name,\n          type = stat.type;\n\n      if (!this.stats[name]) {\n        if (stat instanceof Stat) {\n          this.stats[name] = stat;\n        } else {\n          this.stats[name] = new Stat(name, type);\n        }\n      }\n\n      return this.stats[name];\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return Object.keys(this.stats).length;\n    }\n  }]);\n\n  return Stats;\n}();\n\nexport { Stats as default };","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { log } from '@luma.gl/gltools';\nimport { Stats } from 'probe.gl';\nimport { isBrowser, global } from 'probe.gl/env';\nvar VERSION = typeof \"8.1.3\" !== 'undefined' ? \"8.1.3\" : 'untranspiled source';\nvar STARTUP_MESSAGE = 'set luma.log.level=1 (or higher) to trace rendering';\n\nvar StatsManager = function () {\n  function StatsManager() {\n    _classCallCheck(this, StatsManager);\n\n    this.stats = new Map();\n  }\n\n  _createClass(StatsManager, [{\n    key: \"get\",\n    value: function get(name) {\n      if (!this.stats.has(name)) {\n        this.stats.set(name, new Stats({\n          id: name\n        }));\n      }\n\n      return this.stats.get(name);\n    }\n  }]);\n\n  return StatsManager;\n}();\n\nvar lumaStats = new StatsManager();\n\nif (global.luma && global.luma.VERSION !== VERSION) {\n  throw new Error(\"luma.gl - multiple VERSIONs detected: \".concat(global.luma.VERSION, \" vs \").concat(VERSION));\n}\n\nif (!global.luma) {\n  if (isBrowser()) {\n    log.log(1, \"luma.gl \".concat(VERSION, \" - \").concat(STARTUP_MESSAGE))();\n  }\n\n  global.luma = global.luma || {\n    VERSION: VERSION,\n    version: VERSION,\n    log: log,\n    stats: lumaStats,\n    globals: {\n      modules: {},\n      nodeIO: {}\n    }\n  };\n}\n\nexport { lumaStats };\nexport default global.luma;","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'luma.gl: assertion failed.');\n  }\n}","import { assert } from '../utils';\nimport { isWebGL, isWebGL2 } from '@luma.gl/gltools';\nexport var ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport var ERR_WEBGL = ERR_CONTEXT;\nexport var ERR_WEBGL2 = 'Requires WebGL2';\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n}\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { assert } from '../utils';\nexport function getKeyValue(gl, name) {\n  if (typeof name !== 'string') {\n    return name;\n  }\n\n  var number = Number(name);\n\n  if (!isNaN(number)) {\n    return number;\n  }\n\n  name = name.replace(/^.*\\./, '');\n  var value = gl[name];\n  assert(value !== undefined, \"Accessing undefined constant GL.\".concat(name));\n  return value;\n}\nexport function getKey(gl, value) {\n  value = Number(value);\n\n  for (var key in gl) {\n    if (gl[key] === value) {\n      return \"GL.\".concat(key);\n    }\n  }\n\n  return String(value);\n}\nexport function getKeyType(gl, value) {\n  assert(value !== undefined, 'undefined key');\n  value = Number(value);\n\n  for (var key in gl) {\n    if (gl[key] === value) {\n      return \"GL.\".concat(key);\n    }\n  }\n\n  return String(value);\n}","import assert from './assert';\nvar uidCounters = {};\nexport function uid() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'id';\n  uidCounters[id] = uidCounters[id] || 1;\n  var count = uidCounters[id]++;\n  return \"\".concat(id, \"-\").concat(count);\n}\nexport function isPowerOfTwo(n) {\n  assert(typeof n === 'number', 'Input must be a number');\n  return n && (n & n - 1) === 0;\n}\nexport function isObjectEmpty(obj) {\n  var isEmpty = true;\n\n  for (var key in obj) {\n    isEmpty = false;\n    break;\n  }\n\n  return isEmpty;\n}","import \"core-js/modules/es6.array.for-each\";\nimport { log } from '@luma.gl/gltools';\nexport function stubRemovedMethods(instance, className, version, methodNames) {\n  var upgradeMessage = \"See luma.gl \".concat(version, \" Upgrade Guide at https://luma.gl/docs/upgrade-guide\");\n  var prototype = Object.getPrototypeOf(instance);\n  methodNames.forEach(function (methodName) {\n    if (prototype.methodName) {\n      return;\n    }\n\n    prototype[methodName] = function () {\n      log.removed(\"Calling removed method \".concat(className, \".\").concat(methodName, \": \"), upgradeMessage)();\n      throw new Error(methodName);\n    };\n  });\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { lumaStats } from '../init';\nimport { assertWebGLContext, getKey, getKeyValue } from '../webgl-utils';\nimport { uid, assert, stubRemovedMethods as _stubRemovedMethods } from '../utils';\nvar ERR_RESOURCE_METHOD_UNDEFINED = 'Resource subclass must define virtual methods';\n\nvar Resource = function () {\n  function Resource(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Resource);\n\n    assertWebGLContext(gl);\n    var id = opts.id,\n        _opts$userData = opts.userData,\n        userData = _opts$userData === void 0 ? {} : _opts$userData;\n    this.gl = gl;\n    this.id = id || uid(this.constructor.name);\n    this.userData = userData;\n    this._bound = false;\n    this._handle = opts.handle;\n\n    if (this._handle === undefined) {\n      this._handle = this._createHandle();\n    }\n\n    this.byteLength = 0;\n\n    this._addStats();\n  }\n\n  _createClass(Resource, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.constructor.name, \"(\").concat(this.id, \")\");\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$deleteChildren = _ref.deleteChildren,\n          deleteChildren = _ref$deleteChildren === void 0 ? false : _ref$deleteChildren;\n\n      var children = this._handle && this._deleteHandle(this._handle);\n\n      if (this._handle) {\n        this._removeStats();\n      }\n\n      this._handle = null;\n\n      if (children && deleteChildren) {\n        children.filter(Boolean).forEach(function (child) {\n          child[\"delete\"]();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var funcOrHandle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.handle;\n\n      if (typeof funcOrHandle !== 'function') {\n        this._bindHandle(funcOrHandle);\n\n        return this;\n      }\n\n      var value;\n\n      if (!this._bound) {\n        this._bindHandle(this.handle);\n\n        this._bound = true;\n        value = funcOrHandle();\n        this._bound = false;\n\n        this._bindHandle(null);\n      } else {\n        value = funcOrHandle();\n      }\n\n      return value;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.bind(null);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      pname = getKeyValue(this.gl, pname);\n      assert(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = isWebGL2(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          var webgl1Default = parameter.webgl1;\n          var webgl2Default = 'webgl2' in parameter ? parameter.webgl2 : parameter.webgl1;\n          var defaultValue = isWebgl2 ? webgl2Default : webgl1Default;\n          return defaultValue;\n        }\n      }\n\n      return this._getParameter(pname, opts);\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _ref2 = {},\n          parameters = _ref2.parameters,\n          keys = _ref2.keys;\n      var PARAMETERS = this.constructor.PARAMETERS || {};\n      var isWebgl2 = isWebGL2(this.gl);\n      var values = {};\n      var parameterKeys = parameters || Object.keys(PARAMETERS);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = parameterKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pname = _step.value;\n          var parameter = PARAMETERS[pname];\n          var parameterAvailable = parameter && (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n          if (parameterAvailable) {\n            var key = keys ? getKey(this.gl, pname) : pname;\n            values[key] = this.getParameter(pname, opts);\n\n            if (keys && parameter.type === 'GLenum') {\n              values[key] = getKey(this.gl, values[key]);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"setParameter\",\n    value: function setParameter(pname, value) {\n      pname = getKeyValue(this.gl, pname);\n      assert(pname);\n      var parameters = this.constructor.PARAMETERS || {};\n      var parameter = parameters[pname];\n\n      if (parameter) {\n        var isWebgl2 = isWebGL2(this.gl);\n        var parameterAvailable = (!('webgl2' in parameter) || isWebgl2) && (!('extension' in parameter) || this.gl.getExtension(parameter.extension));\n\n        if (!parameterAvailable) {\n          throw new Error('Parameter not available on this platform');\n        }\n\n        if (parameter.type === 'GLenum') {\n          value = getKeyValue(value);\n        }\n      }\n\n      this._setParameter(pname, value);\n\n      return this;\n    }\n  }, {\n    key: \"setParameters\",\n    value: function setParameters(parameters) {\n      for (var pname in parameters) {\n        this.setParameter(pname, parameters[pname]);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"stubRemovedMethods\",\n    value: function stubRemovedMethods(className, version, methodNames) {\n      return _stubRemovedMethods(this, className, version, methodNames);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize(opts) {}\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, opts) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, value) {\n      throw new Error(ERR_RESOURCE_METHOD_UNDEFINED);\n    }\n  }, {\n    key: \"_context\",\n    value: function _context() {\n      this.gl.luma = this.gl.luma || {};\n      return this.gl.luma;\n    }\n  }, {\n    key: \"_addStats\",\n    value: function _addStats() {\n      var name = this.constructor.name;\n      var stats = lumaStats.get('Resource Counts');\n      stats.get('Resources Created').incrementCount();\n      stats.get(\"\".concat(name, \"s Created\")).incrementCount();\n      stats.get(\"\".concat(name, \"s Active\")).incrementCount();\n    }\n  }, {\n    key: \"_removeStats\",\n    value: function _removeStats() {\n      var name = this.constructor.name;\n      var stats = lumaStats.get('Resource Counts');\n      stats.get(\"\".concat(name, \"s Active\")).decrementCount();\n    }\n  }, {\n    key: \"_trackAllocatedMemory\",\n    value: function _trackAllocatedMemory(bytes) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.constructor.name;\n      var stats = lumaStats.get('Memory Usage');\n      stats.get('GPU Memory').addCount(bytes);\n      stats.get(\"\".concat(name, \" Memory\")).addCount(bytes);\n      this.byteLength = bytes;\n    }\n  }, {\n    key: \"_trackDeallocatedMemory\",\n    value: function _trackDeallocatedMemory() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.constructor.name;\n      var stats = lumaStats.get('Memory Usage');\n      stats.get('GPU Memory').subtractCount(this.byteLength);\n      stats.get(\"\".concat(name, \" Memory\")).subtractCount(this.byteLength);\n      this.byteLength = 0;\n    }\n  }, {\n    key: \"handle\",\n    get: function get() {\n      return this._handle;\n    }\n  }]);\n\n  return Resource;\n}();\n\nexport { Resource as default };","import \"core-js/modules/es6.array.copy-within\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.int16-array\";\nimport \"core-js/modules/es6.typed.int8-array\";\nimport \"core-js/modules/es6.typed.uint8-clamped-array\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.uint16-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nvar ERR_TYPE_DEDUCTION = 'Failed to deduce GL constant from typed array';\nexport function getGLTypeFromTypedArray(arrayOrType) {\n  var type = ArrayBuffer.isView(arrayOrType) ? arrayOrType.constructor : arrayOrType;\n\n  switch (type) {\n    case Float32Array:\n      return 5126;\n\n    case Uint16Array:\n      return 5123;\n\n    case Uint32Array:\n      return 5125;\n\n    case Uint8Array:\n      return 5121;\n\n    case Uint8ClampedArray:\n      return 5121;\n\n    case Int8Array:\n      return 5120;\n\n    case Int16Array:\n      return 5122;\n\n    case Int32Array:\n      return 5124;\n\n    default:\n      throw new Error(ERR_TYPE_DEDUCTION);\n  }\n}\nexport function getTypedArrayFromGLType(glType) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clamped = _ref.clamped,\n      clamped = _ref$clamped === void 0 ? true : _ref$clamped;\n\n  switch (glType) {\n    case 5126:\n      return Float32Array;\n\n    case 5123:\n    case 33635:\n    case 32819:\n    case 32820:\n      return Uint16Array;\n\n    case 5125:\n      return Uint32Array;\n\n    case 5121:\n      return clamped ? Uint8ClampedArray : Uint8Array;\n\n    case 5120:\n      return Int8Array;\n\n    case 5122:\n      return Int16Array;\n\n    case 5124:\n      return Int32Array;\n\n    default:\n      throw new Error('Failed to deduce typed array type from GL constant');\n  }\n}\nexport function flipRows(_ref2) {\n  var data = _ref2.data,\n      width = _ref2.width,\n      height = _ref2.height,\n      _ref2$bytesPerPixel = _ref2.bytesPerPixel,\n      bytesPerPixel = _ref2$bytesPerPixel === void 0 ? 4 : _ref2$bytesPerPixel,\n      temp = _ref2.temp;\n  var bytesPerRow = width * bytesPerPixel;\n  temp = temp || new Uint8Array(bytesPerRow);\n\n  for (var y = 0; y < height / 2; ++y) {\n    var topOffset = y * bytesPerRow;\n    var bottomOffset = (height - y - 1) * bytesPerRow;\n    temp.set(data.subarray(topOffset, topOffset + bytesPerRow));\n    data.copyWithin(topOffset, bottomOffset, bottomOffset + bytesPerRow);\n    data.set(temp, bottomOffset);\n  }\n}\nexport function scalePixels(_ref3) {\n  var data = _ref3.data,\n      width = _ref3.width,\n      height = _ref3.height;\n  var newWidth = Math.round(width / 2);\n  var newHeight = Math.round(height / 2);\n  var newData = new Uint8Array(newWidth * newHeight * 4);\n\n  for (var y = 0; y < newHeight; y++) {\n    for (var x = 0; x < newWidth; x++) {\n      for (var c = 0; c < 4; c++) {\n        newData[(y * newWidth + x) * 4 + c] = data[(y * 2 * width + x * 2) * 4 + c];\n      }\n    }\n  }\n\n  return {\n    data: newData,\n    width: newWidth,\n    height: newHeight\n  };\n}","import \"core-js/modules/es6.object.assign\";\nimport { log } from '@luma.gl/gltools';\nexport function checkProps(className, props, propChecks) {\n  var _propChecks$removedPr = propChecks.removedProps,\n      removedProps = _propChecks$removedPr === void 0 ? {} : _propChecks$removedPr,\n      _propChecks$deprecate = propChecks.deprecatedProps,\n      deprecatedProps = _propChecks$deprecate === void 0 ? {} : _propChecks$deprecate,\n      _propChecks$replacedP = propChecks.replacedProps,\n      replacedProps = _propChecks$replacedP === void 0 ? {} : _propChecks$replacedP;\n\n  for (var propName in removedProps) {\n    if (propName in props) {\n      var replacementProp = removedProps[propName];\n      var replacement = replacementProp ? \"\".concat(className, \".\").concat(removedProps[propName]) : 'N/A';\n      log.removed(\"\".concat(className, \".\").concat(propName), replacement)();\n    }\n  }\n\n  for (var _propName in deprecatedProps) {\n    if (_propName in props) {\n      var _replacementProp = deprecatedProps[_propName];\n      log.deprecated(\"\".concat(className, \".\").concat(_propName), \"\".concat(className, \".\").concat(_replacementProp))();\n    }\n  }\n\n  var newProps = null;\n\n  for (var _propName2 in replacedProps) {\n    if (_propName2 in props) {\n      var _replacementProp2 = replacedProps[_propName2];\n      log.deprecated(\"\".concat(className, \".\").concat(_propName2), \"\".concat(className, \".\").concat(_replacementProp2))();\n      newProps = newProps || Object.assign({}, props);\n      newProps[_replacementProp2] = props[_propName2];\n      delete newProps[_propName2];\n    }\n  }\n\n  return newProps || props;\n}","import \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _construct from \"@babel/runtime/helpers/esm/construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { getTypedArrayFromGLType } from '../webgl-utils';\nimport { checkProps, assert } from '../utils';\nvar DEFAULT_ACCESSOR_VALUES = {\n  offset: 0,\n  stride: 0,\n  type: 5126,\n  size: 1,\n  divisor: 0,\n  normalized: false,\n  integer: false\n};\nvar PROP_CHECKS = {\n  deprecatedProps: {\n    instanced: 'divisor',\n    isInstanced: 'divisor'\n  }\n};\n\nvar Accessor = function () {\n  _createClass(Accessor, null, [{\n    key: \"getBytesPerElement\",\n    value: function getBytesPerElement(accessor) {\n      var ArrayType = getTypedArrayFromGLType(accessor.type || 5126);\n      return ArrayType.BYTES_PER_ELEMENT;\n    }\n  }, {\n    key: \"getBytesPerVertex\",\n    value: function getBytesPerVertex(accessor) {\n      assert(accessor.size);\n      var ArrayType = getTypedArrayFromGLType(accessor.type || 5126);\n      return ArrayType.BYTES_PER_ELEMENT * accessor.size;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve() {\n      for (var _len = arguments.length, accessors = new Array(_len), _key = 0; _key < _len; _key++) {\n        accessors[_key] = arguments[_key];\n      }\n\n      return _construct(Accessor, [DEFAULT_ACCESSOR_VALUES].concat(accessors));\n    }\n  }]);\n\n  function Accessor() {\n    var _this = this;\n\n    _classCallCheck(this, Accessor);\n\n    for (var _len2 = arguments.length, accessors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      accessors[_key2] = arguments[_key2];\n    }\n\n    accessors.forEach(function (accessor) {\n      return _this._assign(accessor);\n    });\n    Object.freeze(this);\n  }\n\n  _createClass(Accessor, [{\n    key: \"toString\",\n    value: function toString() {\n      return JSON.stringify(this);\n    }\n  }, {\n    key: \"_assign\",\n    value: function _assign() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      props = checkProps('Accessor', props, PROP_CHECKS);\n\n      if (props.type !== undefined) {\n        this.type = props.type;\n\n        if (props.type === 5124 || props.type === 5125) {\n          this.integer = true;\n        }\n      }\n\n      if (props.size !== undefined) {\n        this.size = props.size;\n      }\n\n      if (props.offset !== undefined) {\n        this.offset = props.offset;\n      }\n\n      if (props.stride !== undefined) {\n        this.stride = props.stride;\n      }\n\n      if (props.normalized !== undefined) {\n        this.normalized = props.normalized;\n      }\n\n      if (props.integer !== undefined) {\n        this.integer = props.integer;\n      }\n\n      if (props.divisor !== undefined) {\n        this.divisor = props.divisor;\n      }\n\n      if (props.buffer !== undefined) {\n        this.buffer = props.buffer;\n      }\n\n      if (props.index !== undefined) {\n        if (typeof index === 'boolean') {\n          this.index = props.index ? 1 : 0;\n        } else {\n          this.index = props.index;\n        }\n      }\n\n      if (props.instanced !== undefined) {\n        this.divisor = props.instanced ? 1 : 0;\n      }\n\n      if (props.isInstanced !== undefined) {\n        this.divisor = props.isInstanced ? 1 : 0;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"BYTES_PER_ELEMENT\",\n    get: function get() {\n      return Accessor.getBytesPerElement(this);\n    }\n  }, {\n    key: \"BYTES_PER_VERTEX\",\n    get: function get() {\n      return Accessor.getBytesPerVertex(this);\n    }\n  }]);\n\n  return Accessor;\n}();\n\nexport { Accessor as default };\nexport { DEFAULT_ACCESSOR_VALUES };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _TEXTURE_FORMATS, _DATA_FORMAT_CHANNELS, _TYPE_SIZES;\n\nimport { isWebGL2 } from '@luma.gl/gltools';\nexport var TEXTURE_FORMATS = (_TEXTURE_FORMATS = {}, _defineProperty(_TEXTURE_FORMATS, 6407, {\n  dataFormat: 6407,\n  types: [5121, 33635]\n}), _defineProperty(_TEXTURE_FORMATS, 6408, {\n  dataFormat: 6408,\n  types: [5121, 32819, 32820]\n}), _defineProperty(_TEXTURE_FORMATS, 6406, {\n  dataFormat: 6406,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 6409, {\n  dataFormat: 6409,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 6410, {\n  dataFormat: 6410,\n  types: [5121]\n}), _defineProperty(_TEXTURE_FORMATS, 33326, {\n  dataFormat: 6403,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 33328, {\n  dataFormat: 33319,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 34837, {\n  dataFormat: 6407,\n  types: [5126],\n  gl2: true\n}), _defineProperty(_TEXTURE_FORMATS, 34836, {\n  dataFormat: 6408,\n  types: [5126],\n  gl2: true\n}), _TEXTURE_FORMATS);\nexport var DATA_FORMAT_CHANNELS = (_DATA_FORMAT_CHANNELS = {}, _defineProperty(_DATA_FORMAT_CHANNELS, 6403, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 36244, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 33319, 2), _defineProperty(_DATA_FORMAT_CHANNELS, 33320, 2), _defineProperty(_DATA_FORMAT_CHANNELS, 6407, 3), _defineProperty(_DATA_FORMAT_CHANNELS, 36248, 3), _defineProperty(_DATA_FORMAT_CHANNELS, 6408, 4), _defineProperty(_DATA_FORMAT_CHANNELS, 36249, 4), _defineProperty(_DATA_FORMAT_CHANNELS, 6402, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 34041, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6406, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6409, 1), _defineProperty(_DATA_FORMAT_CHANNELS, 6410, 2), _DATA_FORMAT_CHANNELS);\nexport var TYPE_SIZES = (_TYPE_SIZES = {}, _defineProperty(_TYPE_SIZES, 5126, 4), _defineProperty(_TYPE_SIZES, 5125, 4), _defineProperty(_TYPE_SIZES, 5124, 4), _defineProperty(_TYPE_SIZES, 5123, 2), _defineProperty(_TYPE_SIZES, 5122, 2), _defineProperty(_TYPE_SIZES, 5131, 2), _defineProperty(_TYPE_SIZES, 5120, 1), _defineProperty(_TYPE_SIZES, 5121, 1), _TYPE_SIZES);\nexport function isFormatSupported(gl, format) {\n  var info = TEXTURE_FORMATS[format];\n\n  if (!info) {\n    return false;\n  }\n\n  if (info.gl1 === undefined && info.gl2 === undefined) {\n    return true;\n  }\n\n  var value = isWebGL2(gl) ? info.gl2 || info.gl1 : info.gl1;\n  return typeof value === 'string' ? gl.getExtension(value) : value;\n}\nexport function isLinearFilteringSupported(gl, format) {\n  var info = TEXTURE_FORMATS[format];\n\n  switch (info && info.types[0]) {\n    case 5126:\n      return gl.getExtension('OES_texture_float_linear');\n\n    case 5131:\n      return gl.getExtension('OES_texture_half_float_linear');\n\n    default:\n      return true;\n  }\n}","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport Accessor from './accessor';\nimport { assertWebGL2Context, getGLTypeFromTypedArray, getTypedArrayFromGLType } from '../webgl-utils';\nimport { log } from '@luma.gl/gltools';\nimport { assert, checkProps } from '../utils';\nvar DEBUG_DATA_LENGTH = 10;\nvar DEPRECATED_PROPS = {\n  offset: 'accessor.offset',\n  stride: 'accessor.stride',\n  type: 'accessor.type',\n  size: 'accessor.size',\n  divisor: 'accessor.divisor',\n  normalized: 'accessor.normalized',\n  integer: 'accessor.integer',\n  instanced: 'accessor.divisor',\n  isInstanced: 'accessor.divisor'\n};\nvar PROP_CHECKS_INITIALIZE = {\n  removedProps: {},\n  replacedProps: {\n    bytes: 'byteLength'\n  },\n  deprecatedProps: DEPRECATED_PROPS\n};\nvar PROP_CHECKS_SET_PROPS = {\n  removedProps: DEPRECATED_PROPS\n};\n\nvar Buffer = function (_Resource) {\n  _inherits(Buffer, _Resource);\n\n  function Buffer(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Buffer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Buffer).call(this, gl, props));\n\n    _this.stubRemovedMethods('Buffer', 'v6.0', ['layout', 'setLayout', 'getIndexedParameter']);\n\n    _this.target = props.target || (_this.gl.webgl2 ? 36662 : 34962);\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Buffer, [{\n    key: \"getElementCount\",\n    value: function getElementCount() {\n      var accessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.accessor;\n      return Math.round(this.byteLength / Accessor.getBytesPerElement(accessor));\n    }\n  }, {\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      var accessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.accessor;\n      return Math.round(this.byteLength / Accessor.getBytesPerVertex(accessor));\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (ArrayBuffer.isView(props)) {\n        props = {\n          data: props\n        };\n      }\n\n      if (Number.isFinite(props)) {\n        props = {\n          byteLength: props\n        };\n      }\n\n      props = checkProps('Buffer', props, PROP_CHECKS_INITIALIZE);\n      this.usage = props.usage || 35044;\n      this.debugData = null;\n      this.setAccessor(Object.assign({}, props, props.accessor));\n\n      if (props.data) {\n        this._setData(props.data, props.offset, props.byteLength);\n      } else {\n        this._setByteLength(props.byteLength || 0);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      props = checkProps('Buffer', props, PROP_CHECKS_SET_PROPS);\n\n      if ('accessor' in props) {\n        this.setAccessor(props.accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setAccessor\",\n    value: function setAccessor(accessor) {\n      accessor = Object.assign({}, accessor);\n      delete accessor.buffer;\n      this.accessor = new Accessor(accessor);\n      return this;\n    }\n  }, {\n    key: \"reallocate\",\n    value: function reallocate(byteLength) {\n      if (byteLength > this.byteLength) {\n        this._setByteLength(byteLength);\n\n        return true;\n      }\n\n      this.bytesUsed = byteLength;\n      return false;\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(props) {\n      return this.initialize(props);\n    }\n  }, {\n    key: \"subData\",\n    value: function subData(props) {\n      if (ArrayBuffer.isView(props)) {\n        props = {\n          data: props\n        };\n      }\n\n      var _props = props,\n          data = _props.data,\n          _props$offset = _props.offset,\n          offset = _props$offset === void 0 ? 0 : _props$offset,\n          _props$srcOffset = _props.srcOffset,\n          srcOffset = _props$srcOffset === void 0 ? 0 : _props$srcOffset;\n      var byteLength = props.byteLength || props.length;\n      assert(data);\n      var target = this.gl.webgl2 ? 36663 : this.target;\n      this.gl.bindBuffer(target, this.handle);\n\n      if (srcOffset !== 0 || byteLength !== undefined) {\n        assertWebGL2Context(this.gl);\n        this.gl.bufferSubData(this.target, offset, data, srcOffset, byteLength);\n      } else {\n        this.gl.bufferSubData(target, offset, data);\n      }\n\n      this.gl.bindBuffer(target, null);\n      this.debugData = null;\n\n      this._inferType(data);\n\n      return this;\n    }\n  }, {\n    key: \"copyData\",\n    value: function copyData(_ref) {\n      var sourceBuffer = _ref.sourceBuffer,\n          _ref$readOffset = _ref.readOffset,\n          readOffset = _ref$readOffset === void 0 ? 0 : _ref$readOffset,\n          _ref$writeOffset = _ref.writeOffset,\n          writeOffset = _ref$writeOffset === void 0 ? 0 : _ref$writeOffset,\n          size = _ref.size;\n      var gl = this.gl;\n      assertWebGL2Context(gl);\n      gl.bindBuffer(36662, sourceBuffer.handle);\n      gl.bindBuffer(36663, this.handle);\n      gl.copyBufferSubData(36662, 36663, readOffset, writeOffset, size);\n      gl.bindBuffer(36662, null);\n      gl.bindBuffer(36663, null);\n      this.debugData = null;\n      return this;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$dstData = _ref2.dstData,\n          dstData = _ref2$dstData === void 0 ? null : _ref2$dstData,\n          _ref2$srcByteOffset = _ref2.srcByteOffset,\n          srcByteOffset = _ref2$srcByteOffset === void 0 ? 0 : _ref2$srcByteOffset,\n          _ref2$dstOffset = _ref2.dstOffset,\n          dstOffset = _ref2$dstOffset === void 0 ? 0 : _ref2$dstOffset,\n          _ref2$length = _ref2.length,\n          length = _ref2$length === void 0 ? 0 : _ref2$length;\n\n      assertWebGL2Context(this.gl);\n      var ArrayType = getTypedArrayFromGLType(this.accessor.type || 5126, {\n        clamped: false\n      });\n\n      var sourceAvailableElementCount = this._getAvailableElementCount(srcByteOffset);\n\n      var dstElementOffset = dstOffset;\n      var dstAvailableElementCount;\n      var dstElementCount;\n\n      if (dstData) {\n        dstElementCount = dstData.length;\n        dstAvailableElementCount = dstElementCount - dstElementOffset;\n      } else {\n        dstAvailableElementCount = Math.min(sourceAvailableElementCount, length || sourceAvailableElementCount);\n        dstElementCount = dstElementOffset + dstAvailableElementCount;\n      }\n\n      var copyElementCount = Math.min(sourceAvailableElementCount, dstAvailableElementCount);\n      length = length || copyElementCount;\n      assert(length <= copyElementCount);\n      dstData = dstData || new ArrayType(dstElementCount);\n      this.gl.bindBuffer(36662, this.handle);\n      this.gl.getBufferSubData(36662, srcByteOffset, dstData, dstOffset, length);\n      this.gl.bindBuffer(36662, null);\n      return dstData;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$target = _ref3.target,\n          target = _ref3$target === void 0 ? this.target : _ref3$target,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? this.accessor && this.accessor.index : _ref3$index,\n          _ref3$offset = _ref3.offset,\n          offset = _ref3$offset === void 0 ? 0 : _ref3$offset,\n          size = _ref3.size;\n\n      if (target === 35345 || target === 35982) {\n        if (size !== undefined) {\n          this.gl.bindBufferRange(target, index, this.handle, offset, size);\n        } else {\n          assert(offset === 0);\n          this.gl.bindBufferBase(target, index, this.handle);\n        }\n      } else {\n        this.gl.bindBuffer(target, this.handle);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$target = _ref4.target,\n          target = _ref4$target === void 0 ? this.target : _ref4$target,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? this.accessor && this.accessor.index : _ref4$index;\n\n      var isIndexedBuffer = target === 35345 || target === 35982;\n\n      if (isIndexedBuffer) {\n        this.gl.bindBufferBase(target, index, null);\n      } else {\n        this.gl.bindBuffer(target, null);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getDebugData\",\n    value: function getDebugData() {\n      if (!this.debugData) {\n        this.debugData = this.getData({\n          length: Math.min(DEBUG_DATA_LENGTH, this.byteLength)\n        });\n        return {\n          data: this.debugData,\n          changed: true\n        };\n      }\n\n      return {\n        data: this.debugData,\n        changed: false\n      };\n    }\n  }, {\n    key: \"invalidateDebugData\",\n    value: function invalidateDebugData() {\n      this.debugData = null;\n    }\n  }, {\n    key: \"_setData\",\n    value: function _setData(data) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var byteLength = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : data.byteLength + offset;\n      assert(ArrayBuffer.isView(data));\n\n      this._trackDeallocatedMemory();\n\n      var target = this._getTarget();\n\n      this.gl.bindBuffer(target, this.handle);\n      this.gl.bufferData(target, byteLength, this.usage);\n      this.gl.bufferSubData(target, offset, data);\n      this.gl.bindBuffer(target, null);\n      this.debugData = data.slice(0, DEBUG_DATA_LENGTH);\n      this.bytesUsed = byteLength;\n\n      this._trackAllocatedMemory(byteLength);\n\n      var type = getGLTypeFromTypedArray(data);\n      assert(type);\n      this.setAccessor(new Accessor(this.accessor, {\n        type: type\n      }));\n      return this;\n    }\n  }, {\n    key: \"_setByteLength\",\n    value: function _setByteLength(byteLength) {\n      var usage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.usage;\n      assert(byteLength >= 0);\n\n      this._trackDeallocatedMemory();\n\n      var data = byteLength;\n\n      if (byteLength === 0) {\n        data = new Float32Array(0);\n      }\n\n      var target = this._getTarget();\n\n      this.gl.bindBuffer(target, this.handle);\n      this.gl.bufferData(target, data, usage);\n      this.gl.bindBuffer(target, null);\n      this.usage = usage;\n      this.debugData = null;\n      this.bytesUsed = byteLength;\n\n      this._trackAllocatedMemory(byteLength);\n\n      return this;\n    }\n  }, {\n    key: \"_getTarget\",\n    value: function _getTarget() {\n      return this.gl.webgl2 ? 36663 : this.target;\n    }\n  }, {\n    key: \"_getAvailableElementCount\",\n    value: function _getAvailableElementCount(srcByteOffset) {\n      var ArrayType = getTypedArrayFromGLType(this.accessor.type || 5126, {\n        clamped: false\n      });\n      var sourceElementOffset = srcByteOffset / ArrayType.BYTES_PER_ELEMENT;\n      return this.getElementCount() - sourceElementOffset;\n    }\n  }, {\n    key: \"_inferType\",\n    value: function _inferType(data) {\n      if (!this.accessor.type) {\n        this.setAccessor(new Accessor(this.accessor, {\n          type: getGLTypeFromTypedArray(data)\n        }));\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createBuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteBuffer(this.handle);\n\n      this._trackDeallocatedMemory();\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      this.gl.bindBuffer(this.target, this.handle);\n      var value = this.gl.getBufferParameter(this.target, pname);\n      this.gl.bindBuffer(this.target, null);\n      return value;\n    }\n  }, {\n    key: \"setByteLength\",\n    value: function setByteLength(byteLength) {\n      log.deprecated('setByteLength', 'reallocate')();\n      return this.reallocate(byteLength);\n    }\n  }, {\n    key: \"updateAccessor\",\n    value: function updateAccessor(opts) {\n      log.deprecated('updateAccessor(...)', 'setAccessor(new Accessor(buffer.accessor, ...)')();\n      this.accessor = new Accessor(this.accessor, opts);\n      return this;\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      log.deprecated('Buffer.type', 'Buffer.accessor.type')();\n      return this.accessor.type;\n    }\n  }, {\n    key: \"bytes\",\n    get: function get() {\n      log.deprecated('Buffer.bytes', 'Buffer.byteLength')();\n      return this.byteLength;\n    }\n  }]);\n\n  return Buffer;\n}(Resource);\n\nexport { Buffer as default };","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { TEXTURE_FORMATS, DATA_FORMAT_CHANNELS, TYPE_SIZES, isFormatSupported, isLinearFilteringSupported } from './texture-formats';\nimport { isWebGL2, withParameters, log } from '@luma.gl/gltools';\nimport { global } from 'probe.gl/env';\nimport { assertWebGL2Context } from '../webgl-utils';\nimport { uid, isPowerOfTwo, assert } from '../utils';\nvar NPOT_MIN_FILTERS = [9729, 9728];\n\nvar WebGLBuffer = global.WebGLBuffer || function WebGLBuffer() {};\n\nvar Texture = function (_Resource) {\n  _inherits(Texture, _Resource);\n\n  _createClass(Texture, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          format = _ref.format,\n          linearFiltering = _ref.linearFiltering;\n\n      var supported = true;\n\n      if (format) {\n        supported = supported && isFormatSupported(gl, format);\n        supported = supported && (!linearFiltering || isLinearFilteringSupported(gl, format));\n      }\n\n      return supported;\n    }\n  }]);\n\n  function Texture(gl, props) {\n    var _this;\n\n    _classCallCheck(this, Texture);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('texture') : _props$id,\n        handle = props.handle,\n        target = props.target;\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Texture).call(this, gl, {\n      id: id,\n      handle: handle\n    }));\n    _this.target = target;\n    _this.textureUnit = undefined;\n    _this.loaded = false;\n    _this.width = undefined;\n    _this.height = undefined;\n    _this.depth = undefined;\n    _this.format = undefined;\n    _this.type = undefined;\n    _this.dataFormat = undefined;\n    _this.border = undefined;\n    _this.textureUnit = undefined;\n    _this.mipmaps = undefined;\n    return _this;\n  }\n\n  _createClass(Texture, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"Texture(\".concat(this.id, \",\").concat(this.width, \"x\").concat(this.height, \")\");\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var data = props.data;\n\n      if (data instanceof Promise) {\n        data.then(function (resolvedImageData) {\n          return _this2.initialize(Object.assign({}, props, {\n            pixels: resolvedImageData,\n            data: resolvedImageData\n          }));\n        });\n        return this;\n      }\n\n      var _props$pixels = props.pixels,\n          pixels = _props$pixels === void 0 ? null : _props$pixels,\n          _props$format = props.format,\n          format = _props$format === void 0 ? 6408 : _props$format,\n          _props$border = props.border,\n          border = _props$border === void 0 ? 0 : _props$border,\n          _props$recreate = props.recreate,\n          recreate = _props$recreate === void 0 ? false : _props$recreate,\n          _props$parameters = props.parameters,\n          parameters = _props$parameters === void 0 ? {} : _props$parameters,\n          _props$pixelStore = props.pixelStore,\n          pixelStore = _props$pixelStore === void 0 ? {} : _props$pixelStore,\n          _props$textureUnit = props.textureUnit,\n          textureUnit = _props$textureUnit === void 0 ? undefined : _props$textureUnit;\n      var _props$mipmaps = props.mipmaps,\n          mipmaps = _props$mipmaps === void 0 ? true : _props$mipmaps;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var width = props.width,\n          height = props.height,\n          dataFormat = props.dataFormat,\n          type = props.type;\n      var _props$depth = props.depth,\n          depth = _props$depth === void 0 ? 0 : _props$depth;\n\n      var _this$_deduceParamete = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: false,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      width = _this$_deduceParamete.width;\n      height = _this$_deduceParamete.height;\n      dataFormat = _this$_deduceParamete.dataFormat;\n      type = _this$_deduceParamete.type;\n      this.width = width;\n      this.height = height;\n      this.depth = depth;\n      this.format = format;\n      this.type = type;\n      this.dataFormat = dataFormat;\n      this.border = border;\n      this.textureUnit = textureUnit;\n\n      if (Number.isFinite(this.textureUnit)) {\n        this.gl.activeTexture(33984 + this.textureUnit);\n        this.gl.bindTexture(this.target, this.handle);\n      }\n\n      if (mipmaps && this._isNPOT()) {\n        log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n        mipmaps = false;\n\n        this._updateForNPOT(parameters);\n      }\n\n      this.mipmaps = mipmaps;\n      this.setImageData({\n        data: data,\n        width: width,\n        height: height,\n        depth: depth,\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        border: border,\n        mipmaps: mipmaps,\n        parameters: pixelStore\n      });\n\n      if (mipmaps) {\n        this.generateMipmap();\n      }\n\n      this.setParameters(parameters);\n\n      if (recreate) {\n        this.data = data;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref2) {\n      var height = _ref2.height,\n          width = _ref2.width,\n          _ref2$mipmaps = _ref2.mipmaps,\n          mipmaps = _ref2$mipmaps === void 0 ? false : _ref2$mipmaps;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          type: this.type,\n          dataFormat: this.dataFormat,\n          border: this.border,\n          mipmaps: mipmaps\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"generateMipmap\",\n    value: function generateMipmap() {\n      var _this3 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isNPOT()) {\n        log.warn(\"texture: \".concat(this, \" is Non-Power-Of-Two, disabling mipmaping\"))();\n        return this;\n      }\n\n      this.mipmaps = true;\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, params, function () {\n        _this3.gl.generateMipmap(_this3.target);\n      });\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"setImageData\",\n    value: function setImageData(options) {\n      this._trackDeallocatedMemory('Texture');\n\n      var _options$target = options.target,\n          target = _options$target === void 0 ? this.target : _options$target,\n          _options$pixels = options.pixels,\n          pixels = _options$pixels === void 0 ? null : _options$pixels,\n          _options$level = options.level,\n          level = _options$level === void 0 ? 0 : _options$level,\n          _options$format = options.format,\n          format = _options$format === void 0 ? this.format : _options$format,\n          _options$border = options.border,\n          border = _options$border === void 0 ? this.border : _options$border,\n          _options$offset = options.offset,\n          offset = _options$offset === void 0 ? 0 : _options$offset,\n          _options$parameters = options.parameters,\n          parameters = _options$parameters === void 0 ? {} : _options$parameters;\n      var _options$data = options.data,\n          data = _options$data === void 0 ? null : _options$data,\n          _options$type = options.type,\n          type = _options$type === void 0 ? this.type : _options$type,\n          _options$width = options.width,\n          width = _options$width === void 0 ? this.width : _options$width,\n          _options$height = options.height,\n          height = _options$height === void 0 ? this.height : _options$height,\n          _options$dataFormat = options.dataFormat,\n          dataFormat = _options$dataFormat === void 0 ? this.dataFormat : _options$dataFormat,\n          _options$compressed = options.compressed,\n          compressed = _options$compressed === void 0 ? false : _options$compressed;\n\n      if (!data) {\n        data = pixels;\n      }\n\n      var _this$_deduceParamete2 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete2.type;\n      dataFormat = _this$_deduceParamete2.dataFormat;\n      compressed = _this$_deduceParamete2.compressed;\n      width = _this$_deduceParamete2.width;\n      height = _this$_deduceParamete2.height;\n      var gl = this.gl;\n      gl.bindTexture(this.target, this.handle);\n      var dataType = null;\n\n      var _this$_getDataType = this._getDataType({\n        data: data,\n        compressed: compressed\n      });\n\n      data = _this$_getDataType.data;\n      dataType = _this$_getDataType.dataType;\n      withParameters(this.gl, parameters, function () {\n        switch (dataType) {\n          case 'null':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            break;\n\n          case 'typed-array':\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data, offset);\n            break;\n\n          case 'buffer':\n            assertWebGL2Context(gl);\n            gl.bindBuffer(35052, data.handle || data);\n            gl.texImage2D(target, level, format, width, height, border, dataFormat, type, offset);\n            gl.bindBuffer(35052, null);\n            break;\n\n          case 'browser-object':\n            if (isWebGL2(gl)) {\n              gl.texImage2D(target, level, format, width, height, border, dataFormat, type, data);\n            } else {\n              gl.texImage2D(target, level, format, dataFormat, type, data);\n            }\n\n            break;\n\n          case 'compressed':\n            gl.compressedTexImage2D(target, level, format, width, height, border, data);\n            break;\n\n          default:\n            assert(false, 'Unknown image data type');\n        }\n      });\n\n      if (data && data.byteLength) {\n        this._trackAllocatedMemory(data.byteLength, 'Texture');\n      } else {\n        var channels = DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n        var channelSize = TYPE_SIZES[this.type] || 1;\n\n        this._trackAllocatedMemory(this.width * this.height * channels * channelSize, 'Texture');\n      }\n\n      this.loaded = true;\n      return this;\n    }\n  }, {\n    key: \"setSubImageData\",\n    value: function setSubImageData(_ref3) {\n      var _this4 = this;\n\n      var _ref3$target = _ref3.target,\n          target = _ref3$target === void 0 ? this.target : _ref3$target,\n          _ref3$pixels = _ref3.pixels,\n          pixels = _ref3$pixels === void 0 ? null : _ref3$pixels,\n          _ref3$data = _ref3.data,\n          data = _ref3$data === void 0 ? null : _ref3$data,\n          _ref3$x = _ref3.x,\n          x = _ref3$x === void 0 ? 0 : _ref3$x,\n          _ref3$y = _ref3.y,\n          y = _ref3$y === void 0 ? 0 : _ref3$y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? this.width : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? this.height : _ref3$height,\n          _ref3$level = _ref3.level,\n          level = _ref3$level === void 0 ? 0 : _ref3$level,\n          _ref3$format = _ref3.format,\n          format = _ref3$format === void 0 ? this.format : _ref3$format,\n          _ref3$type = _ref3.type,\n          type = _ref3$type === void 0 ? this.type : _ref3$type,\n          _ref3$dataFormat = _ref3.dataFormat,\n          dataFormat = _ref3$dataFormat === void 0 ? this.dataFormat : _ref3$dataFormat,\n          _ref3$compressed = _ref3.compressed,\n          compressed = _ref3$compressed === void 0 ? false : _ref3$compressed,\n          _ref3$offset = _ref3.offset,\n          offset = _ref3$offset === void 0 ? 0 : _ref3$offset,\n          _ref3$border = _ref3.border,\n          border = _ref3$border === void 0 ? this.border : _ref3$border,\n          _ref3$parameters = _ref3.parameters,\n          parameters = _ref3$parameters === void 0 ? {} : _ref3$parameters;\n\n      var _this$_deduceParamete3 = this._deduceParameters({\n        format: format,\n        type: type,\n        dataFormat: dataFormat,\n        compressed: compressed,\n        data: data,\n        width: width,\n        height: height\n      });\n\n      type = _this$_deduceParamete3.type;\n      dataFormat = _this$_deduceParamete3.dataFormat;\n      compressed = _this$_deduceParamete3.compressed;\n      width = _this$_deduceParamete3.width;\n      height = _this$_deduceParamete3.height;\n      assert(this.depth === 0, 'texSubImage not supported for 3D textures');\n\n      if (!data) {\n        data = pixels;\n      }\n\n      if (data && data.data) {\n        var ndarray = data;\n        data = ndarray.data;\n        width = ndarray.shape[0];\n        height = ndarray.shape[1];\n      }\n\n      if (data instanceof Buffer) {\n        data = data.handle;\n      }\n\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, parameters, function () {\n        if (compressed) {\n          _this4.gl.compressedTexSubImage2D(target, level, x, y, width, height, format, data);\n        } else if (data === null) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, null);\n        } else if (ArrayBuffer.isView(data)) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data, offset);\n        } else if (data instanceof WebGLBuffer) {\n          assertWebGL2Context(_this4.gl);\n\n          _this4.gl.bindBuffer(35052, data);\n\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, offset);\n\n          _this4.gl.bindBuffer(35052, null);\n        } else if (isWebGL2(_this4.gl)) {\n          _this4.gl.texSubImage2D(target, level, x, y, width, height, dataFormat, type, data);\n        } else {\n          _this4.gl.texSubImage2D(target, level, x, y, dataFormat, type, data);\n        }\n      });\n      this.gl.bindTexture(this.target, null);\n    }\n  }, {\n    key: \"copyFramebuffer\",\n    value: function copyFramebuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      log.error('Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})')();\n      return null;\n    }\n  }, {\n    key: \"getActiveUnit\",\n    value: function getActiveUnit() {\n      return this.gl.getParameter(34016) - 33984;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, this.handle);\n      return textureUnit;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var textureUnit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.textureUnit;\n      var gl = this.gl;\n\n      if (textureUnit !== undefined) {\n        this.textureUnit = textureUnit;\n        gl.activeTexture(33984 + textureUnit);\n      }\n\n      gl.bindTexture(this.target, null);\n      return textureUnit;\n    }\n  }, {\n    key: \"_getDataType\",\n    value: function _getDataType(_ref4) {\n      var data = _ref4.data,\n          _ref4$compressed = _ref4.compressed,\n          compressed = _ref4$compressed === void 0 ? false : _ref4$compressed;\n\n      if (compressed) {\n        return {\n          data: data,\n          dataType: 'compressed'\n        };\n      }\n\n      if (data === null) {\n        return {\n          data: data,\n          dataType: 'null'\n        };\n      }\n\n      if (ArrayBuffer.isView(data)) {\n        return {\n          data: data,\n          dataType: 'typed-array'\n        };\n      }\n\n      if (data instanceof Buffer) {\n        return {\n          data: data.handle,\n          dataType: 'buffer'\n        };\n      }\n\n      if (data instanceof WebGLBuffer) {\n        return {\n          data: data,\n          dataType: 'buffer'\n        };\n      }\n\n      return {\n        data: data,\n        dataType: 'browser-object'\n      };\n    }\n  }, {\n    key: \"_deduceParameters\",\n    value: function _deduceParameters(opts) {\n      var format = opts.format,\n          data = opts.data;\n      var width = opts.width,\n          height = opts.height,\n          dataFormat = opts.dataFormat,\n          type = opts.type,\n          compressed = opts.compressed;\n      var textureFormat = TEXTURE_FORMATS[format];\n      dataFormat = dataFormat || textureFormat && textureFormat.dataFormat;\n      type = type || textureFormat && textureFormat.types[0];\n      compressed = compressed || textureFormat && textureFormat.compressed;\n\n      var _this$_deduceImageSiz = this._deduceImageSize(data, width, height);\n\n      width = _this$_deduceImageSiz.width;\n      height = _this$_deduceImageSiz.height;\n      return {\n        dataFormat: dataFormat,\n        type: type,\n        compressed: compressed,\n        width: width,\n        height: height,\n        format: format,\n        data: data\n      };\n    }\n  }, {\n    key: \"_deduceImageSize\",\n    value: function _deduceImageSize(data, width, height) {\n      var size;\n\n      if (typeof ImageData !== 'undefined' && data instanceof ImageData) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLImageElement !== 'undefined' && data instanceof HTMLImageElement) {\n        size = {\n          width: data.naturalWidth,\n          height: data.naturalHeight\n        };\n      } else if (typeof HTMLCanvasElement !== 'undefined' && data instanceof HTMLCanvasElement) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof ImageBitmap !== 'undefined' && data instanceof ImageBitmap) {\n        size = {\n          width: data.width,\n          height: data.height\n        };\n      } else if (typeof HTMLVideoElement !== 'undefined' && data instanceof HTMLVideoElement) {\n        size = {\n          width: data.videoWidth,\n          height: data.videoHeight\n        };\n      } else if (!data) {\n        size = {\n          width: width >= 0 ? width : 1,\n          height: height >= 0 ? height : 1\n        };\n      } else {\n        size = {\n          width: width,\n          height: height\n        };\n      }\n\n      assert(size, 'Could not deduced texture size');\n      assert(width === undefined || size.width === width, 'Deduced texture width does not match supplied width');\n      assert(height === undefined || size.height === height, 'Deduced texture height does not match supplied height');\n      return size;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createTexture();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteTexture(this.handle);\n\n      this._trackDeallocatedMemory('Texture');\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      switch (pname) {\n        case 4096:\n          return this.width;\n\n        case 4097:\n          return this.height;\n\n        default:\n          this.gl.bindTexture(this.target, this.handle);\n          var value = this.gl.getTexParameter(this.target, pname);\n          this.gl.bindTexture(this.target, null);\n          return value;\n      }\n    }\n  }, {\n    key: \"_setParameter\",\n    value: function _setParameter(pname, param) {\n      this.gl.bindTexture(this.target, this.handle);\n      param = this._getNPOTParam(pname, param);\n\n      switch (pname) {\n        case 33082:\n        case 33083:\n          this.gl.texParameterf(this.handle, pname, param);\n          break;\n\n        case 4096:\n        case 4097:\n          assert(false);\n          break;\n\n        default:\n          this.gl.texParameteri(this.target, pname, param);\n          break;\n      }\n\n      this.gl.bindTexture(this.target, null);\n      return this;\n    }\n  }, {\n    key: \"_isNPOT\",\n    value: function _isNPOT() {\n      if (isWebGL2(this.gl)) {\n        return false;\n      }\n\n      if (!this.width || !this.height) {\n        return false;\n      }\n\n      return !isPowerOfTwo(this.width) || !isPowerOfTwo(this.height);\n    }\n  }, {\n    key: \"_updateForNPOT\",\n    value: function _updateForNPOT(parameters) {\n      if (parameters[this.gl.TEXTURE_MIN_FILTER] === undefined) {\n        parameters[this.gl.TEXTURE_MIN_FILTER] = this.gl.LINEAR;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_S] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_S] = this.gl.CLAMP_TO_EDGE;\n      }\n\n      if (parameters[this.gl.TEXTURE_WRAP_T] === undefined) {\n        parameters[this.gl.TEXTURE_WRAP_T] = this.gl.CLAMP_TO_EDGE;\n      }\n    }\n  }, {\n    key: \"_getNPOTParam\",\n    value: function _getNPOTParam(pname, param) {\n      if (this._isNPOT()) {\n        switch (pname) {\n          case 10241:\n            if (NPOT_MIN_FILTERS.indexOf(param) === -1) {\n              param = 9729;\n            }\n\n            break;\n\n          case 10242:\n          case 10243:\n            if (param !== 33071) {\n              param = 33071;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      return param;\n    }\n  }]);\n\n  return Texture;\n}(Resource);\n\nexport { Texture as default };","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport { assert } from '../utils';\nvar pathPrefix = '';\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\nexport function loadFile(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  var dataType = options.dataType || 'text';\n  return fetch(url, options).then(function (res) {\n    return res[dataType]();\n  });\n}\nexport function loadImage(url, opts) {\n  assert(typeof url === 'string');\n  url = pathPrefix + url;\n  return new Promise(function (resolve, reject) {\n    try {\n      var image = new Image();\n\n      image.onload = function () {\n        return resolve(image);\n      };\n\n      image.onerror = function () {\n        return reject(new Error(\"Could not load image \".concat(url, \".\")));\n      };\n\n      image.crossOrigin = opts && opts.crossOrigin || 'anonymous';\n      image.src = url;\n    } catch (error) {\n      reject(error);\n    }\n  });\n}","import \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Texture from './texture';\nimport { assertWebGLContext } from '../webgl-utils';\nimport { loadImage } from '../utils/load-file';\n\nvar Texture2D = function (_Texture) {\n  _inherits(Texture2D, _Texture);\n\n  _createClass(Texture2D, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl, opts) {\n      return Texture.isSupported(gl, opts);\n    }\n  }]);\n\n  function Texture2D(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Texture2D);\n\n    assertWebGLContext(gl);\n\n    if (props instanceof Promise || typeof props === 'string') {\n      props = {\n        data: props\n      };\n    }\n\n    if (typeof props.data === 'string') {\n      props = Object.assign({}, props, {\n        data: loadImage(props.data)\n      });\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Texture2D).call(this, gl, Object.assign({}, props, {\n      target: 3553\n    })));\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Texture2D;\n}(Texture);\n\nexport { Texture2D as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _$33190$36012$;\n\nvar EXT_FLOAT_WEBGL2 = 'EXT_color_buffer_float';\nexport default (_$33190$36012$ = {}, _defineProperty(_$33190$36012$, 33189, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33190, {\n  gl2: true,\n  bpp: 3\n}), _defineProperty(_$33190$36012$, 36012, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36168, {\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 34041, {\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 35056, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36013, {\n  gl2: true,\n  bpp: 5\n}), _defineProperty(_$33190$36012$, 32854, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 36194, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 32855, {\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33321, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33330, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33329, {\n  gl2: true,\n  bpp: 1\n}), _defineProperty(_$33190$36012$, 33332, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33331, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33334, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33333, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33323, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33336, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33335, {\n  gl2: true,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33338, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33337, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33340, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 33339, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 32849, {\n  gl2: true,\n  bpp: 3\n}), _defineProperty(_$33190$36012$, 32856, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 32857, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36220, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36238, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36975, {\n  gl2: true,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 36214, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 36232, {\n  gl2: true,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 36226, {\n  gl2: true,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 36208, {\n  gl2: true,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 33325, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 2\n}), _defineProperty(_$33190$36012$, 33327, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 34842, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 33326, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _defineProperty(_$33190$36012$, 33328, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 8\n}), _defineProperty(_$33190$36012$, 34836, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 16\n}), _defineProperty(_$33190$36012$, 35898, {\n  gl2: EXT_FLOAT_WEBGL2,\n  bpp: 4\n}), _$33190$36012$);","import \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport RENDERBUFFER_FORMATS from './renderbuffer-formats';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert } from '../utils';\n\nfunction isFormatSupported(gl, format, formats) {\n  var info = formats[format];\n\n  if (!info) {\n    return false;\n  }\n\n  var value = isWebGL2(gl) ? info.gl2 || info.gl1 : info.gl1;\n\n  if (typeof value === 'string') {\n    return gl.getExtension(value);\n  }\n\n  return value;\n}\n\nvar Renderbuffer = function (_Resource) {\n  _inherits(Renderbuffer, _Resource);\n\n  _createClass(Renderbuffer, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          format = _ref.format;\n\n      return !format || isFormatSupported(gl, format, RENDERBUFFER_FORMATS);\n    }\n  }, {\n    key: \"getSamplesForFormat\",\n    value: function getSamplesForFormat(gl, _ref2) {\n      var format = _ref2.format;\n      return gl.getInternalformatParameter(36161, format, 32937);\n    }\n  }]);\n\n  function Renderbuffer(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Renderbuffer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Renderbuffer).call(this, gl, opts));\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Renderbuffer, [{\n    key: \"initialize\",\n    value: function initialize(_ref3) {\n      var format = _ref3.format,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height,\n          _ref3$samples = _ref3.samples,\n          samples = _ref3$samples === void 0 ? 0 : _ref3$samples;\n      assert(format, 'Needs format');\n\n      this._trackDeallocatedMemory();\n\n      this.gl.bindRenderbuffer(36161, this.handle);\n\n      if (samples !== 0 && isWebGL2(this.gl)) {\n        this.gl.renderbufferStorageMultisample(36161, samples, format, width, height);\n      } else {\n        this.gl.renderbufferStorage(36161, format, width, height);\n      }\n\n      this.format = format;\n      this.width = width;\n      this.height = height;\n      this.samples = samples;\n\n      this._trackAllocatedMemory(this.width * this.height * (this.samples || 1) * RENDERBUFFER_FORMATS[this.format].bpp);\n\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(_ref4) {\n      var width = _ref4.width,\n          height = _ref4.height;\n\n      if (width !== this.width || height !== this.height) {\n        return this.initialize({\n          width: width,\n          height: height,\n          format: this.format,\n          samples: this.samples\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createRenderbuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteRenderbuffer(this.handle);\n\n      this._trackDeallocatedMemory();\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindRenderbuffer(36161, handle);\n    }\n  }, {\n    key: \"_syncHandle\",\n    value: function _syncHandle(handle) {\n      this.format = this.getParameter(36164);\n      this.width = this.getParameter(36162);\n      this.height = this.getParameter(36163);\n      this.samples = this.getParameter(36011);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      this.gl.bindRenderbuffer(36161, this.handle);\n      var value = this.gl.getRenderbufferParameter(36161, pname);\n      return value;\n    }\n  }]);\n\n  return Renderbuffer;\n}(Resource);\n\nexport { Renderbuffer as default };","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { withParameters } from '@luma.gl/gltools';\nimport { assertWebGL2Context } from '../webgl-utils';\nimport { assert } from '../utils';\nvar GL_DEPTH_BUFFER_BIT = 0x00000100;\nvar GL_STENCIL_BUFFER_BIT = 0x00000400;\nvar GL_COLOR_BUFFER_BIT = 0x00004000;\nvar GL_COLOR = 0x1800;\nvar GL_DEPTH = 0x1801;\nvar GL_STENCIL = 0x1802;\nvar GL_DEPTH_STENCIL = 0x84f9;\nvar ERR_ARGUMENTS = 'clear: bad arguments';\nexport function clear(gl) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$framebuffer = _ref.framebuffer,\n      framebuffer = _ref$framebuffer === void 0 ? null : _ref$framebuffer,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? null : _ref$color,\n      _ref$depth = _ref.depth,\n      depth = _ref$depth === void 0 ? null : _ref$depth,\n      _ref$stencil = _ref.stencil,\n      stencil = _ref$stencil === void 0 ? null : _ref$stencil;\n\n  var parameters = {};\n\n  if (framebuffer) {\n    parameters.framebuffer = framebuffer;\n  }\n\n  var clearFlags = 0;\n\n  if (color) {\n    clearFlags |= GL_COLOR_BUFFER_BIT;\n\n    if (color !== true) {\n      parameters.clearColor = color;\n    }\n  }\n\n  if (depth) {\n    clearFlags |= GL_DEPTH_BUFFER_BIT;\n\n    if (depth !== true) {\n      parameters.clearDepth = depth;\n    }\n  }\n\n  if (stencil) {\n    clearFlags |= GL_STENCIL_BUFFER_BIT;\n\n    if (depth !== true) {\n      parameters.clearStencil = depth;\n    }\n  }\n\n  assert(clearFlags !== 0, ERR_ARGUMENTS);\n  withParameters(gl, parameters, function () {\n    gl.clear(clearFlags);\n  });\n}\nexport function clearBuffer(gl) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$framebuffer = _ref2.framebuffer,\n      framebuffer = _ref2$framebuffer === void 0 ? null : _ref2$framebuffer,\n      _ref2$buffer = _ref2.buffer,\n      buffer = _ref2$buffer === void 0 ? GL_COLOR : _ref2$buffer,\n      _ref2$drawBuffer = _ref2.drawBuffer,\n      drawBuffer = _ref2$drawBuffer === void 0 ? 0 : _ref2$drawBuffer,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === void 0 ? [0, 0, 0, 0] : _ref2$value;\n\n  assertWebGL2Context(gl);\n  withParameters(gl, {\n    framebuffer: framebuffer\n  }, function () {\n    switch (buffer) {\n      case GL_COLOR:\n        switch (value.constructor) {\n          case Int32Array:\n            gl.clearBufferiv(buffer, drawBuffer, value);\n            break;\n\n          case Uint32Array:\n            gl.clearBufferuiv(buffer, drawBuffer, value);\n            break;\n\n          case Float32Array:\n          default:\n            gl.clearBufferfv(buffer, drawBuffer, value);\n        }\n\n        break;\n\n      case GL_DEPTH:\n        gl.clearBufferfv(GL_DEPTH, 0, [value]);\n        break;\n\n      case GL_STENCIL:\n        gl.clearBufferiv(GL_STENCIL, 0, [value]);\n        break;\n\n      case GL_DEPTH_STENCIL:\n        var _value = _slicedToArray(value, 2),\n            depth = _value[0],\n            stencil = _value[1];\n\n        gl.clearBufferfi(GL_DEPTH_STENCIL, 0, depth, stencil);\n        break;\n\n      default:\n        assert(false, ERR_ARGUMENTS);\n    }\n  });\n}","import { assert } from '../utils';\nexport function glFormatToComponents(format) {\n  switch (format) {\n    case 6406:\n    case 33326:\n    case 6403:\n      return 1;\n\n    case 33328:\n    case 33319:\n      return 2;\n\n    case 6407:\n    case 34837:\n      return 3;\n\n    case 6408:\n    case 34836:\n      return 4;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function glTypeToBytes(type) {\n  switch (type) {\n    case 5121:\n      return 1;\n\n    case 33635:\n    case 32819:\n    case 32820:\n      return 2;\n\n    case 5126:\n      return 4;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { log } from '@luma.gl/gltools';\nimport Texture from './texture';\nimport { assertWebGLContext } from '../webgl-utils';\nvar FACES = [34069, 34070, 34071, 34072, 34073, 34074];\n\nvar TextureCube = function (_Texture) {\n  _inherits(TextureCube, _Texture);\n\n  function TextureCube(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TextureCube);\n\n    assertWebGLContext(gl);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextureCube).call(this, gl, Object.assign({}, props, {\n      target: 34067\n    })));\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TextureCube, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$mipmaps = props.mipmaps,\n          mipmaps = _props$mipmaps === void 0 ? true : _props$mipmaps,\n          _props$parameters = props.parameters,\n          parameters = _props$parameters === void 0 ? {} : _props$parameters;\n      this.opts = props;\n      this.setCubeMapImageData(props).then(function () {\n        _this2.loaded = true;\n\n        if (mipmaps) {\n          _this2.generateMipmap(props);\n        }\n\n        _this2.setParameters(parameters);\n      });\n    }\n  }, {\n    key: \"subImage\",\n    value: function subImage(_ref) {\n      var face = _ref.face,\n          data = _ref.data,\n          _ref$x = _ref.x,\n          x = _ref$x === void 0 ? 0 : _ref$x,\n          _ref$y = _ref.y,\n          y = _ref$y === void 0 ? 0 : _ref$y,\n          _ref$mipmapLevel = _ref.mipmapLevel,\n          mipmapLevel = _ref$mipmapLevel === void 0 ? 0 : _ref$mipmapLevel;\n      return this._subImage({\n        target: face,\n        data: data,\n        x: x,\n        y: y,\n        mipmapLevel: mipmapLevel\n      });\n    }\n  }, {\n    key: \"setCubeMapImageData\",\n    value: function () {\n      var _setCubeMapImageData = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(_ref2) {\n        var _this3 = this;\n\n        var width, height, pixels, data, _ref2$border, border, _ref2$format, format, _ref2$type, type, gl, imageDataMap, resolvedFaces;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                width = _ref2.width, height = _ref2.height, pixels = _ref2.pixels, data = _ref2.data, _ref2$border = _ref2.border, border = _ref2$border === void 0 ? 0 : _ref2$border, _ref2$format = _ref2.format, format = _ref2$format === void 0 ? 6408 : _ref2$format, _ref2$type = _ref2.type, type = _ref2$type === void 0 ? 5121 : _ref2$type;\n                gl = this.gl;\n                imageDataMap = pixels || data;\n                _context.next = 5;\n                return Promise.all(FACES.map(function (face) {\n                  var facePixels = imageDataMap[face];\n                  return Promise.all(Array.isArray(facePixels) ? facePixels : [facePixels]);\n                }));\n\n              case 5:\n                resolvedFaces = _context.sent;\n                this.bind();\n                FACES.forEach(function (face, index) {\n                  if (resolvedFaces[index].length > 1 && _this3.opts.mipmaps !== false) {\n                    log.warn(\"\".concat(_this3.id, \" has mipmap and multiple LODs.\"))();\n                  }\n\n                  resolvedFaces[index].forEach(function (image, lodLevel) {\n                    if (width && height) {\n                      gl.texImage2D(face, lodLevel, format, width, height, border, format, type, image);\n                    } else {\n                      gl.texImage2D(face, lodLevel, format, format, type, image);\n                    }\n                  });\n                });\n                this.unbind();\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setCubeMapImageData(_x) {\n        return _setCubeMapImageData.apply(this, arguments);\n      }\n\n      return setCubeMapImageData;\n    }()\n  }, {\n    key: \"setImageDataForFace\",\n    value: function setImageDataForFace(options) {\n      var _this4 = this;\n\n      var face = options.face,\n          width = options.width,\n          height = options.height,\n          pixels = options.pixels,\n          data = options.data,\n          _options$border = options.border,\n          border = _options$border === void 0 ? 0 : _options$border,\n          _options$format = options.format,\n          format = _options$format === void 0 ? 6408 : _options$format,\n          _options$type = options.type,\n          type = _options$type === void 0 ? 5121 : _options$type;\n      var gl = this.gl;\n      var imageData = pixels || data;\n      this.bind();\n\n      if (imageData instanceof Promise) {\n        imageData.then(function (resolvedImageData) {\n          return _this4.setImageDataForFace(Object.assign({}, options, {\n            face: face,\n            data: resolvedImageData,\n            pixels: resolvedImageData\n          }));\n        });\n      } else if (this.width || this.height) {\n        gl.texImage2D(face, 0, format, width, height, border, format, type, imageData);\n      } else {\n        gl.texImage2D(face, 0, format, format, type, imageData);\n      }\n\n      return this;\n    }\n  }]);\n\n  return TextureCube;\n}(Texture);\n\nexport { TextureCube as default };\nTextureCube.FACES = FACES;","import \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { isWebGL2, withParameters } from '@luma.gl/gltools';\nimport { assertWebGL2Context } from '../webgl-utils';\nimport Texture from './texture';\nimport { DATA_FORMAT_CHANNELS, TYPE_SIZES } from './texture-formats';\nimport Buffer from './buffer';\n\nvar Texture3D = function (_Texture) {\n  _inherits(Texture3D, _Texture);\n\n  _createClass(Texture3D, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  function Texture3D(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Texture3D);\n\n    assertWebGL2Context(gl);\n    props = Object.assign({\n      depth: 1\n    }, props, {\n      target: 32879,\n      unpackFlipY: false\n    });\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Texture3D).call(this, gl, props));\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Texture3D, [{\n    key: \"setImageData\",\n    value: function setImageData(_ref) {\n      var _this2 = this;\n\n      var _ref$level = _ref.level,\n          level = _ref$level === void 0 ? 0 : _ref$level,\n          _ref$dataFormat = _ref.dataFormat,\n          dataFormat = _ref$dataFormat === void 0 ? 6408 : _ref$dataFormat,\n          width = _ref.width,\n          height = _ref.height,\n          _ref$depth = _ref.depth,\n          depth = _ref$depth === void 0 ? 1 : _ref$depth,\n          _ref$border = _ref.border,\n          border = _ref$border === void 0 ? 0 : _ref$border,\n          format = _ref.format,\n          _ref$type = _ref.type,\n          type = _ref$type === void 0 ? 5121 : _ref$type,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          data = _ref.data,\n          _ref$parameters = _ref.parameters,\n          parameters = _ref$parameters === void 0 ? {} : _ref$parameters;\n\n      this._trackDeallocatedMemory('Texture');\n\n      this.gl.bindTexture(this.target, this.handle);\n      withParameters(this.gl, parameters, function () {\n        if (ArrayBuffer.isView(data)) {\n          _this2.gl.texImage3D(_this2.target, level, dataFormat, width, height, depth, border, format, type, data);\n        }\n\n        if (data instanceof Buffer) {\n          _this2.gl.bindBuffer(35052, data.handle);\n\n          _this2.gl.texImage3D(_this2.target, level, dataFormat, width, height, depth, border, format, type, offset);\n        }\n      });\n\n      if (data && data.byteLength) {\n        this._trackAllocatedMemory(data.byteLength, 'Texture');\n      } else {\n        var channels = DATA_FORMAT_CHANNELS[this.dataFormat] || 4;\n        var channelSize = TYPE_SIZES[this.type] || 1;\n\n        this._trackAllocatedMemory(this.width * this.height * this.depth * channels * channelSize, 'Texture');\n      }\n\n      this.loaded = true;\n      return this;\n    }\n  }]);\n\n  return Texture3D;\n}(Texture);\n\nexport { Texture3D as default };","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.max-safe-integer\";\nimport \"core-js/modules/es6.function.bind\";\nimport Buffer from './buffer';\nimport Framebuffer from './framebuffer';\nimport Texture from './texture';\nimport { withParameters, log } from '@luma.gl/gltools';\nimport { assertWebGL2Context, flipRows, scalePixels } from '../webgl-utils';\nimport { getTypedArrayFromGLType, getGLTypeFromTypedArray } from '../webgl-utils/typed-array-utils';\nimport { glFormatToComponents, glTypeToBytes } from '../webgl-utils/format-utils';\nimport { toFramebuffer } from '../webgl-utils/texture-utils';\nimport { assert } from '../utils';\nexport function readPixelsToArray(source) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$sourceX = _ref.sourceX,\n      sourceX = _ref$sourceX === void 0 ? 0 : _ref$sourceX,\n      _ref$sourceY = _ref.sourceY,\n      sourceY = _ref$sourceY === void 0 ? 0 : _ref$sourceY,\n      _ref$sourceFormat = _ref.sourceFormat,\n      sourceFormat = _ref$sourceFormat === void 0 ? 6408 : _ref$sourceFormat,\n      _ref$sourceAttachment = _ref.sourceAttachment,\n      sourceAttachment = _ref$sourceAttachment === void 0 ? 36064 : _ref$sourceAttachment,\n      _ref$target = _ref.target,\n      target = _ref$target === void 0 ? null : _ref$target,\n      sourceWidth = _ref.sourceWidth,\n      sourceHeight = _ref.sourceHeight,\n      sourceType = _ref.sourceType;\n\n  var _getFramebuffer = getFramebuffer(source),\n      framebuffer = _getFramebuffer.framebuffer,\n      deleteFramebuffer = _getFramebuffer.deleteFramebuffer;\n\n  assert(framebuffer);\n  var gl = framebuffer.gl,\n      handle = framebuffer.handle,\n      attachments = framebuffer.attachments;\n  sourceWidth = sourceWidth || framebuffer.width;\n  sourceHeight = sourceHeight || framebuffer.height;\n\n  if (sourceAttachment === 36064 && handle === null) {\n    sourceAttachment = 1028;\n  }\n\n  assert(attachments[sourceAttachment]);\n  sourceType = sourceType || attachments[sourceAttachment].type;\n  target = getPixelArray(target, sourceType, sourceFormat, sourceWidth, sourceHeight);\n  sourceType = sourceType || getGLTypeFromTypedArray(target);\n  var prevHandle = gl.bindFramebuffer(36160, handle);\n  gl.readPixels(sourceX, sourceY, sourceWidth, sourceHeight, sourceFormat, sourceType, target);\n  gl.bindFramebuffer(36160, prevHandle || null);\n\n  if (deleteFramebuffer) {\n    framebuffer[\"delete\"]();\n  }\n\n  return target;\n}\nexport function readPixelsToBuffer(source, _ref2) {\n  var _ref2$sourceX = _ref2.sourceX,\n      sourceX = _ref2$sourceX === void 0 ? 0 : _ref2$sourceX,\n      _ref2$sourceY = _ref2.sourceY,\n      sourceY = _ref2$sourceY === void 0 ? 0 : _ref2$sourceY,\n      _ref2$sourceFormat = _ref2.sourceFormat,\n      sourceFormat = _ref2$sourceFormat === void 0 ? 6408 : _ref2$sourceFormat,\n      _ref2$target = _ref2.target,\n      target = _ref2$target === void 0 ? null : _ref2$target,\n      _ref2$targetByteOffse = _ref2.targetByteOffset,\n      targetByteOffset = _ref2$targetByteOffse === void 0 ? 0 : _ref2$targetByteOffse,\n      sourceWidth = _ref2.sourceWidth,\n      sourceHeight = _ref2.sourceHeight,\n      sourceType = _ref2.sourceType;\n\n  var _getFramebuffer2 = getFramebuffer(source),\n      framebuffer = _getFramebuffer2.framebuffer,\n      deleteFramebuffer = _getFramebuffer2.deleteFramebuffer;\n\n  assert(framebuffer);\n  var gl = framebuffer.gl;\n  sourceWidth = sourceWidth || framebuffer.width;\n  sourceHeight = sourceHeight || framebuffer.height;\n  assertWebGL2Context(gl);\n  sourceType = sourceType || (target ? target.type : 5121);\n\n  if (!target) {\n    var components = glFormatToComponents(sourceFormat);\n    var byteCount = glTypeToBytes(sourceType);\n    var byteLength = targetByteOffset + sourceWidth * sourceHeight * components * byteCount;\n    target = new Buffer(gl, {\n      byteLength: byteLength,\n      accessor: {\n        type: sourceType,\n        size: components\n      }\n    });\n  }\n\n  target.bind({\n    target: 35051\n  });\n  withParameters(gl, {\n    framebuffer: framebuffer\n  }, function () {\n    gl.readPixels(sourceX, sourceY, sourceWidth, sourceHeight, sourceFormat, sourceType, targetByteOffset);\n  });\n  target.unbind({\n    target: 35051\n  });\n\n  if (deleteFramebuffer) {\n    framebuffer[\"delete\"]();\n  }\n\n  return target;\n}\nexport function copyToDataUrl(source) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref3$sourceAttachmen = _ref3.sourceAttachment,\n      sourceAttachment = _ref3$sourceAttachmen === void 0 ? 36064 : _ref3$sourceAttachmen,\n      _ref3$targetMaxHeight = _ref3.targetMaxHeight,\n      targetMaxHeight = _ref3$targetMaxHeight === void 0 ? Number.MAX_SAFE_INTEGER : _ref3$targetMaxHeight;\n\n  var data = readPixelsToArray(source, {\n    sourceAttachment: sourceAttachment\n  });\n  var width = source.width,\n      height = source.height;\n\n  while (height > targetMaxHeight) {\n    var _scalePixels = scalePixels({\n      data: data,\n      width: width,\n      height: height\n    });\n\n    data = _scalePixels.data;\n    width = _scalePixels.width;\n    height = _scalePixels.height;\n  }\n\n  flipRows({\n    data: data,\n    width: width,\n    height: height\n  });\n  var canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  var context = canvas.getContext('2d');\n  var imageData = context.createImageData(width, height);\n  imageData.data.set(data);\n  context.putImageData(imageData, 0, 0);\n  return canvas.toDataURL();\n}\nexport function copyToImage(source) {\n  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref4$sourceAttachmen = _ref4.sourceAttachment,\n      sourceAttachment = _ref4$sourceAttachmen === void 0 ? 36064 : _ref4$sourceAttachmen,\n      _ref4$targetImage = _ref4.targetImage,\n      targetImage = _ref4$targetImage === void 0 ? null : _ref4$targetImage;\n\n  var dataUrl = copyToDataUrl(source, {\n    sourceAttachment: sourceAttachment\n  });\n  targetImage = targetImage || new Image();\n  targetImage.src = dataUrl;\n  return targetImage;\n}\nexport function copyToTexture(source, target) {\n  var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref5$sourceX = _ref5.sourceX,\n      sourceX = _ref5$sourceX === void 0 ? 0 : _ref5$sourceX,\n      _ref5$sourceY = _ref5.sourceY,\n      sourceY = _ref5$sourceY === void 0 ? 0 : _ref5$sourceY,\n      targetX = _ref5.targetX,\n      targetY = _ref5.targetY,\n      targetZ = _ref5.targetZ,\n      _ref5$targetMipmaplev = _ref5.targetMipmaplevel,\n      targetMipmaplevel = _ref5$targetMipmaplev === void 0 ? 0 : _ref5$targetMipmaplev,\n      _ref5$targetInternalF = _ref5.targetInternalFormat,\n      targetInternalFormat = _ref5$targetInternalF === void 0 ? 6408 : _ref5$targetInternalF,\n      width = _ref5.width,\n      height = _ref5.height;\n\n  var _getFramebuffer3 = getFramebuffer(source),\n      framebuffer = _getFramebuffer3.framebuffer,\n      deleteFramebuffer = _getFramebuffer3.deleteFramebuffer;\n\n  assert(framebuffer);\n  var gl = framebuffer.gl,\n      handle = framebuffer.handle;\n  var isSubCopy = typeof targetX !== 'undefined' || typeof targetY !== 'undefined' || typeof targetZ !== 'undefined';\n  targetX = targetX || 0;\n  targetY = targetY || 0;\n  targetZ = targetZ || 0;\n  var prevHandle = gl.bindFramebuffer(36160, handle);\n  assert(target);\n  var texture = null;\n\n  if (target instanceof Texture) {\n    texture = target;\n    width = Number.isFinite(width) ? width : texture.width;\n    height = Number.isFinite(height) ? height : texture.height;\n    texture.bind(0);\n    target = texture.target;\n  }\n\n  if (!isSubCopy) {\n    gl.copyTexImage2D(target, targetMipmaplevel, targetInternalFormat, sourceX, sourceY, width, height, 0);\n  } else {\n    switch (target) {\n      case 3553:\n      case 34067:\n        gl.copyTexSubImage2D(target, targetMipmaplevel, targetX, targetY, sourceX, sourceY, width, height);\n        break;\n\n      case 35866:\n      case 32879:\n        gl.copyTexSubImage3D(target, targetMipmaplevel, targetX, targetY, targetZ, sourceX, sourceY, width, height);\n        break;\n\n      default:\n    }\n  }\n\n  if (texture) {\n    texture.unbind();\n  }\n\n  gl.bindFramebuffer(36160, prevHandle || null);\n\n  if (deleteFramebuffer) {\n    framebuffer[\"delete\"]();\n  }\n\n  return texture;\n}\nexport function blit(source, target) {\n  var _ref6 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref6$sourceAttachmen = _ref6.sourceAttachment,\n      sourceAttachment = _ref6$sourceAttachmen === void 0 ? 36064 : _ref6$sourceAttachmen,\n      _ref6$sourceX = _ref6.sourceX0,\n      sourceX0 = _ref6$sourceX === void 0 ? 0 : _ref6$sourceX,\n      _ref6$sourceY = _ref6.sourceY0,\n      sourceY0 = _ref6$sourceY === void 0 ? 0 : _ref6$sourceY,\n      sourceX1 = _ref6.sourceX1,\n      sourceY1 = _ref6.sourceY1,\n      _ref6$targetX = _ref6.targetX0,\n      targetX0 = _ref6$targetX === void 0 ? 0 : _ref6$targetX,\n      _ref6$targetY = _ref6.targetY0,\n      targetY0 = _ref6$targetY === void 0 ? 0 : _ref6$targetY,\n      targetX1 = _ref6.targetX1,\n      targetY1 = _ref6.targetY1,\n      _ref6$color = _ref6.color,\n      color = _ref6$color === void 0 ? true : _ref6$color,\n      _ref6$depth = _ref6.depth,\n      depth = _ref6$depth === void 0 ? false : _ref6$depth,\n      _ref6$stencil = _ref6.stencil,\n      stencil = _ref6$stencil === void 0 ? false : _ref6$stencil,\n      _ref6$mask = _ref6.mask,\n      mask = _ref6$mask === void 0 ? 0 : _ref6$mask,\n      _ref6$filter = _ref6.filter,\n      filter = _ref6$filter === void 0 ? 9728 : _ref6$filter;\n\n  var _getFramebuffer4 = getFramebuffer(source),\n      srcFramebuffer = _getFramebuffer4.framebuffer,\n      deleteSrcFramebuffer = _getFramebuffer4.deleteFramebuffer;\n\n  var _getFramebuffer5 = getFramebuffer(target),\n      dstFramebuffer = _getFramebuffer5.framebuffer,\n      deleteDstFramebuffer = _getFramebuffer5.deleteFramebuffer;\n\n  assert(srcFramebuffer);\n  assert(dstFramebuffer);\n  var gl = dstFramebuffer.gl,\n      handle = dstFramebuffer.handle,\n      width = dstFramebuffer.width,\n      height = dstFramebuffer.height,\n      readBuffer = dstFramebuffer.readBuffer;\n  assertWebGL2Context(gl);\n\n  if (!srcFramebuffer.handle && sourceAttachment === 36064) {\n    sourceAttachment = 1028;\n  }\n\n  if (color) {\n    mask |= 16384;\n  }\n\n  if (depth) {\n    mask |= 256;\n  }\n\n  if (stencil) {\n    mask |= 1024;\n  }\n\n  if (deleteSrcFramebuffer || deleteDstFramebuffer) {\n    if (mask & (256 | 1024)) {\n      mask = 16384;\n      log.warn('Blitting from or into a Texture object, forcing mask to GL.COLOR_BUFFER_BIT')();\n    }\n  }\n\n  assert(mask);\n  sourceX1 = sourceX1 === undefined ? srcFramebuffer.width : sourceX1;\n  sourceY1 = sourceY1 === undefined ? srcFramebuffer.height : sourceY1;\n  targetX1 = targetX1 === undefined ? width : targetX1;\n  targetY1 = targetY1 === undefined ? height : targetY1;\n  var prevDrawHandle = gl.bindFramebuffer(36009, handle);\n  var prevReadHandle = gl.bindFramebuffer(36008, srcFramebuffer.handle);\n  gl.readBuffer(sourceAttachment);\n  gl.blitFramebuffer(sourceX0, sourceY0, sourceX1, sourceY1, targetX0, targetY0, targetX1, targetY1, mask, filter);\n  gl.readBuffer(readBuffer);\n  gl.bindFramebuffer(36008, prevReadHandle || null);\n  gl.bindFramebuffer(36009, prevDrawHandle || null);\n\n  if (deleteSrcFramebuffer) {\n    srcFramebuffer[\"delete\"]();\n  }\n\n  if (deleteDstFramebuffer) {\n    dstFramebuffer[\"delete\"]();\n  }\n\n  return dstFramebuffer;\n}\n\nfunction getFramebuffer(source) {\n  if (!(source instanceof Framebuffer)) {\n    return {\n      framebuffer: toFramebuffer(source),\n      deleteFramebuffer: true\n    };\n  }\n\n  return {\n    framebuffer: source,\n    deleteFramebuffer: false\n  };\n}\n\nfunction getPixelArray(pixelArray, type, format, width, height) {\n  if (pixelArray) {\n    return pixelArray;\n  }\n\n  type = type || 5121;\n  var ArrayType = getTypedArrayFromGLType(type, {\n    clamped: false\n  });\n  var components = glFormatToComponents(format);\n  return new ArrayType(width * height * components);\n}","import \"core-js/modules/es6.object.assign\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Texture2D from '../classes/texture-2d';\nimport TextureCube from '../classes/texture-cube';\nimport Texture3D from '../classes/texture-3d';\nimport Framebuffer from '../classes/framebuffer';\nimport { assert } from '../utils';\nexport function cloneTextureFrom(refTexture, overrides) {\n  assert(refTexture instanceof Texture2D || refTexture instanceof TextureCube || refTexture instanceof Texture3D);\n  var TextureType = refTexture.constructor;\n  var gl = refTexture.gl,\n      width = refTexture.width,\n      height = refTexture.height,\n      format = refTexture.format,\n      type = refTexture.type,\n      dataFormat = refTexture.dataFormat,\n      border = refTexture.border,\n      mipmaps = refTexture.mipmaps;\n  var textureOptions = Object.assign({\n    width: width,\n    height: height,\n    format: format,\n    type: type,\n    dataFormat: dataFormat,\n    border: border,\n    mipmaps: mipmaps\n  }, overrides);\n  return new TextureType(gl, textureOptions);\n}\nexport function toFramebuffer(texture, opts) {\n  var gl = texture.gl,\n      width = texture.width,\n      height = texture.height,\n      id = texture.id;\n  var framebuffer = new Framebuffer(gl, Object.assign({}, opts, {\n    id: \"framebuffer-for-\".concat(id),\n    width: width,\n    height: height,\n    attachments: _defineProperty({}, 36064, texture)\n  }));\n  return framebuffer;\n}","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.seal\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { isWebGL2, log as _log } from '@luma.gl/gltools';\nimport Resource from './resource';\nimport Texture2D from './texture-2d';\nimport Renderbuffer from './renderbuffer';\nimport { clear as _clear, clearBuffer } from './clear';\nimport { copyToDataUrl } from './copy-and-blit.js';\nimport { getFeatures } from '../features';\nimport { assertWebGL2Context, getKey } from '../webgl-utils';\nimport { assert } from '../utils';\nvar ERR_MULTIPLE_RENDERTARGETS = 'Multiple render targets not supported';\n\nvar Framebuffer = function (_Resource) {\n  _inherits(Framebuffer, _Resource);\n\n  _createClass(Framebuffer, [{\n    key: \"MAX_COLOR_ATTACHMENTS\",\n    get: function get() {\n      return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS);\n    }\n  }, {\n    key: \"MAX_DRAW_BUFFERS\",\n    get: function get() {\n      return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS);\n    }\n  }], [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          colorBufferFloat = _ref.colorBufferFloat,\n          colorBufferHalfFloat = _ref.colorBufferHalfFloat;\n\n      var supported = true;\n\n      if (colorBufferFloat) {\n        supported = Boolean(gl.getExtension('EXT_color_buffer_float') || gl.getExtension('WEBGL_color_buffer_float') || gl.getExtension('OES_texture_float'));\n      }\n\n      if (colorBufferHalfFloat) {\n        supported = supported && Boolean(gl.getExtension('EXT_color_buffer_float') || gl.getExtension('EXT_color_buffer_half_float'));\n      }\n\n      return supported;\n    }\n  }, {\n    key: \"getDefaultFramebuffer\",\n    value: function getDefaultFramebuffer(gl) {\n      gl.luma = gl.luma || {};\n      gl.luma.defaultFramebuffer = gl.luma.defaultFramebuffer || new Framebuffer(gl, {\n        id: 'default-framebuffer',\n        handle: null,\n        attachments: {}\n      });\n      return gl.luma.defaultFramebuffer;\n    }\n  }]);\n\n  function Framebuffer(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Framebuffer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Framebuffer).call(this, gl, opts));\n    _this.width = null;\n    _this.height = null;\n    _this.attachments = {};\n    _this.readBuffer = 36064;\n    _this.drawBuffers = [36064];\n    _this.ownResources = [];\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Framebuffer, [{\n    key: \"initialize\",\n    value: function initialize(_ref2) {\n      var _ref2$width = _ref2.width,\n          width = _ref2$width === void 0 ? 1 : _ref2$width,\n          _ref2$height = _ref2.height,\n          height = _ref2$height === void 0 ? 1 : _ref2$height,\n          _ref2$attachments = _ref2.attachments,\n          attachments = _ref2$attachments === void 0 ? null : _ref2$attachments,\n          _ref2$color = _ref2.color,\n          color = _ref2$color === void 0 ? true : _ref2$color,\n          _ref2$depth = _ref2.depth,\n          depth = _ref2$depth === void 0 ? true : _ref2$depth,\n          _ref2$stencil = _ref2.stencil,\n          stencil = _ref2$stencil === void 0 ? false : _ref2$stencil,\n          _ref2$check = _ref2.check,\n          check = _ref2$check === void 0 ? true : _ref2$check,\n          readBuffer = _ref2.readBuffer,\n          drawBuffers = _ref2.drawBuffers;\n      assert(width >= 0 && height >= 0, 'Width and height need to be integers');\n      this.width = width;\n      this.height = height;\n\n      if (attachments) {\n        for (var attachment in attachments) {\n          var target = attachments[attachment];\n          var object = Array.isArray(target) ? target[0] : target;\n          object.resize({\n            width: width,\n            height: height\n          });\n        }\n      } else {\n        attachments = this._createDefaultAttachments(color, depth, stencil, width, height);\n      }\n\n      this.update({\n        clearAttachments: true,\n        attachments: attachments,\n        readBuffer: readBuffer,\n        drawBuffers: drawBuffers\n      });\n\n      if (attachments && check) {\n        this.checkStatus();\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.ownResources[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var resource = _step.value;\n          resource[\"delete\"]();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      _get(_getPrototypeOf(Framebuffer.prototype), \"delete\", this).call(this);\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref3) {\n      var _ref3$attachments = _ref3.attachments,\n          attachments = _ref3$attachments === void 0 ? {} : _ref3$attachments,\n          readBuffer = _ref3.readBuffer,\n          drawBuffers = _ref3.drawBuffers,\n          _ref3$clearAttachment = _ref3.clearAttachments,\n          clearAttachments = _ref3$clearAttachment === void 0 ? false : _ref3$clearAttachment,\n          _ref3$resizeAttachmen = _ref3.resizeAttachments,\n          resizeAttachments = _ref3$resizeAttachmen === void 0 ? true : _ref3$resizeAttachmen;\n      this.attach(attachments, {\n        clearAttachments: clearAttachments,\n        resizeAttachments: resizeAttachments\n      });\n      var gl = this.gl;\n      var prevHandle = gl.bindFramebuffer(36160, this.handle);\n\n      if (readBuffer) {\n        this._setReadBuffer(readBuffer);\n      }\n\n      if (drawBuffers) {\n        this._setDrawBuffers(drawBuffers);\n      }\n\n      gl.bindFramebuffer(36160, prevHandle || null);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          width = _ref4.width,\n          height = _ref4.height;\n\n      if (this.handle === null) {\n        assert(width === undefined && height === undefined);\n        this.width = this.gl.drawingBufferWidth;\n        this.height = this.gl.drawingBufferHeight;\n        return this;\n      }\n\n      if (width === undefined) {\n        width = this.gl.drawingBufferWidth;\n      }\n\n      if (height === undefined) {\n        height = this.gl.drawingBufferHeight;\n      }\n\n      if (width !== this.width && height !== this.height) {\n        _log.log(2, \"Resizing framebuffer \".concat(this.id, \" to \").concat(width, \"x\").concat(height))();\n      }\n\n      for (var attachmentPoint in this.attachments) {\n        this.attachments[attachmentPoint].resize({\n          width: width,\n          height: height\n        });\n      }\n\n      this.width = width;\n      this.height = height;\n      return this;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(attachments) {\n      var _this2 = this;\n\n      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref5$clearAttachment = _ref5.clearAttachments,\n          clearAttachments = _ref5$clearAttachment === void 0 ? false : _ref5$clearAttachment,\n          _ref5$resizeAttachmen = _ref5.resizeAttachments,\n          resizeAttachments = _ref5$resizeAttachmen === void 0 ? true : _ref5$resizeAttachmen;\n\n      var newAttachments = {};\n\n      if (clearAttachments) {\n        Object.keys(this.attachments).forEach(function (key) {\n          newAttachments[key] = null;\n        });\n      }\n\n      Object.assign(newAttachments, attachments);\n      var prevHandle = this.gl.bindFramebuffer(36160, this.handle);\n\n      for (var key in newAttachments) {\n        assert(key !== undefined, 'Misspelled framebuffer binding point?');\n        var attachment = Number(key);\n        var descriptor = newAttachments[attachment];\n        var object = descriptor;\n\n        if (!object) {\n          this._unattach(attachment);\n        } else if (object instanceof Renderbuffer) {\n          this._attachRenderbuffer({\n            attachment: attachment,\n            renderbuffer: object\n          });\n        } else if (Array.isArray(descriptor)) {\n          var _descriptor = _slicedToArray(descriptor, 3),\n              texture = _descriptor[0],\n              _descriptor$ = _descriptor[1],\n              layer = _descriptor$ === void 0 ? 0 : _descriptor$,\n              _descriptor$2 = _descriptor[2],\n              level = _descriptor$2 === void 0 ? 0 : _descriptor$2;\n\n          object = texture;\n\n          this._attachTexture({\n            attachment: attachment,\n            texture: texture,\n            layer: layer,\n            level: level\n          });\n        } else {\n          this._attachTexture({\n            attachment: attachment,\n            texture: object,\n            layer: 0,\n            level: 0\n          });\n        }\n\n        if (resizeAttachments && object) {\n          object.resize({\n            width: this.width,\n            height: this.height\n          });\n        }\n      }\n\n      this.gl.bindFramebuffer(36160, prevHandle || null);\n      Object.assign(this.attachments, attachments);\n      Object.keys(this.attachments).filter(function (key) {\n        return !_this2.attachments[key];\n      }).forEach(function (key) {\n        delete _this2.attachments[key];\n      });\n    }\n  }, {\n    key: \"checkStatus\",\n    value: function checkStatus() {\n      var gl = this.gl;\n      var status = this.getStatus();\n\n      if (status !== 36053) {\n        throw new Error(_getFrameBufferStatus(status));\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getStatus\",\n    value: function getStatus() {\n      var gl = this.gl;\n      var prevHandle = gl.bindFramebuffer(36160, this.handle);\n      var status = gl.checkFramebufferStatus(36160);\n      gl.bindFramebuffer(36160, prevHandle || null);\n      return status;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          color = _ref6.color,\n          depth = _ref6.depth,\n          stencil = _ref6.stencil,\n          _ref6$drawBuffers = _ref6.drawBuffers,\n          drawBuffers = _ref6$drawBuffers === void 0 ? [] : _ref6$drawBuffers;\n\n      var prevHandle = this.gl.bindFramebuffer(36160, this.handle);\n\n      if (color || depth || stencil) {\n        _clear(this.gl, {\n          color: color,\n          depth: depth,\n          stencil: stencil\n        });\n      }\n\n      drawBuffers.forEach(function (value, drawBuffer) {\n        clearBuffer({\n          drawBuffer: drawBuffer,\n          value: value\n        });\n      });\n      this.gl.bindFramebuffer(36160, prevHandle || null);\n      return this;\n    }\n  }, {\n    key: \"readPixels\",\n    value: function readPixels() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"readPixelsToBuffer\",\n    value: function readPixelsToBuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToDataUrl\",\n    value: function copyToDataUrl() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToImage\",\n    value: function copyToImage() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)')();\n\n      return null;\n    }\n  }, {\n    key: \"copyToTexture\",\n    value: function copyToTexture() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})')();\n\n      return null;\n    }\n  }, {\n    key: \"blit\",\n    value: function blit() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _log.error('Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)')();\n\n      return null;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(_ref7) {\n      var _ref7$attachments = _ref7.attachments,\n          attachments = _ref7$attachments === void 0 ? [] : _ref7$attachments,\n          _ref7$x = _ref7.x,\n          x = _ref7$x === void 0 ? 0 : _ref7$x,\n          _ref7$y = _ref7.y,\n          y = _ref7$y === void 0 ? 0 : _ref7$y,\n          width = _ref7.width,\n          height = _ref7.height;\n      var gl = this.gl;\n      assertWebGL2Context(gl);\n      var prevHandle = gl.bindFramebuffer(36008, this.handle);\n      var invalidateAll = x === 0 && y === 0 && width === undefined && height === undefined;\n\n      if (invalidateAll) {\n        gl.invalidateFramebuffer(36008, attachments);\n      } else {\n        gl.invalidateFramebuffer(36008, attachments, x, y, width, height);\n      }\n\n      gl.bindFramebuffer(36008, prevHandle);\n      return this;\n    }\n  }, {\n    key: \"getAttachmentParameter\",\n    value: function getAttachmentParameter(attachment, pname, keys) {\n      var value = this._getAttachmentParameterFallback(pname);\n\n      if (value === null) {\n        this.gl.bindFramebuffer(36160, this.handle);\n        value = this.gl.getFramebufferAttachmentParameter(36160, attachment, pname);\n        this.gl.bindFramebuffer(36160, null);\n      }\n\n      if (keys && value > 1000) {\n        value = getKey(this.gl, value);\n      }\n\n      return value;\n    }\n  }, {\n    key: \"getAttachmentParameters\",\n    value: function getAttachmentParameters() {\n      var attachment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 36064;\n      var keys = arguments.length > 1 ? arguments[1] : undefined;\n      var parameters = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.constructor.ATTACHMENT_PARAMETERS || [];\n      var values = {};\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = parameters[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var pname = _step2.value;\n          var key = keys ? getKey(this.gl, pname) : pname;\n          values[key] = this.getAttachmentParameter(attachment, pname, keys);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getParameters\",\n    value: function getParameters() {\n      var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var attachments = Object.keys(this.attachments);\n      var parameters = {};\n\n      for (var _i = 0, _attachments = attachments; _i < _attachments.length; _i++) {\n        var attachmentName = _attachments[_i];\n        var attachment = Number(attachmentName);\n        var key = keys ? getKey(this.gl, attachment) : attachment;\n        parameters[key] = this.getAttachmentParameters(attachment, keys);\n      }\n\n      return parameters;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      if (typeof window !== 'undefined') {\n        window.open(copyToDataUrl(this), 'luma-debug-texture');\n      }\n\n      return this;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      var logLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (logLevel > _log.level || typeof window === 'undefined') {\n        return this;\n      }\n\n      message = message || \"Framebuffer \".concat(this.id);\n      var image = copyToDataUrl(this, {\n        maxHeight: 100\n      });\n\n      _log.image({\n        logLevel: logLevel,\n        message: message,\n        image: image\n      }, message)();\n\n      return this;\n    }\n  }, {\n    key: \"bind\",\n    value: function bind() {\n      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref8$target = _ref8.target,\n          target = _ref8$target === void 0 ? 36160 : _ref8$target;\n\n      this.gl.bindFramebuffer(target, this.handle);\n      return this;\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref9$target = _ref9.target,\n          target = _ref9$target === void 0 ? 36160 : _ref9$target;\n\n      this.gl.bindFramebuffer(target, null);\n      return this;\n    }\n  }, {\n    key: \"_createDefaultAttachments\",\n    value: function _createDefaultAttachments(color, depth, stencil, width, height) {\n      var defaultAttachments = null;\n\n      if (color) {\n        var _parameters;\n\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[36064] = new Texture2D(this.gl, {\n          id: \"\".concat(this.id, \"-color0\"),\n          pixels: null,\n          format: 6408,\n          type: 5121,\n          width: width,\n          height: height,\n          mipmaps: false,\n          parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9729), _defineProperty(_parameters, 10240, 9729), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters)\n        });\n        this.ownResources.push(defaultAttachments[36064]);\n      }\n\n      if (depth && stencil) {\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[33306] = new Renderbuffer(this.gl, {\n          id: \"\".concat(this.id, \"-depth-stencil\"),\n          format: 35056,\n          width: width,\n          height: 111\n        });\n        this.ownResources.push(defaultAttachments[33306]);\n      } else if (depth) {\n        defaultAttachments = defaultAttachments || {};\n        defaultAttachments[36096] = new Renderbuffer(this.gl, {\n          id: \"\".concat(this.id, \"-depth\"),\n          format: 33189,\n          width: width,\n          height: height\n        });\n        this.ownResources.push(defaultAttachments[36096]);\n      } else if (stencil) {\n        assert(false);\n      }\n\n      return defaultAttachments;\n    }\n  }, {\n    key: \"_unattach\",\n    value: function _unattach(attachment) {\n      var oldAttachment = this.attachments[attachment];\n\n      if (!oldAttachment) {\n        return;\n      }\n\n      if (oldAttachment instanceof Renderbuffer) {\n        this.gl.framebufferRenderbuffer(36160, attachment, 36161, null);\n      } else {\n        this.gl.framebufferTexture2D(36160, attachment, 3553, null, 0);\n      }\n\n      delete this.attachments[attachment];\n    }\n  }, {\n    key: \"_attachRenderbuffer\",\n    value: function _attachRenderbuffer(_ref10) {\n      var _ref10$attachment = _ref10.attachment,\n          attachment = _ref10$attachment === void 0 ? 36064 : _ref10$attachment,\n          renderbuffer = _ref10.renderbuffer;\n      var gl = this.gl;\n      gl.framebufferRenderbuffer(36160, attachment, 36161, renderbuffer.handle);\n      this.attachments[attachment] = renderbuffer;\n    }\n  }, {\n    key: \"_attachTexture\",\n    value: function _attachTexture(_ref11) {\n      var _ref11$attachment = _ref11.attachment,\n          attachment = _ref11$attachment === void 0 ? 36064 : _ref11$attachment,\n          texture = _ref11.texture,\n          layer = _ref11.layer,\n          level = _ref11.level;\n      var gl = this.gl;\n      gl.bindTexture(texture.target, texture.handle);\n\n      switch (texture.target) {\n        case 35866:\n        case 32879:\n          gl.framebufferTextureLayer(36160, attachment, texture.target, level, layer);\n          break;\n\n        case 34067:\n          var face = mapIndexToCubeMapFace(layer);\n          gl.framebufferTexture2D(36160, attachment, face, texture.handle, level);\n          break;\n\n        case 3553:\n          gl.framebufferTexture2D(36160, attachment, 3553, texture.handle, level);\n          break;\n\n        default:\n          assert(false, 'Illegal texture type');\n      }\n\n      gl.bindTexture(texture.target, null);\n      this.attachments[attachment] = texture;\n    }\n  }, {\n    key: \"_setReadBuffer\",\n    value: function _setReadBuffer(readBuffer) {\n      var gl = this.gl;\n\n      if (isWebGL2(gl)) {\n        gl.readBuffer(readBuffer);\n      } else {\n        assert(readBuffer === 36064 || readBuffer === 1029, ERR_MULTIPLE_RENDERTARGETS);\n      }\n\n      this.readBuffer = readBuffer;\n    }\n  }, {\n    key: \"_setDrawBuffers\",\n    value: function _setDrawBuffers(drawBuffers) {\n      var gl = this.gl;\n\n      if (isWebGL2(gl)) {\n        gl.drawBuffers(drawBuffers);\n      } else {\n        var ext = gl.getExtension('WEBGL.draw_buffers');\n\n        if (ext) {\n          ext.drawBuffersWEBGL(drawBuffers);\n        } else {\n          assert(drawBuffers.length === 1 && (drawBuffers[0] === 36064 || drawBuffers[0] === 1029), ERR_MULTIPLE_RENDERTARGETS);\n        }\n      }\n\n      this.drawBuffers = drawBuffers;\n    }\n  }, {\n    key: \"_getAttachmentParameterFallback\",\n    value: function _getAttachmentParameterFallback(pname) {\n      var caps = getFeatures(this.gl);\n\n      switch (pname) {\n        case 36052:\n          return !caps.WEBGL2 ? 0 : null;\n\n        case 33298:\n        case 33299:\n        case 33300:\n        case 33301:\n        case 33302:\n        case 33303:\n          return !caps.WEBGL2 ? 8 : null;\n\n        case 33297:\n          return !caps.WEBGL2 ? 5125 : null;\n\n        case 33296:\n          return !caps.WEBGL2 && !caps.EXT_sRGB ? 9729 : null;\n\n        default:\n          return null;\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createFramebuffer();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteFramebuffer(this.handle);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      return this.gl.bindFramebuffer(36160, handle);\n    }\n  }, {\n    key: \"color\",\n    get: function get() {\n      return this.attachments[36064] || null;\n    }\n  }, {\n    key: \"texture\",\n    get: function get() {\n      return this.attachments[36064] || null;\n    }\n  }, {\n    key: \"depth\",\n    get: function get() {\n      return this.attachments[36096] || this.attachments[33306] || null;\n    }\n  }, {\n    key: \"stencil\",\n    get: function get() {\n      return this.attachments[36128] || this.attachments[33306] || null;\n    }\n  }]);\n\n  return Framebuffer;\n}(Resource);\n\nexport { Framebuffer as default };\n\nfunction mapIndexToCubeMapFace(layer) {\n  return layer < 34069 ? layer + 34069 : layer;\n}\n\nfunction _getFrameBufferStatus(status) {\n  var STATUS = Framebuffer.STATUS || {};\n  return STATUS[status] || \"Framebuffer error \".concat(status);\n}\n\nexport var FRAMEBUFFER_ATTACHMENT_PARAMETERS = [36049, 36048, 33296, 33298, 33299, 33300, 33301, 33302, 33303];\nFramebuffer.ATTACHMENT_PARAMETERS = FRAMEBUFFER_ATTACHMENT_PARAMETERS;","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport WEBGL_FEATURES from './webgl-features-table';\nimport { isWebGL2, log } from '@luma.gl/gltools';\nimport { assert } from '../utils';\nvar LOG_UNSUPPORTED_FEATURE = 2;\nexport function hasFeature(gl, feature) {\n  return hasFeatures(gl, feature);\n}\nexport function hasFeatures(gl, features) {\n  features = Array.isArray(features) ? features : [features];\n  return features.every(function (feature) {\n    return isFeatureSupported(gl, feature);\n  });\n}\nexport function getFeatures(gl) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  for (var cap in WEBGL_FEATURES) {\n    if (gl.luma.caps[cap] === undefined) {\n      gl.luma.caps[cap] = isFeatureSupported(gl, cap);\n    }\n  }\n\n  return gl.luma.caps;\n}\n\nfunction isFeatureSupported(gl, cap) {\n  gl.luma = gl.luma || {};\n  gl.luma.caps = gl.luma.caps || {};\n\n  if (gl.luma.caps[cap] === undefined) {\n    gl.luma.caps[cap] = queryFeature(gl, cap);\n  }\n\n  if (!gl.luma.caps[cap]) {\n    log.log(LOG_UNSUPPORTED_FEATURE, \"Feature: \".concat(cap, \" not supported\"))();\n  }\n\n  return gl.luma.caps[cap];\n}\n\nfunction queryFeature(gl, cap) {\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n  var isSupported;\n  var featureDefinition = isWebGL2(gl) ? feature[1] || feature[0] : feature[0];\n\n  if (typeof featureDefinition === 'function') {\n    isSupported = featureDefinition(gl);\n  } else if (Array.isArray(featureDefinition)) {\n    isSupported = true;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = featureDefinition[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var extension = _step.value;\n        isSupported = isSupported && Boolean(gl.getExtension(extension));\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (typeof featureDefinition === 'string') {\n    isSupported = Boolean(gl.getExtension(featureDefinition));\n  } else if (typeof featureDefinition === 'boolean') {\n    isSupported = featureDefinition;\n  } else {\n    assert(false);\n  }\n\n  return isSupported;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _FEATURES$WEBGL2$FEAT;\n\nimport Framebuffer from '../classes/framebuffer';\nimport Texture2D from '../classes/texture-2d';\nexport var FEATURES = {\n  WEBGL2: 'WEBGL2',\n  VERTEX_ARRAY_OBJECT: 'VERTEX_ARRAY_OBJECT',\n  TIMER_QUERY: 'TIMER_QUERY',\n  INSTANCED_RENDERING: 'INSTANCED_RENDERING',\n  MULTIPLE_RENDER_TARGETS: 'MULTIPLE_RENDER_TARGETS',\n  ELEMENT_INDEX_UINT32: 'ELEMENT_INDEX_UINT32',\n  BLEND_EQUATION_MINMAX: 'BLEND_EQUATION_MINMAX',\n  FLOAT_BLEND: 'FLOAT_BLEND',\n  COLOR_ENCODING_SRGB: 'COLOR_ENCODING_SRGB',\n  TEXTURE_DEPTH: 'TEXTURE_DEPTH',\n  TEXTURE_FLOAT: 'TEXTURE_FLOAT',\n  TEXTURE_HALF_FLOAT: 'TEXTURE_HALF_FLOAT',\n  TEXTURE_FILTER_LINEAR_FLOAT: 'TEXTURE_FILTER_LINEAR_FLOAT',\n  TEXTURE_FILTER_LINEAR_HALF_FLOAT: 'TEXTURE_FILTER_LINEAR_HALF_FLOAT',\n  TEXTURE_FILTER_ANISOTROPIC: 'TEXTURE_FILTER_ANISOTROPIC',\n  COLOR_ATTACHMENT_RGBA32F: 'COLOR_ATTACHMENT_RGBA32F',\n  COLOR_ATTACHMENT_FLOAT: 'COLOR_ATTACHMENT_FLOAT',\n  COLOR_ATTACHMENT_HALF_FLOAT: 'COLOR_ATTACHMENT_HALF_FLOAT',\n  GLSL_FRAG_DATA: 'GLSL_FRAG_DATA',\n  GLSL_FRAG_DEPTH: 'GLSL_FRAG_DEPTH',\n  GLSL_DERIVATIVES: 'GLSL_DERIVATIVES',\n  GLSL_TEXTURE_LOD: 'GLSL_TEXTURE_LOD'\n};\n\nfunction checkFloat32ColorAttachment(gl) {\n  var testTexture = new Texture2D(gl, {\n    format: 6408,\n    type: 5126,\n    dataFormat: 6408\n  });\n  var testFb = new Framebuffer(gl, {\n    id: \"test-framebuffer\",\n    check: false,\n    attachments: _defineProperty({}, 36064, testTexture)\n  });\n  var status = testFb.getStatus();\n  testTexture[\"delete\"]();\n  testFb[\"delete\"]();\n  return status === 36053;\n}\n\nexport default (_FEATURES$WEBGL2$FEAT = {}, _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.WEBGL2, [false, true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.VERTEX_ARRAY_OBJECT, ['OES_vertex_array_object', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TIMER_QUERY, ['EXT_disjoint_timer_query', 'EXT_disjoint_timer_query_webgl2']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.INSTANCED_RENDERING, ['ANGLE_instanced_arrays', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.MULTIPLE_RENDER_TARGETS, ['WEBGL_draw_buffers', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.ELEMENT_INDEX_UINT32, ['OES_element_index_uint', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.BLEND_EQUATION_MINMAX, ['EXT_blend_minmax', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.FLOAT_BLEND, ['EXT_float_blend']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ENCODING_SRGB, ['EXT_sRGB', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_DEPTH, ['WEBGL_depth_texture', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FLOAT, ['OES_texture_float', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_HALF_FLOAT, ['OES_texture_half_float', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_LINEAR_FLOAT, ['OES_texture_float_linear']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_LINEAR_HALF_FLOAT, ['OES_texture_half_float_linear']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.TEXTURE_FILTER_ANISOTROPIC, ['EXT_texture_filter_anisotropic']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_RGBA32F, [checkFloat32ColorAttachment, 'EXT_color_buffer_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_FLOAT, [false, 'EXT_color_buffer_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.COLOR_ATTACHMENT_HALF_FLOAT, ['EXT_color_buffer_half_float']), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_FRAG_DATA, ['WEBGL_draw_buffers', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_FRAG_DEPTH, ['EXT_frag_depth', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_DERIVATIVES, ['OES_standard_derivatives', true]), _defineProperty(_FEATURES$WEBGL2$FEAT, FEATURES.GLSL_TEXTURE_LOD, ['EXT_shader_texture_lod', true]), _FEATURES$WEBGL2$FEAT);","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar ShaderAttribute = function () {\n  function ShaderAttribute(dataColumn, opts) {\n    _classCallCheck(this, ShaderAttribute);\n\n    this.opts = opts;\n    this.source = dataColumn;\n  }\n\n  _createClass(ShaderAttribute, [{\n    key: \"getValue\",\n    value: function getValue() {\n      var buffer = this.source.getBuffer();\n      var accessor = this.getAccessor();\n\n      if (buffer) {\n        return [buffer, accessor];\n      }\n\n      var value = this.source.value;\n      var size = accessor.size;\n      var constantValue = value;\n\n      if (value && value.length !== size) {\n        constantValue = new Float32Array(size);\n        var index = accessor.elementOffset || 0;\n\n        for (var i = 0; i < size; ++i) {\n          constantValue[i] = value[index + i];\n        }\n      }\n\n      return constantValue;\n    }\n  }, {\n    key: \"getAccessor\",\n    value: function getAccessor() {\n      return _objectSpread({}, this.source.getAccessor(), {}, this.opts);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.source.value;\n    }\n  }]);\n\n  return ShaderAttribute;\n}();\n\nexport { ShaderAttribute as default };","import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nexport var TypedArrayManager = function () {\n  function TypedArrayManager() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$overAlloc = _ref.overAlloc,\n        overAlloc = _ref$overAlloc === void 0 ? 2 : _ref$overAlloc,\n        _ref$poolSize = _ref.poolSize,\n        poolSize = _ref$poolSize === void 0 ? 100 : _ref$poolSize;\n\n    _classCallCheck(this, TypedArrayManager);\n\n    this.overAlloc = overAlloc;\n    this.poolSize = poolSize;\n    this._pool = [];\n  }\n\n  _createClass(TypedArrayManager, [{\n    key: \"allocate\",\n    value: function allocate(typedArray, count, _ref2) {\n      var _ref2$size = _ref2.size,\n          size = _ref2$size === void 0 ? 1 : _ref2$size,\n          type = _ref2.type,\n          _ref2$padding = _ref2.padding,\n          padding = _ref2$padding === void 0 ? 0 : _ref2$padding,\n          _ref2$copy = _ref2.copy,\n          copy = _ref2$copy === void 0 ? false : _ref2$copy,\n          _ref2$initialize = _ref2.initialize,\n          initialize = _ref2$initialize === void 0 ? false : _ref2$initialize;\n      var Type = type || typedArray && typedArray.constructor || Float32Array;\n      var newSize = count * size + padding;\n\n      if (ArrayBuffer.isView(typedArray)) {\n        if (newSize <= typedArray.length) {\n          return typedArray;\n        }\n\n        if (newSize * typedArray.BYTES_PER_ELEMENT <= typedArray.buffer.byteLength) {\n          return new Type(typedArray.buffer, 0, newSize);\n        }\n      }\n\n      var newArray = this._allocate(Type, newSize, initialize);\n\n      if (typedArray && copy) {\n        newArray.set(typedArray);\n      } else if (!initialize) {\n        newArray.fill(0, 0, 4);\n      }\n\n      this._release(typedArray);\n\n      return newArray;\n    }\n  }, {\n    key: \"release\",\n    value: function release(typedArray) {\n      this._release(typedArray);\n    }\n  }, {\n    key: \"_allocate\",\n    value: function _allocate(Type, size, initialize) {\n      size = Math.max(Math.ceil(size * this.overAlloc), 1);\n      var pool = this._pool;\n      var byteLength = Type.BYTES_PER_ELEMENT * size;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i >= 0) {\n        var array = new Type(pool.splice(i, 1)[0], 0, size);\n\n        if (initialize) {\n          array.fill(0);\n        }\n\n        return array;\n      }\n\n      return new Type(size);\n    }\n  }, {\n    key: \"_release\",\n    value: function _release(typedArray) {\n      if (!ArrayBuffer.isView(typedArray)) {\n        return;\n      }\n\n      var pool = this._pool;\n      var buffer = typedArray.buffer;\n      var byteLength = buffer.byteLength;\n      var i = pool.findIndex(function (b) {\n        return b.byteLength >= byteLength;\n      });\n\n      if (i < 0) {\n        pool.push(buffer);\n      } else if (i > 0 || pool.length < this.poolSize) {\n        pool.splice(i, 0, buffer);\n      }\n\n      if (pool.length > this.poolSize) {\n        pool.shift();\n      }\n    }\n  }]);\n\n  return TypedArrayManager;\n}();\nexport default new TypedArrayManager();","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.math.fround\";\nimport typedArrayManager from './typed-array-manager';\nimport { Vector3 } from 'math.gl';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function extractCameraVectors(_ref) {\n  var viewMatrix = _ref.viewMatrix,\n      viewMatrixInverse = _ref.viewMatrixInverse;\n  return {\n    eye: [viewMatrixInverse[12], viewMatrixInverse[13], viewMatrixInverse[14]],\n    direction: [-viewMatrix[2], -viewMatrix[6], -viewMatrix[10]],\n    up: [viewMatrix[1], viewMatrix[5], viewMatrix[9]],\n    right: [viewMatrix[0], viewMatrix[4], viewMatrix[8]]\n  };\n}\nvar cameraPosition = new Vector3();\nvar cameraDirection = new Vector3();\nvar cameraUp = new Vector3();\nvar cameraRight = new Vector3();\nvar nearCenter = new Vector3();\nvar farCenter = new Vector3();\nvar a = new Vector3();\nexport function getFrustumPlanes(_ref2) {\n  var aspect = _ref2.aspect,\n      near = _ref2.near,\n      far = _ref2.far,\n      fovyRadians = _ref2.fovyRadians,\n      position = _ref2.position,\n      direction = _ref2.direction,\n      up = _ref2.up,\n      right = _ref2.right;\n  cameraDirection.copy(direction);\n  var nearFarScale = 1 / cameraDirection.len();\n  cameraDirection.normalize();\n  cameraPosition.copy(position);\n  cameraUp.copy(up);\n  var widthScale = 1 / cameraUp.len();\n  cameraUp.normalize();\n  cameraRight.copy(right).normalize();\n  var nearHeight = 2 * Math.tan(fovyRadians / 2) * near * widthScale;\n  var nearWidth = nearHeight * aspect;\n  nearCenter.copy(cameraDirection).scale(near * nearFarScale).add(cameraPosition);\n  farCenter.copy(cameraDirection).scale(far * nearFarScale).add(cameraPosition);\n  var normal = cameraDirection.clone().negate();\n  var distance = normal.dot(nearCenter);\n  var planes = {\n    near: {\n      distance: distance,\n      normal: normal\n    },\n    far: {\n      distance: cameraDirection.dot(farCenter),\n      normal: cameraDirection.clone()\n    }\n  };\n  a.copy(cameraRight).scale(nearWidth * 0.5).add(nearCenter).subtract(cameraPosition).normalize();\n  normal = new Vector3(a).cross(cameraUp);\n  distance = cameraPosition.dot(normal);\n  planes.right = {\n    normal: normal,\n    distance: distance\n  };\n  a.copy(cameraRight).scale(-nearWidth * 0.5).add(nearCenter).subtract(cameraPosition).normalize();\n  normal = new Vector3(cameraUp).cross(a);\n  distance = cameraPosition.dot(normal);\n  planes.left = {\n    normal: normal,\n    distance: distance\n  };\n  a.copy(cameraUp).scale(nearHeight * 0.5).add(nearCenter).subtract(cameraPosition).normalize();\n  normal = new Vector3(cameraRight).cross(a);\n  distance = cameraPosition.dot(normal);\n  planes.top = {\n    normal: normal,\n    distance: distance\n  };\n  a.copy(cameraUp).scale(-nearHeight * 0.5).add(nearCenter).subtract(cameraPosition).normalize();\n  normal = new Vector3(a).cross(cameraRight);\n  distance = cameraPosition.dot(normal);\n  planes.bottom = {\n    normal: normal,\n    distance: distance\n  };\n  return planes;\n}\nexport function fp64LowPart(x) {\n  return x - Math.fround(x);\n}\nvar scratchArray;\nexport function toDoublePrecisionArray(typedArray, _ref3) {\n  var _ref3$size = _ref3.size,\n      size = _ref3$size === void 0 ? 1 : _ref3$size,\n      _ref3$startIndex = _ref3.startIndex,\n      startIndex = _ref3$startIndex === void 0 ? 0 : _ref3$startIndex,\n      endIndex = _ref3.endIndex;\n\n  if (!Number.isFinite(endIndex)) {\n    endIndex = typedArray.length;\n  }\n\n  var count = (endIndex - startIndex) / size;\n  scratchArray = typedArrayManager.allocate(scratchArray, count, {\n    type: Float32Array,\n    size: size * 2\n  });\n  var sourceIndex = startIndex;\n  var targetIndex = 0;\n\n  while (sourceIndex < endIndex) {\n    for (var j = 0; j < size; j++) {\n      var value = typedArray[sourceIndex++];\n      scratchArray[targetIndex + j] = value;\n      scratchArray[targetIndex + j + size] = fp64LowPart(value);\n    }\n\n    targetIndex += size * 2;\n  }\n\n  return scratchArray.subarray(0, count * size * 2);\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { hasFeature, FEATURES, Buffer } from '@luma.gl/core';\nimport ShaderAttribute from './shader-attribute';\nimport { glArrayFromType } from './gl-utils';\nimport typedArrayManager from '../../utils/typed-array-manager';\nimport { toDoublePrecisionArray } from '../../utils/math-utils';\nimport log from '../../utils/log';\n\nfunction getStride(accessor) {\n  return accessor.stride || accessor.size * accessor.bytesPerElement;\n}\n\nfunction resolveShaderAttribute(baseAccessor, shaderAttributeOptions) {\n  if (shaderAttributeOptions.offset) {\n    log.removed('shaderAttribute.offset', 'vertexOffset, elementOffset')();\n  }\n\n  var stride = getStride(baseAccessor);\n  var vertexOffset = 'vertexOffset' in shaderAttributeOptions ? shaderAttributeOptions.vertexOffset : baseAccessor.vertexOffset || 0;\n  var elementOffset = shaderAttributeOptions.elementOffset || 0;\n  var offset = vertexOffset * stride + elementOffset * baseAccessor.bytesPerElement + (baseAccessor.offset || 0);\n  return _objectSpread({}, shaderAttributeOptions, {\n    offset: offset,\n    stride: stride\n  });\n}\n\nfunction resolveDoublePrecisionShaderAttributes(baseAccessor, shaderAttributeOptions) {\n  var resolvedOptions = resolveShaderAttribute(baseAccessor, shaderAttributeOptions);\n  return {\n    high: resolvedOptions,\n    low: _objectSpread({}, resolvedOptions, {\n      offset: resolvedOptions.offset + baseAccessor.size * 4\n    })\n  };\n}\n\nvar DataColumn = function () {\n  function DataColumn(gl, opts) {\n    _classCallCheck(this, DataColumn);\n\n    this.gl = gl;\n    this.id = opts.id;\n    this.size = opts.size;\n    var logicalType = opts.logicalType || opts.type;\n    var doublePrecision = logicalType === 5130;\n    var defaultValue = opts.defaultValue;\n    defaultValue = Number.isFinite(defaultValue) ? [defaultValue] : defaultValue || new Array(this.size).fill(0);\n    opts.defaultValue = defaultValue;\n    var bufferType = logicalType;\n\n    if (doublePrecision) {\n      bufferType = 5126;\n    } else if (!bufferType && opts.isIndexed) {\n      bufferType = gl && hasFeature(gl, FEATURES.ELEMENT_INDEX_UINT32) ? 5125 : 5123;\n    } else if (!bufferType) {\n      bufferType = 5126;\n    }\n\n    opts.logicalType = logicalType;\n    opts.type = bufferType;\n    var defaultType = glArrayFromType(logicalType || bufferType || 5126);\n    this.shaderAttributes = {};\n    this.doublePrecision = doublePrecision;\n\n    if (doublePrecision && opts.fp64 === false) {\n      defaultType = Float32Array;\n    }\n\n    opts.bytesPerElement = defaultType.BYTES_PER_ELEMENT;\n    this.defaultType = defaultType;\n    this.value = null;\n    this.settings = opts;\n    this.state = {\n      externalBuffer: null,\n      bufferAccessor: opts,\n      allocatedValue: null,\n      constant: false\n    };\n    this._buffer = null;\n    this.setData(opts);\n  }\n\n  _createClass(DataColumn, [{\n    key: \"delete\",\n    value: function _delete() {\n      if (this._buffer) {\n        this._buffer[\"delete\"]();\n\n        this._buffer = null;\n      }\n\n      typedArrayManager.release(this.state.allocatedValue);\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes(id, options) {\n      if (this.doublePrecision) {\n        var shaderAttributes = {};\n        var isBuffer64Bit = this.value instanceof Float64Array;\n        var doubleShaderAttributeDefs = resolveDoublePrecisionShaderAttributes(this.getAccessor(), options || {});\n        shaderAttributes[id] = new ShaderAttribute(this, doubleShaderAttributeDefs.high);\n        shaderAttributes[\"\".concat(id, \"64Low\")] = isBuffer64Bit ? new ShaderAttribute(this, doubleShaderAttributeDefs.low) : new Float32Array(this.size);\n        return shaderAttributes;\n      }\n\n      if (options) {\n        var shaderAttributeDef = resolveShaderAttribute(this.getAccessor(), options);\n        return _defineProperty({}, id, new ShaderAttribute(this, shaderAttributeDef));\n      }\n\n      return _defineProperty({}, id, this);\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer() {\n      if (this.state.constant) {\n        return null;\n      }\n\n      return this.state.externalBuffer || this._buffer;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      if (this.state.constant) {\n        return this.value;\n      }\n\n      return [this.getBuffer(), this.getAccessor()];\n    }\n  }, {\n    key: \"getAccessor\",\n    value: function getAccessor() {\n      return this.state.bufferAccessor;\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(opts) {\n      var state = this.state;\n\n      if (ArrayBuffer.isView(opts)) {\n        opts = {\n          value: opts\n        };\n      } else if (opts instanceof Buffer) {\n        opts = {\n          buffer: opts\n        };\n      }\n\n      var accessor = _objectSpread({}, this.settings, {}, opts);\n\n      state.bufferAccessor = accessor;\n\n      if (opts.constant) {\n        var value = opts.value;\n        value = this._normalizeValue(value, [], 0);\n\n        if (this.settings.normalized) {\n          value = this._normalizeConstant(value);\n        }\n\n        var hasChanged = !state.constant || !this._areValuesEqual(value, this.value);\n\n        if (!hasChanged) {\n          return false;\n        }\n\n        state.externalBuffer = null;\n        state.constant = true;\n        this.value = value;\n      } else if (opts.buffer) {\n        var buffer = opts.buffer;\n        state.externalBuffer = buffer;\n        state.constant = false;\n        this.value = opts.value;\n        var isBuffer64Bit = opts.value instanceof Float64Array;\n        accessor.type = opts.type || buffer.accessor.type;\n        accessor.bytesPerElement = buffer.accessor.BYTES_PER_ELEMENT * (isBuffer64Bit ? 2 : 1);\n        accessor.stride = getStride(accessor);\n      } else if (opts.value) {\n        this._checkExternalBuffer(opts);\n\n        var _value = opts.value;\n        state.externalBuffer = null;\n        state.constant = false;\n        this.value = _value;\n        accessor.bytesPerElement = _value.BYTES_PER_ELEMENT;\n        accessor.stride = getStride(accessor);\n        var _buffer = this.buffer,\n            byteOffset = this.byteOffset;\n\n        if (this.doublePrecision && _value instanceof Float64Array) {\n          _value = toDoublePrecisionArray(_value, accessor);\n        }\n\n        if (_buffer.byteLength < _value.byteLength + byteOffset) {\n          _buffer.reallocate((_value.byteLength + byteOffset) * 2);\n        }\n\n        _buffer.setAccessor(null);\n\n        _buffer.subData({\n          data: _value,\n          offset: byteOffset\n        });\n\n        accessor.type = opts.type || _buffer.accessor.type;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"updateSubBuffer\",\n    value: function updateSubBuffer() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var value = this.value;\n      var _opts$startOffset = opts.startOffset,\n          startOffset = _opts$startOffset === void 0 ? 0 : _opts$startOffset,\n          endOffset = opts.endOffset;\n      this.buffer.subData({\n        data: this.doublePrecision && value instanceof Float64Array ? toDoublePrecisionArray(value, {\n          size: this.size,\n          startIndex: startOffset,\n          endIndex: endOffset\n        }) : value.subarray(startOffset, endOffset),\n        offset: startOffset * value.BYTES_PER_ELEMENT + this.byteOffset\n      });\n    }\n  }, {\n    key: \"allocate\",\n    value: function allocate(_ref3) {\n      var numInstances = _ref3.numInstances,\n          _ref3$copy = _ref3.copy,\n          copy = _ref3$copy === void 0 ? false : _ref3$copy;\n      var state = this.state;\n      var oldValue = state.allocatedValue;\n      var value = typedArrayManager.allocate(oldValue, numInstances + 1, {\n        size: this.size,\n        type: this.defaultType,\n        copy: copy\n      });\n      this.value = value;\n      var buffer = this.buffer,\n          byteOffset = this.byteOffset;\n\n      if (buffer.byteLength < value.byteLength + byteOffset) {\n        buffer.reallocate(value.byteLength + byteOffset);\n\n        if (copy && oldValue) {\n          buffer.subData({\n            data: oldValue instanceof Float64Array ? toDoublePrecisionArray(oldValue, this) : oldValue,\n            offset: byteOffset\n          });\n        }\n      }\n\n      state.allocatedValue = value;\n      state.constant = false;\n      state.externalBuffer = null;\n      state.bufferAccessor = this.settings;\n      return true;\n    }\n  }, {\n    key: \"_checkExternalBuffer\",\n    value: function _checkExternalBuffer(opts) {\n      var value = opts.value;\n\n      if (!opts.constant && value) {\n        var ArrayType = this.defaultType;\n        var illegalArrayType = false;\n\n        if (this.doublePrecision) {\n          illegalArrayType = value.BYTES_PER_ELEMENT < 4;\n        }\n\n        if (illegalArrayType) {\n          throw new Error(\"Attribute \".concat(this.id, \" does not support \").concat(value.constructor.name));\n        }\n\n        if (!(value instanceof ArrayType) && this.settings.normalized && !('normalized' in opts)) {\n          log.warn(\"Attribute \".concat(this.id, \" is normalized\"))();\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeConstant\",\n    value: function _normalizeConstant(value) {\n      switch (this.settings.type) {\n        case 5120:\n          return new Float32Array(value).map(function (x) {\n            return (x + 128) / 255 * 2 - 1;\n          });\n\n        case 5122:\n          return new Float32Array(value).map(function (x) {\n            return (x + 32768) / 65535 * 2 - 1;\n          });\n\n        case 5121:\n          return new Float32Array(value).map(function (x) {\n            return x / 255;\n          });\n\n        case 5123:\n          return new Float32Array(value).map(function (x) {\n            return x / 65535;\n          });\n\n        default:\n          return value;\n      }\n    }\n  }, {\n    key: \"_normalizeValue\",\n    value: function _normalizeValue(value, out, start) {\n      var _this$settings = this.settings,\n          defaultValue = _this$settings.defaultValue,\n          size = _this$settings.size;\n\n      if (Number.isFinite(value)) {\n        out[start] = value;\n        return out;\n      }\n\n      if (!value) {\n        out[start] = defaultValue[0];\n        return out;\n      }\n\n      switch (size) {\n        case 4:\n          out[start + 3] = Number.isFinite(value[3]) ? value[3] : defaultValue[3];\n\n        case 3:\n          out[start + 2] = Number.isFinite(value[2]) ? value[2] : defaultValue[2];\n\n        case 2:\n          out[start + 1] = Number.isFinite(value[1]) ? value[1] : defaultValue[1];\n\n        case 1:\n          out[start + 0] = Number.isFinite(value[0]) ? value[0] : defaultValue[0];\n          break;\n\n        default:\n          var i = size;\n\n          while (--i >= 0) {\n            out[start + i] = Number.isFinite(value[i]) ? value[i] : defaultValue[i];\n          }\n\n      }\n\n      return out;\n    }\n  }, {\n    key: \"_areValuesEqual\",\n    value: function _areValuesEqual(value1, value2) {\n      if (!value1 || !value2) {\n        return false;\n      }\n\n      var size = this.size;\n\n      for (var i = 0; i < size; i++) {\n        if (value1[i] !== value2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"buffer\",\n    get: function get() {\n      if (!this._buffer) {\n        var _this$settings2 = this.settings,\n            isIndexed = _this$settings2.isIndexed,\n            type = _this$settings2.type;\n        this._buffer = new Buffer(this.gl, {\n          id: this.id,\n          target: isIndexed ? 34963 : 34962,\n          accessor: {\n            type: type\n          }\n        });\n      }\n\n      return this._buffer;\n    }\n  }, {\n    key: \"byteOffset\",\n    get: function get() {\n      var accessor = this.getAccessor();\n\n      if (accessor.vertexOffset) {\n        return accessor.vertexOffset * getStride(accessor);\n      }\n\n      return 0;\n    }\n  }]);\n\n  return DataColumn;\n}();\n\nexport { DataColumn as default };","import \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.int16-array\";\nimport \"core-js/modules/es6.typed.int8-array\";\nimport \"core-js/modules/es6.typed.uint8-clamped-array\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.uint16-array\";\nimport \"core-js/modules/es6.typed.float64-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nexport function glArrayFromType(glType) {\n  switch (glType) {\n    case 5126:\n      return Float32Array;\n\n    case 5130:\n      return Float64Array;\n\n    case 5123:\n    case 33635:\n    case 32819:\n    case 32820:\n      return Uint16Array;\n\n    case 5125:\n      return Uint32Array;\n\n    case 5121:\n      return Uint8ClampedArray;\n\n    case 5120:\n      return Int8Array;\n\n    case 5122:\n      return Int16Array;\n\n    case 5124:\n      return Int32Array;\n\n    default:\n      throw new Error('Unknown GL type');\n  }\n}","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nvar EMPTY_ARRAY = [];\nvar placeholderArray = [];\nexport function createIterable(data) {\n  var startRow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var endRow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Infinity;\n  var iterable = EMPTY_ARRAY;\n  var objectInfo = {\n    index: -1,\n    data: data,\n    target: []\n  };\n\n  if (!data) {\n    iterable = EMPTY_ARRAY;\n  } else if (typeof data[Symbol.iterator] === 'function') {\n    iterable = data;\n  } else if (data.length > 0) {\n    placeholderArray.length = data.length;\n    iterable = placeholderArray;\n  }\n\n  if (startRow > 0 || Number.isFinite(endRow)) {\n    iterable = (Array.isArray(iterable) ? iterable : Array.from(iterable)).slice(startRow, endRow);\n    objectInfo.index = startRow - 1;\n  }\n\n  return {\n    iterable: iterable,\n    objectInfo: objectInfo\n  };\n}\nexport function isAsyncIterable(data) {\n  return data && data[Symbol.asyncIterator];\n}\nexport function getAccessorFromBuffer(typedArray, _ref) {\n  var size = _ref.size,\n      stride = _ref.stride,\n      offset = _ref.offset,\n      startIndices = _ref.startIndices,\n      nested = _ref.nested;\n  var bytesPerElement = typedArray.BYTES_PER_ELEMENT;\n  var elementStride = stride ? stride / bytesPerElement : size;\n  var elementOffset = offset ? offset / bytesPerElement : 0;\n  var vertexCount = Math.floor((typedArray.length - elementOffset) / elementStride);\n  return function (_, _ref2) {\n    var index = _ref2.index,\n        target = _ref2.target;\n\n    if (!startIndices) {\n      var sourceIndex = index * elementStride + elementOffset;\n\n      for (var j = 0; j < size; j++) {\n        target[j] = typedArray[sourceIndex + j];\n      }\n\n      return target;\n    }\n\n    var startIndex = startIndices[index];\n    var endIndex = startIndices[index + 1] || vertexCount;\n    var result;\n\n    if (nested) {\n      result = new Array(endIndex - startIndex);\n\n      for (var i = startIndex; i < endIndex; i++) {\n        var _sourceIndex = i * elementStride + elementOffset;\n\n        target = new Array(size);\n\n        for (var _j = 0; _j < size; _j++) {\n          target[_j] = typedArray[_sourceIndex + _j];\n        }\n\n        result[i - startIndex] = target;\n      }\n    } else if (elementStride === size) {\n      result = typedArray.subarray(startIndex * size + elementOffset, endIndex * size + elementOffset);\n    } else {\n      result = new typedArray.constructor((endIndex - startIndex) * size);\n      var targetIndex = 0;\n\n      for (var _i = startIndex; _i < endIndex; _i++) {\n        var _sourceIndex2 = _i * elementStride + elementOffset;\n\n        for (var _j2 = 0; _j2 < size; _j2++) {\n          result[targetIndex++] = typedArray[_sourceIndex2 + _j2];\n        }\n      }\n    }\n\n    return result;\n  };\n}","import \"core-js/modules/es6.array.copy-within\";\nimport \"core-js/modules/es6.array.is-array\";\nexport function flatten(array) {\n  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {\n    return true;\n  };\n\n  if (!Array.isArray(array)) {\n    return filter(array) ? [array] : [];\n  }\n\n  return flattenArray(array, filter, []);\n}\n\nfunction flattenArray(array, filter, result) {\n  var index = -1;\n\n  while (++index < array.length) {\n    var value = array[index];\n\n    if (Array.isArray(value)) {\n      flattenArray(value, filter, result);\n    } else if (filter(value)) {\n      result.push(value);\n    }\n  }\n\n  return result;\n}\n\nexport function fillArray(_ref) {\n  var target = _ref.target,\n      source = _ref.source,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 1 : _ref$count;\n  var length = source.length;\n  var total = count * length;\n  var copied = 0;\n\n  for (var i = start; copied < length; copied++) {\n    target[i++] = source[copied];\n  }\n\n  while (copied < total) {\n    if (copied < total - copied) {\n      target.copyWithin(start + copied, start, start + copied);\n      copied *= 2;\n    } else {\n      target.copyWithin(start + copied, start, start + total - copied);\n      copied = total;\n    }\n  }\n\n  return target;\n}","export var EMPTY = [];\nexport var FULL = [[0, Infinity]];\nexport function add(rangeList, range) {\n  if (rangeList === FULL) {\n    return rangeList;\n  }\n\n  if (range[0] < 0) {\n    range[0] = 0;\n  }\n\n  if (range[0] >= range[1]) {\n    return rangeList;\n  }\n\n  var newRangeList = [];\n  var len = rangeList.length;\n  var insertPosition = 0;\n\n  for (var i = 0; i < len; i++) {\n    var range0 = rangeList[i];\n\n    if (range0[1] < range[0]) {\n      newRangeList.push(range0);\n      insertPosition = i + 1;\n    } else if (range0[0] > range[1]) {\n      newRangeList.push(range0);\n    } else {\n      range = [Math.min(range0[0], range[0]), Math.max(range0[1], range[1])];\n    }\n  }\n\n  newRangeList.splice(insertPosition, 0, range);\n  return newRangeList;\n}","import \"core-js/modules/es6.array.is-array\";\n\nfunction padArrayChunk(_ref) {\n  var source = _ref.source,\n      target = _ref.target,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      getData = _ref.getData;\n  end = end || target.length;\n  var sourceLength = source.length;\n  var targetLength = end - start;\n\n  if (sourceLength > targetLength) {\n    target.set(source.subarray(0, targetLength), start);\n    return;\n  }\n\n  target.set(source, start);\n\n  if (!getData) {\n    return;\n  }\n\n  var i = sourceLength;\n\n  while (i < targetLength) {\n    var datum = getData(i, source);\n\n    for (var j = 0; j < datum.length; j++) {\n      target[start + i] = datum[j];\n      i++;\n    }\n  }\n}\n\nexport function padArray(_ref2) {\n  var source = _ref2.source,\n      target = _ref2.target,\n      size = _ref2.size,\n      getData = _ref2.getData,\n      sourceStartIndices = _ref2.sourceStartIndices,\n      targetStartIndices = _ref2.targetStartIndices;\n\n  if (!Array.isArray(targetStartIndices)) {\n    padArrayChunk({\n      source: source,\n      target: target,\n      getData: getData\n    });\n    return target;\n  }\n\n  var sourceIndex = 0;\n  var targetIndex = 0;\n\n  var getChunkData = getData && function (i, chunk) {\n    return getData(i + targetIndex, chunk);\n  };\n\n  var n = Math.min(sourceStartIndices.length, targetStartIndices.length);\n\n  for (var i = 1; i < n; i++) {\n    var nextSourceIndex = sourceStartIndices[i] * size;\n    var nextTargetIndex = targetStartIndices[i] * size;\n    padArrayChunk({\n      source: source.subarray(sourceIndex, nextSourceIndex),\n      target: target,\n      start: targetIndex,\n      end: nextTargetIndex,\n      getData: getChunkData\n    });\n    sourceIndex = nextSourceIndex;\n    targetIndex = nextTargetIndex;\n  }\n\n  if (targetIndex < target.length) {\n    padArrayChunk({\n      source: [],\n      target: target,\n      start: targetIndex,\n      getData: getChunkData\n    });\n  }\n\n  return target;\n}","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport { padArray } from '../../utils/array-utils';\nvar DEFAULT_TRANSITION_SETTINGS = {\n  interpolation: {\n    duration: 0,\n    easing: function easing(t) {\n      return t;\n    }\n  },\n  spring: {\n    stiffness: 0.05,\n    damping: 0.5\n  }\n};\nexport function normalizeTransitionSettings(userSettings, layerSettings) {\n  if (!userSettings) {\n    return null;\n  }\n\n  if (Number.isFinite(userSettings)) {\n    userSettings = {\n      duration: userSettings\n    };\n  }\n\n  userSettings.type = userSettings.type || 'interpolation';\n  return Object.assign({}, DEFAULT_TRANSITION_SETTINGS[userSettings.type], layerSettings, userSettings);\n}\nexport function getSourceBufferAttribute(gl, attribute) {\n  var buffer = attribute.getBuffer();\n\n  if (buffer) {\n    return [attribute.getBuffer(), {\n      divisor: 0,\n      size: attribute.size,\n      normalized: attribute.settings.normalized\n    }];\n  }\n\n  return attribute.value;\n}\nexport function getAttributeTypeFromSize(size) {\n  switch (size) {\n    case 1:\n      return 'float';\n\n    case 2:\n      return 'vec2';\n\n    case 3:\n      return 'vec3';\n\n    case 4:\n      return 'vec4';\n\n    default:\n      throw new Error(\"No defined attribute type for size \\\"\".concat(size, \"\\\"\"));\n  }\n}\nexport function cycleBuffers(buffers) {\n  buffers.push(buffers.shift());\n}\nexport function getAttributeBufferLength(attribute, numInstances) {\n  var doublePrecision = attribute.doublePrecision,\n      settings = attribute.settings,\n      value = attribute.value,\n      size = attribute.size;\n  var multiplier = doublePrecision ? 2 : 1;\n  return (settings.noAlloc ? value.length : numInstances * size) * multiplier;\n}\nexport function padBuffer(_ref) {\n  var buffer = _ref.buffer,\n      numInstances = _ref.numInstances,\n      attribute = _ref.attribute,\n      fromLength = _ref.fromLength,\n      fromStartIndices = _ref.fromStartIndices,\n      _ref$getData = _ref.getData,\n      getData = _ref$getData === void 0 ? function (x) {\n    return x;\n  } : _ref$getData;\n  var precisionMultiplier = attribute.doublePrecision ? 2 : 1;\n  var size = attribute.size * precisionMultiplier;\n  var byteOffset = attribute.byteOffset;\n  var toStartIndices = attribute.startIndices;\n  var hasStartIndices = fromStartIndices && toStartIndices;\n  var toLength = getAttributeBufferLength(attribute, numInstances);\n  var isConstant = attribute.state.constant;\n\n  if (!hasStartIndices && fromLength >= toLength) {\n    return;\n  }\n\n  var toData = isConstant ? attribute.value : attribute.getBuffer().getData({\n    srcByteOffset: byteOffset\n  });\n\n  if (attribute.settings.normalized && !isConstant) {\n    var getter = getData;\n\n    getData = function getData(value, chunk) {\n      return attribute._normalizeConstant(getter(value, chunk));\n    };\n  }\n\n  var getMissingData = isConstant ? function (i, chunk) {\n    return getData(toData, chunk);\n  } : function (i, chunk) {\n    return getData(toData.subarray(i, i + size), chunk);\n  };\n  var source = buffer.getData({\n    length: fromLength\n  });\n  var data = new Float32Array(toLength);\n  padArray({\n    source: source,\n    target: data,\n    sourceStartIndices: fromStartIndices,\n    targetStartIndices: toStartIndices,\n    size: size,\n    getData: getMissingData\n  });\n\n  if (buffer.byteLength < data.byteLength + byteOffset) {\n    buffer.reallocate(data.byteLength + byteOffset);\n  }\n\n  buffer.subData({\n    data: data,\n    offset: byteOffset\n  });\n}","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport DataColumn from './data-column';\nimport assert from '../../utils/assert';\nimport { createIterable, getAccessorFromBuffer } from '../../utils/iterable-utils';\nimport { fillArray } from '../../utils/flatten';\nimport * as range from '../../utils/range';\nimport { normalizeTransitionSettings } from './attribute-transition-utils';\n\nvar Attribute = function (_DataColumn) {\n  _inherits(Attribute, _DataColumn);\n\n  function Attribute(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Attribute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Attribute).call(this, gl, opts));\n    var _opts$transition = opts.transition,\n        transition = _opts$transition === void 0 ? false : _opts$transition,\n        _opts$noAlloc = opts.noAlloc,\n        noAlloc = _opts$noAlloc === void 0 ? false : _opts$noAlloc,\n        _opts$update = opts.update,\n        update = _opts$update === void 0 ? null : _opts$update,\n        _opts$accessor = opts.accessor,\n        accessor = _opts$accessor === void 0 ? null : _opts$accessor,\n        _opts$transform = opts.transform,\n        transform = _opts$transform === void 0 ? null : _opts$transform,\n        _opts$startIndices = opts.startIndices,\n        startIndices = _opts$startIndices === void 0 ? null : _opts$startIndices;\n    Object.assign(_this.settings, {\n      transition: transition,\n      noAlloc: noAlloc,\n      update: update || accessor && _this._autoUpdater,\n      accessor: accessor,\n      transform: transform\n    });\n    Object.assign(_this.state, {\n      lastExternalBuffer: null,\n      binaryValue: null,\n      binaryAccessor: null,\n      needsUpdate: true,\n      needsRedraw: false,\n      updateRanges: range.FULL,\n      startIndices: startIndices\n    });\n    Object.seal(_this.settings);\n    Object.seal(_this.state);\n\n    _this._validateAttributeUpdaters();\n\n    return _this;\n  }\n\n  _createClass(Attribute, [{\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this.state.needsUpdate;\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$clearChangedFlag = _ref.clearChangedFlags,\n          clearChangedFlags = _ref$clearChangedFlag === void 0 ? false : _ref$clearChangedFlag;\n\n      var needsRedraw = this.state.needsRedraw;\n      this.state.needsRedraw = needsRedraw && !clearChangedFlags;\n      return needsRedraw;\n    }\n  }, {\n    key: \"getUpdateTriggers\",\n    value: function getUpdateTriggers() {\n      var accessor = this.settings.accessor;\n      return [this.id].concat(typeof accessor !== 'function' && accessor || []);\n    }\n  }, {\n    key: \"supportsTransition\",\n    value: function supportsTransition() {\n      return Boolean(this.settings.transition);\n    }\n  }, {\n    key: \"getTransitionSetting\",\n    value: function getTransitionSetting(opts) {\n      var accessor = this.settings.accessor;\n      var layerSettings = this.settings.transition;\n\n      if (!this.supportsTransition()) {\n        return null;\n      }\n\n      var userSettings = Array.isArray(accessor) ? opts[accessor.find(function (a) {\n        return opts[a];\n      })] : opts[accessor];\n      return normalizeTransitionSettings(userSettings, layerSettings);\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate() {\n      var reason = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.id;\n      var dataRange = arguments.length > 1 ? arguments[1] : undefined;\n      this.state.needsUpdate = this.state.needsUpdate || reason;\n      this.setNeedsRedraw(reason);\n\n      if (dataRange) {\n        var _dataRange$startRow = dataRange.startRow,\n            startRow = _dataRange$startRow === void 0 ? 0 : _dataRange$startRow,\n            _dataRange$endRow = dataRange.endRow,\n            endRow = _dataRange$endRow === void 0 ? Infinity : _dataRange$endRow;\n        this.state.updateRanges = range.add(this.state.updateRanges, [startRow, endRow]);\n      } else {\n        this.state.updateRanges = range.FULL;\n      }\n    }\n  }, {\n    key: \"clearNeedsUpdate\",\n    value: function clearNeedsUpdate() {\n      this.state.needsUpdate = false;\n      this.state.updateRanges = range.EMPTY;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var reason = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.id;\n      this.state.needsRedraw = this.state.needsRedraw || reason;\n    }\n  }, {\n    key: \"update\",\n    value: function update(opts) {\n      this.setData(opts);\n    }\n  }, {\n    key: \"allocate\",\n    value: function allocate(numInstances) {\n      var state = this.state,\n          settings = this.settings;\n\n      if (settings.noAlloc) {\n        return false;\n      }\n\n      if (settings.update) {\n        assert(Number.isFinite(numInstances));\n\n        _get(_getPrototypeOf(Attribute.prototype), \"allocate\", this).call(this, {\n          numInstances: numInstances,\n          copy: state.updateRanges !== range.FULL\n        });\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"updateBuffer\",\n    value: function updateBuffer(_ref2) {\n      var numInstances = _ref2.numInstances,\n          data = _ref2.data,\n          props = _ref2.props,\n          context = _ref2.context;\n\n      if (!this.needsUpdate()) {\n        return false;\n      }\n\n      var updateRanges = this.state.updateRanges,\n          _this$settings = this.settings,\n          update = _this$settings.update,\n          noAlloc = _this$settings.noAlloc;\n      var updated = true;\n\n      if (update) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = updateRanges[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                _startRow = _step$value[0],\n                _endRow = _step$value[1];\n\n            update.call(context, this, {\n              data: data,\n              startRow: _startRow,\n              endRow: _endRow,\n              props: props,\n              numInstances: numInstances\n            });\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (!this.value) {} else if (this.constant || this.buffer.byteLength < this.value.byteLength + this.byteOffset) {\n          this.setData({\n            value: this.value,\n            constant: this.constant\n          });\n        } else {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = updateRanges[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var _step2$value = _slicedToArray(_step2.value, 2),\n                  startRow = _step2$value[0],\n                  endRow = _step2$value[1];\n\n              var startOffset = Number.isFinite(startRow) ? this.getVertexOffset(startRow) : 0;\n              var endOffset = Number.isFinite(endRow) ? this.getVertexOffset(endRow) : noAlloc || !Number.isFinite(numInstances) ? this.value.length : numInstances * this.size;\n\n              _get(_getPrototypeOf(Attribute.prototype), \"updateSubBuffer\", this).call(this, {\n                startOffset: startOffset,\n                endOffset: endOffset\n              });\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n\n        this._checkAttributeArray();\n      } else {\n        updated = false;\n      }\n\n      this.clearNeedsUpdate();\n      this.setNeedsRedraw();\n      return updated;\n    }\n  }, {\n    key: \"setConstantValue\",\n    value: function setConstantValue(value) {\n      if (value === undefined || typeof value === 'function') {\n        return false;\n      }\n\n      var hasChanged = this.setData({\n        constant: true,\n        value: value\n      });\n\n      if (hasChanged) {\n        this.setNeedsRedraw();\n      }\n\n      this.clearNeedsUpdate();\n      return true;\n    }\n  }, {\n    key: \"setExternalBuffer\",\n    value: function setExternalBuffer(buffer) {\n      var state = this.state;\n\n      if (!buffer) {\n        state.lastExternalBuffer = null;\n        return false;\n      }\n\n      this.clearNeedsUpdate();\n\n      if (state.lastExternalBuffer === buffer) {\n        return true;\n      }\n\n      state.lastExternalBuffer = buffer;\n      this.setNeedsRedraw();\n      this.setData(buffer);\n      return true;\n    }\n  }, {\n    key: \"setBinaryValue\",\n    value: function setBinaryValue(buffer) {\n      var startIndices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var state = this.state,\n          settings = this.settings;\n\n      if (!buffer) {\n        state.binaryValue = null;\n        state.binaryAccessor = null;\n        return false;\n      }\n\n      if (settings.noAlloc) {\n        return false;\n      }\n\n      if (state.binaryValue === buffer) {\n        this.clearNeedsUpdate();\n        return true;\n      }\n\n      state.binaryValue = buffer;\n      this.setNeedsRedraw();\n\n      if (ArrayBuffer.isView(buffer)) {\n        buffer = {\n          value: buffer\n        };\n      }\n\n      var needsUpdate = settings.transform || startIndices !== this.startIndices;\n\n      if (needsUpdate) {\n        assert(ArrayBuffer.isView(buffer.value), \"invalid \".concat(settings.accessor));\n        var needsNormalize = buffer.size && buffer.size !== this.size;\n        state.binaryAccessor = getAccessorFromBuffer(buffer.value, {\n          size: buffer.size || this.size,\n          stride: buffer.stride,\n          offset: buffer.offset,\n          startIndices: startIndices,\n          nested: needsNormalize\n        });\n        return false;\n      }\n\n      this.clearNeedsUpdate();\n      this.setData(buffer);\n      return true;\n    }\n  }, {\n    key: \"getVertexOffset\",\n    value: function getVertexOffset(row) {\n      var startIndices = this.startIndices;\n      var vertexIndex = startIndices ? startIndices[row] : row;\n      return vertexIndex * this.size;\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes() {\n      var shaderAttributeDefs = this.settings.shaderAttributes || _defineProperty({}, this.id, null);\n\n      var shaderAttributes = {};\n\n      for (var shaderAttributeName in shaderAttributeDefs) {\n        Object.assign(shaderAttributes, _get(_getPrototypeOf(Attribute.prototype), \"getShaderAttributes\", this).call(this, shaderAttributeName, shaderAttributeDefs[shaderAttributeName]));\n      }\n\n      return shaderAttributes;\n    }\n  }, {\n    key: \"_autoUpdater\",\n    value: function _autoUpdater(attribute, _ref4) {\n      var data = _ref4.data,\n          startRow = _ref4.startRow,\n          endRow = _ref4.endRow,\n          props = _ref4.props,\n          numInstances = _ref4.numInstances;\n      var settings = attribute.settings,\n          state = attribute.state,\n          value = attribute.value,\n          size = attribute.size,\n          startIndices = attribute.startIndices;\n      var accessor = settings.accessor,\n          transform = settings.transform;\n      var accessorFunc = state.binaryAccessor || (typeof accessor === 'function' ? accessor : props[accessor]);\n      assert(typeof accessorFunc === 'function', \"accessor \\\"\".concat(accessor, \"\\\" is not a function\"));\n      var i = attribute.getVertexOffset(startRow);\n\n      var _createIterable = createIterable(data, startRow, endRow),\n          iterable = _createIterable.iterable,\n          objectInfo = _createIterable.objectInfo;\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = iterable[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var object = _step3.value;\n          objectInfo.index++;\n          var objectValue = accessorFunc(object, objectInfo);\n\n          if (transform) {\n            objectValue = transform.call(this, objectValue);\n          }\n\n          if (startIndices) {\n            var numVertices = (startIndices[objectInfo.index + 1] || numInstances) - startIndices[objectInfo.index];\n\n            if (objectValue && Array.isArray(objectValue[0])) {\n              var startIndex = i;\n              var _iteratorNormalCompletion4 = true;\n              var _didIteratorError4 = false;\n              var _iteratorError4 = undefined;\n\n              try {\n                for (var _iterator4 = objectValue[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                  var item = _step4.value;\n\n                  attribute._normalizeValue(item, value, startIndex);\n\n                  startIndex += size;\n                }\n              } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n                    _iterator4[\"return\"]();\n                  }\n                } finally {\n                  if (_didIteratorError4) {\n                    throw _iteratorError4;\n                  }\n                }\n              }\n            } else if (objectValue && objectValue.length > size) {\n              value.set(objectValue, i);\n            } else {\n              attribute._normalizeValue(objectValue, objectInfo.target, 0);\n\n              fillArray({\n                target: value,\n                source: objectInfo.target,\n                start: i,\n                count: numVertices\n              });\n            }\n\n            i += numVertices * size;\n          } else {\n            attribute._normalizeValue(objectValue, value, i);\n\n            i += size;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      attribute.constant = false;\n    }\n  }, {\n    key: \"_validateAttributeUpdaters\",\n    value: function _validateAttributeUpdaters() {\n      var settings = this.settings;\n      var hasUpdater = settings.noAlloc || typeof settings.update === 'function';\n\n      if (!hasUpdater) {\n        throw new Error(\"Attribute \".concat(this.id, \" missing update or accessor\"));\n      }\n    }\n  }, {\n    key: \"_checkAttributeArray\",\n    value: function _checkAttributeArray() {\n      var value = this.value;\n      var limit = Math.min(4, this.size);\n\n      if (value && value.length >= limit) {\n        var valid = true;\n\n        switch (limit) {\n          case 4:\n            valid = valid && Number.isFinite(value[3]);\n\n          case 3:\n            valid = valid && Number.isFinite(value[2]);\n\n          case 2:\n            valid = valid && Number.isFinite(value[1]);\n\n          case 1:\n            valid = valid && Number.isFinite(value[0]);\n            break;\n\n          default:\n            valid = false;\n        }\n\n        if (!valid) {\n          throw new Error(\"Illegal attribute generated for \".concat(this.id));\n        }\n      }\n    }\n  }, {\n    key: \"startIndices\",\n    get: function get() {\n      return this.state.startIndices;\n    },\n    set: function set(layout) {\n      this.state.startIndices = layout;\n    }\n  }]);\n\n  return Attribute;\n}(DataColumn);\n\nexport { Attribute as default };","import deckLog from '../utils/log';\nimport { getLoggers } from './loggers';\nvar loggers = {};\n\nif (process.env.NODE_ENV !== 'production') {\n  loggers = getLoggers(deckLog);\n}\n\nexport function register(handlers) {\n  loggers = handlers;\n}\nexport default function debug(eventType) {\n  if (deckLog.level > 0 && loggers[eventType]) {\n    var _loggers$eventType;\n\n    (_loggers$eventType = loggers[eventType]).call.apply(_loggers$eventType, arguments);\n  }\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'shadertools: assertion failed.');\n  }\n}","import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { assert } from '../utils';\nvar FS100 = \"void main() {gl_FragColor = vec4(0);}\";\nvar FS_GLES = \"out vec4 transform_output;\\nvoid main() {\\n  transform_output = vec4(0);\\n}\";\nvar FS300 = \"#version 300 es\\n\".concat(FS_GLES);\nexport function getQualifierDetails(line, qualifiers) {\n  qualifiers = Array.isArray(qualifiers) ? qualifiers : [qualifiers];\n  var words = line.replace(/^\\s+/, '').split(/\\s+/);\n\n  var _words = _slicedToArray(words, 3),\n      qualifier = _words[0],\n      type = _words[1],\n      definition = _words[2];\n\n  if (!qualifiers.includes(qualifier) || !type || !definition) {\n    return null;\n  }\n\n  var name = definition.split(';')[0];\n  return {\n    qualifier: qualifier,\n    type: type,\n    name: name\n  };\n}\nexport function getPassthroughFS() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$version = _ref.version,\n      version = _ref$version === void 0 ? 100 : _ref$version,\n      input = _ref.input,\n      inputType = _ref.inputType,\n      output = _ref.output;\n\n  if (!input) {\n    if (version === 300) {\n      return FS300;\n    } else if (version > 300) {\n      return \"#version \".concat(version, \"\\n\").concat(FS_GLES);\n    }\n\n    return FS100;\n  }\n\n  var outputValue = convertToVec4(input, inputType);\n\n  if (version >= 300) {\n    return \"#version \".concat(version, \" \").concat(version === 300 ? 'es' : '', \"\\nin \").concat(inputType, \" \").concat(input, \";\\nout vec4 \").concat(output, \";\\nvoid main() {\\n  \").concat(output, \" = \").concat(outputValue, \";\\n}\");\n  }\n\n  return \"varying \".concat(inputType, \" \").concat(input, \";\\nvoid main() {\\n  gl_FragColor = \").concat(outputValue, \";\\n}\");\n}\nexport function typeToChannelSuffix(type) {\n  switch (type) {\n    case 'float':\n      return 'x';\n\n    case 'vec2':\n      return 'xy';\n\n    case 'vec3':\n      return 'xyz';\n\n    case 'vec4':\n      return 'xyzw';\n\n    default:\n      assert(false);\n      return null;\n  }\n}\nexport function typeToChannelCount(type) {\n  switch (type) {\n    case 'float':\n      return 1;\n\n    case 'vec2':\n      return 2;\n\n    case 'vec3':\n      return 3;\n\n    case 'vec4':\n      return 4;\n\n    default:\n      assert(false);\n      return null;\n  }\n}\nexport function convertToVec4(variable, type) {\n  switch (type) {\n    case 'float':\n      return \"vec4(\".concat(variable, \", 0.0, 0.0, 1.0)\");\n\n    case 'vec2':\n      return \"vec4(\".concat(variable, \", 0.0, 1.0)\");\n\n    case 'vec3':\n      return \"vec4(\".concat(variable, \", 1.0)\");\n\n    case 'vec4':\n      return variable;\n\n    default:\n      assert(false);\n      return null;\n  }\n}","import \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { isWebGL2, log } from '@luma.gl/gltools';\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { assertWebGL2Context } from '../webgl-utils';\nimport { isObjectEmpty } from '../utils';\n\nvar TransformFeedback = function (_Resource) {\n  _inherits(TransformFeedback, _Resource);\n\n  _createClass(TransformFeedback, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  function TransformFeedback(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TransformFeedback);\n\n    assertWebGL2Context(gl);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransformFeedback).call(this, gl, props));\n\n    _this.initialize(props);\n\n    _this.stubRemovedMethods('TransformFeedback', 'v6.0', ['pause', 'resume']);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TransformFeedback, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this2 = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.buffers = {};\n      this.unused = {};\n      this.configuration = null;\n      this.bindOnUse = true;\n\n      if (!isObjectEmpty(this.buffers)) {\n        this.bind(function () {\n          return _this2._unbindBuffers();\n        });\n      }\n\n      this.setProps(props);\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      if ('buffers' in props) {\n        this.setBuffers(props.buffers);\n      }\n    }\n  }, {\n    key: \"setBuffers\",\n    value: function setBuffers() {\n      var _this3 = this;\n\n      var buffers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.bind(function () {\n        for (var bufferName in buffers) {\n          _this3.setBuffer(bufferName, buffers[bufferName]);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, bufferOrParams) {\n      var _this4 = this;\n\n      var location = this._getVaryingIndex(locationOrName);\n\n      var _this$_getBufferParam = this._getBufferParams(bufferOrParams),\n          buffer = _this$_getBufferParam.buffer,\n          byteSize = _this$_getBufferParam.byteSize,\n          byteOffset = _this$_getBufferParam.byteOffset;\n\n      if (location < 0) {\n        this.unused[locationOrName] = buffer;\n        log.warn(function () {\n          return \"\".concat(_this4.id, \" unused varying buffer \").concat(locationOrName);\n        })();\n        return this;\n      }\n\n      this.buffers[location] = bufferOrParams;\n\n      if (!this.bindOnUse) {\n        this._bindBuffer(location, buffer, byteOffset, byteSize);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"begin\",\n    value: function begin() {\n      var primitiveMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.gl.bindTransformFeedback(36386, this.handle);\n\n      this._bindBuffers();\n\n      this.gl.beginTransformFeedback(primitiveMode);\n      return this;\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      this.gl.endTransformFeedback();\n\n      this._unbindBuffers();\n\n      this.gl.bindTransformFeedback(36386, null);\n      return this;\n    }\n  }, {\n    key: \"_getBufferParams\",\n    value: function _getBufferParams(bufferOrParams) {\n      var byteOffset;\n      var byteSize;\n      var buffer;\n\n      if (bufferOrParams instanceof Buffer === false) {\n        buffer = bufferOrParams.buffer;\n        byteSize = bufferOrParams.byteSize;\n        byteOffset = bufferOrParams.byteOffset;\n      } else {\n        buffer = bufferOrParams;\n      }\n\n      if (byteOffset !== undefined || byteSize !== undefined) {\n        byteOffset = byteOffset || 0;\n        byteSize = byteSize || buffer.byteLength - byteOffset;\n      }\n\n      return {\n        buffer: buffer,\n        byteOffset: byteOffset,\n        byteSize: byteSize\n      };\n    }\n  }, {\n    key: \"_getVaryingInfo\",\n    value: function _getVaryingInfo(locationOrName) {\n      return this.configuration && this.configuration.getVaryingInfo(locationOrName);\n    }\n  }, {\n    key: \"_getVaryingIndex\",\n    value: function _getVaryingIndex(locationOrName) {\n      if (this.configuration) {\n        return this.configuration.getVaryingInfo(locationOrName).location;\n      }\n\n      var location = Number(locationOrName);\n      return Number.isFinite(location) ? location : -1;\n    }\n  }, {\n    key: \"_bindBuffers\",\n    value: function _bindBuffers() {\n      if (this.bindOnUse) {\n        for (var bufferIndex in this.buffers) {\n          var _this$_getBufferParam2 = this._getBufferParams(this.buffers[bufferIndex]),\n              buffer = _this$_getBufferParam2.buffer,\n              byteSize = _this$_getBufferParam2.byteSize,\n              byteOffset = _this$_getBufferParam2.byteOffset;\n\n          this._bindBuffer(bufferIndex, buffer, byteOffset, byteSize);\n        }\n      }\n    }\n  }, {\n    key: \"_unbindBuffers\",\n    value: function _unbindBuffers() {\n      if (this.bindOnUse) {\n        for (var bufferIndex in this.buffers) {\n          this._bindBuffer(bufferIndex, null);\n        }\n      }\n    }\n  }, {\n    key: \"_bindBuffer\",\n    value: function _bindBuffer(index, buffer) {\n      var byteOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var byteSize = arguments.length > 3 ? arguments[3] : undefined;\n      var handle = buffer && buffer.handle;\n\n      if (!handle || byteSize === undefined) {\n        this.gl.bindBufferBase(35982, index, handle);\n      } else {\n        this.gl.bindBufferRange(35982, index, handle, byteOffset, byteSize);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createTransformFeedback();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteTransformFeedback(this.handle);\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindTransformFeedback(36386, this.handle);\n    }\n  }]);\n\n  return TransformFeedback;\n}(Resource);\n\nexport { TransformFeedback as default };","import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { Buffer, TransformFeedback } from '@luma.gl/webgl';\nimport { assert } from '@luma.gl/webgl';\n\nvar BufferTransform = function () {\n  function BufferTransform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BufferTransform);\n\n    this.gl = gl;\n    this.currentIndex = 0;\n    this.feedbackMap = {};\n    this.varyings = null;\n    this.bindings = [];\n    this.resources = {};\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(BufferTransform, [{\n    key: \"setupResources\",\n    value: function setupResources(opts) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.bindings[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var binding = _step.value;\n\n          this._setupTransformFeedback(binding, opts);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateModelProps\",\n    value: function updateModelProps() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var varyings = this.varyings;\n\n      if (varyings.length > 0) {\n        props = Object.assign({}, props, {\n          varyings: varyings\n        });\n      }\n\n      return props;\n    }\n  }, {\n    key: \"getDrawOptions\",\n    value: function getDrawOptions() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var binding = this.bindings[this.currentIndex];\n      var sourceBuffers = binding.sourceBuffers,\n          transformFeedback = binding.transformFeedback;\n      var attributes = Object.assign({}, sourceBuffers, opts.attributes);\n      return {\n        attributes: attributes,\n        transformFeedback: transformFeedback\n      };\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      if (this.feedbackMap) {\n        this.currentIndex = this._getNextIndex();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupBuffers(opts);\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer(varyingName) {\n      var feedbackBuffers = this.bindings[this.currentIndex].feedbackBuffers;\n      var bufferOrParams = varyingName ? feedbackBuffers[varyingName] : null;\n\n      if (!bufferOrParams) {\n        return null;\n      }\n\n      return bufferOrParams instanceof Buffer ? bufferOrParams : bufferOrParams.buffer;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          varyingName = _ref.varyingName;\n\n      var buffer = this.getBuffer(varyingName);\n\n      if (buffer) {\n        return buffer.getData();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      for (var name in this.resources) {\n        this.resources[name][\"delete\"]();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupBuffers(props);\n\n      this.varyings = props.varyings || Object.keys(this.bindings[this.currentIndex].feedbackBuffers);\n\n      if (this.varyings.length > 0) {\n        assert(isWebGL2(this.gl));\n      }\n    }\n  }, {\n    key: \"_getFeedbackBuffers\",\n    value: function _getFeedbackBuffers(props) {\n      var _props$sourceBuffers = props.sourceBuffers,\n          sourceBuffers = _props$sourceBuffers === void 0 ? {} : _props$sourceBuffers;\n      var feedbackBuffers = {};\n\n      if (this.bindings[this.currentIndex]) {\n        Object.assign(feedbackBuffers, this.bindings[this.currentIndex].feedbackBuffers);\n      }\n\n      if (this.feedbackMap) {\n        for (var sourceName in this.feedbackMap) {\n          var feedbackName = this.feedbackMap[sourceName];\n\n          if (sourceName in sourceBuffers) {\n            feedbackBuffers[feedbackName] = sourceName;\n          }\n        }\n      }\n\n      Object.assign(feedbackBuffers, props.feedbackBuffers);\n\n      for (var bufferName in feedbackBuffers) {\n        var bufferOrRef = feedbackBuffers[bufferName];\n\n        if (typeof bufferOrRef === 'string') {\n          var sourceBuffer = sourceBuffers[bufferOrRef];\n          var byteLength = sourceBuffer.byteLength,\n              usage = sourceBuffer.usage,\n              accessor = sourceBuffer.accessor;\n          feedbackBuffers[bufferName] = this._createNewBuffer(bufferName, {\n            byteLength: byteLength,\n            usage: usage,\n            accessor: accessor\n          });\n        }\n      }\n\n      return feedbackBuffers;\n    }\n  }, {\n    key: \"_setupBuffers\",\n    value: function _setupBuffers() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$sourceBuffers2 = props.sourceBuffers,\n          sourceBuffers = _props$sourceBuffers2 === void 0 ? null : _props$sourceBuffers2;\n      Object.assign(this.feedbackMap, props.feedbackMap);\n\n      var feedbackBuffers = this._getFeedbackBuffers(props);\n\n      this._updateBindings({\n        sourceBuffers: sourceBuffers,\n        feedbackBuffers: feedbackBuffers\n      });\n    }\n  }, {\n    key: \"_setupTransformFeedback\",\n    value: function _setupTransformFeedback(binding, _ref2) {\n      var model = _ref2.model;\n      var program = model.program;\n      binding.transformFeedback = new TransformFeedback(this.gl, {\n        program: program,\n        buffers: binding.feedbackBuffers\n      });\n    }\n  }, {\n    key: \"_updateBindings\",\n    value: function _updateBindings(opts) {\n      this.bindings[this.currentIndex] = this._updateBinding(this.bindings[this.currentIndex], opts);\n\n      if (this.feedbackMap) {\n        var _this$_swapBuffers = this._swapBuffers(this.bindings[this.currentIndex]),\n            sourceBuffers = _this$_swapBuffers.sourceBuffers,\n            feedbackBuffers = _this$_swapBuffers.feedbackBuffers;\n\n        var nextIndex = this._getNextIndex();\n\n        this.bindings[nextIndex] = this._updateBinding(this.bindings[nextIndex], {\n          sourceBuffers: sourceBuffers,\n          feedbackBuffers: feedbackBuffers\n        });\n      }\n    }\n  }, {\n    key: \"_updateBinding\",\n    value: function _updateBinding(binding, opts) {\n      if (!binding) {\n        return {\n          sourceBuffers: Object.assign({}, opts.sourceBuffers),\n          feedbackBuffers: Object.assign({}, opts.feedbackBuffers)\n        };\n      }\n\n      Object.assign(binding.sourceBuffers, opts.sourceBuffers);\n      Object.assign(binding.feedbackBuffers, opts.feedbackBuffers);\n\n      if (binding.transformFeedback) {\n        binding.transformFeedback.setBuffers(binding.feedbackBuffers);\n      }\n\n      return binding;\n    }\n  }, {\n    key: \"_swapBuffers\",\n    value: function _swapBuffers(opts) {\n      if (!this.feedbackMap) {\n        return null;\n      }\n\n      var sourceBuffers = Object.assign({}, opts.sourceBuffers);\n      var feedbackBuffers = Object.assign({}, opts.feedbackBuffers);\n\n      for (var srcName in this.feedbackMap) {\n        var dstName = this.feedbackMap[srcName];\n        sourceBuffers[srcName] = opts.feedbackBuffers[dstName];\n        feedbackBuffers[dstName] = opts.sourceBuffers[srcName];\n        assert(feedbackBuffers[dstName] instanceof Buffer);\n      }\n\n      return {\n        sourceBuffers: sourceBuffers,\n        feedbackBuffers: feedbackBuffers\n      };\n    }\n  }, {\n    key: \"_createNewBuffer\",\n    value: function _createNewBuffer(name, opts) {\n      var buffer = new Buffer(this.gl, opts);\n\n      if (this.resources[name]) {\n        this.resources[name][\"delete\"]();\n      }\n\n      this.resources[name] = buffer;\n      return buffer;\n    }\n  }, {\n    key: \"_getNextIndex\",\n    value: function _getNextIndex() {\n      return (this.currentIndex + 1) % 2;\n    }\n  }]);\n\n  return BufferTransform;\n}();\n\nexport { BufferTransform as default };","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.regexp.match\";\nexport default function getShaderVersion(source) {\n  var version = 100;\n  var words = source.match(/[^\\s]+/g);\n\n  if (words.length >= 2 && words[0] === '#version') {\n    var v = parseInt(words[1], 10);\n\n    if (Number.isFinite(v)) {\n      version = v;\n    }\n  }\n\n  return version;\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.sort\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _MODULE_INJECTORS;\n\nimport { MODULE_INJECTORS_VS, MODULE_INJECTORS_FS } from '../modules/module-injectors';\nimport { VERTEX_SHADER, FRAGMENT_SHADER } from './constants';\nimport { assert } from '../utils';\nvar MODULE_INJECTORS = (_MODULE_INJECTORS = {}, _defineProperty(_MODULE_INJECTORS, VERTEX_SHADER, MODULE_INJECTORS_VS), _defineProperty(_MODULE_INJECTORS, FRAGMENT_SHADER, MODULE_INJECTORS_FS), _MODULE_INJECTORS);\nexport var DECLARATION_INJECT_MARKER = '__LUMA_INJECT_DECLARATIONS__';\nvar REGEX_START_OF_MAIN = /void\\s+main\\s*\\([^)]*\\)\\s*\\{\\n?/;\nvar REGEX_END_OF_MAIN = /}\\n?[^{}]*$/;\nvar fragments = [];\nexport default function injectShader(source, type, inject, injectStandardStubs) {\n  var isVertex = type === VERTEX_SHADER;\n\n  var _loop = function _loop(key) {\n    var fragmentData = inject[key];\n    fragmentData.sort(function (a, b) {\n      return a.order - b.order;\n    });\n    fragments.length = fragmentData.length;\n\n    for (var i = 0, len = fragmentData.length; i < len; ++i) {\n      fragments[i] = fragmentData[i].injection;\n    }\n\n    var fragmentString = \"\".concat(fragments.join('\\n'), \"\\n\");\n\n    switch (key) {\n      case 'vs:#decl':\n        if (isVertex) {\n          source = source.replace(DECLARATION_INJECT_MARKER, fragmentString);\n        }\n\n        break;\n\n      case 'vs:#main-start':\n        if (isVertex) {\n          source = source.replace(REGEX_START_OF_MAIN, function (match) {\n            return match + fragmentString;\n          });\n        }\n\n        break;\n\n      case 'vs:#main-end':\n        if (isVertex) {\n          source = source.replace(REGEX_END_OF_MAIN, function (match) {\n            return fragmentString + match;\n          });\n        }\n\n        break;\n\n      case 'fs:#decl':\n        if (!isVertex) {\n          source = source.replace(DECLARATION_INJECT_MARKER, fragmentString);\n        }\n\n        break;\n\n      case 'fs:#main-start':\n        if (!isVertex) {\n          source = source.replace(REGEX_START_OF_MAIN, function (match) {\n            return match + fragmentString;\n          });\n        }\n\n        break;\n\n      case 'fs:#main-end':\n        if (!isVertex) {\n          source = source.replace(REGEX_END_OF_MAIN, function (match) {\n            return fragmentString + match;\n          });\n        }\n\n        break;\n\n      default:\n        source = source.replace(key, function (match) {\n          return match + fragmentString;\n        });\n    }\n  };\n\n  for (var key in inject) {\n    _loop(key);\n  }\n\n  source = source.replace(DECLARATION_INJECT_MARKER, '');\n\n  if (injectStandardStubs) {\n    source = source.replace(/\\}\\s*$/, function (match) {\n      return match + MODULE_INJECTORS[type];\n    });\n  }\n\n  return source;\n}\nexport function combineInjects(injects) {\n  var result = {};\n  assert(Array.isArray(injects) && injects.length > 1);\n  injects.forEach(function (inject) {\n    for (var key in inject) {\n      result[key] = result[key] ? \"\".concat(result[key], \"\\n\").concat(inject[key]) : inject[key];\n    }\n  });\n  return result;\n}","export var VERTEX_SHADER = 'vs';\nexport var FRAGMENT_SHADER = 'fs';","export var MODULE_INJECTORS_VS = \"#ifdef MODULE_LOGDEPTH\\n  logdepth_adjustPosition(gl_Position);\\n#endif\\n\";\nexport var MODULE_INJECTORS_FS = \"#ifdef MODULE_MATERIAL\\n  gl_FragColor = material_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_LIGHTING\\n  gl_FragColor = lighting_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_FOG\\n  gl_FragColor = fog_filterColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_PICKING\\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\\n#endif\\n\\n#ifdef MODULE_LOGDEPTH\\n  logdepth_setFragDepth();\\n#endif\\n\";","var vs = \"attribute float transform_elementID;\\nvec2 transform_getPixelSizeHalf(vec2 size) {\\n  return vec2(1.) / (2. * size);\\n}\\n\\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\\n  return vec2(xIndex, yIndex);\\n}\\nvec2 transform_getTexCoord(vec2 size) {\\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\\n  vec2 coord = indices / size + pixelSizeHalf;\\n  return coord;\\n}\\nvec2 transform_getPos(vec2 size) {\\n  vec2 texCoord = transform_getTexCoord(size);\\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\\n  return pos;\\n}\\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\\n  vec2 texCoord = transform_getTexCoord(size);\\n  vec4 textureColor = texture2D(texSampler, texCoord);\\n  return textureColor;\\n}\\n\";\nexport default {\n  name: 'transform',\n  vs: vs,\n  fs: null\n};","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _SRC_TEX_PARAMETER_OV;\n\nimport { cloneTextureFrom, readPixelsToArray, getShaderVersion, Buffer, Texture2D, Framebuffer } from '@luma.gl/webgl';\nimport { _transform as transformModule, getPassthroughFS, typeToChannelCount, combineInjects } from '@luma.gl/shadertools';\nimport { updateForTextures, getSizeUniforms } from './transform-shader-utils';\nvar SRC_TEX_PARAMETER_OVERRIDES = (_SRC_TEX_PARAMETER_OV = {}, _defineProperty(_SRC_TEX_PARAMETER_OV, 10241, 9728), _defineProperty(_SRC_TEX_PARAMETER_OV, 10240, 9728), _defineProperty(_SRC_TEX_PARAMETER_OV, 10242, 33071), _defineProperty(_SRC_TEX_PARAMETER_OV, 10243, 33071), _SRC_TEX_PARAMETER_OV);\nvar FS_OUTPUT_VARIABLE = 'transform_output';\n\nvar TextureTransform = function () {\n  function TextureTransform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TextureTransform);\n\n    this.gl = gl;\n    this.currentIndex = 0;\n    this._swapTexture = null;\n    this.targetTextureVarying = null;\n    this.targetTextureType = null;\n    this.samplerTextureMap = null;\n    this.bindings = [];\n    this.resources = {};\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(TextureTransform, [{\n    key: \"updateModelProps\",\n    value: function updateModelProps() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var updatedModelProps = this._processVertexShader(props);\n\n      return Object.assign({}, props, updatedModelProps);\n    }\n  }, {\n    key: \"getDrawOptions\",\n    value: function getDrawOptions() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$bindings$this$c = this.bindings[this.currentIndex],\n          sourceBuffers = _this$bindings$this$c.sourceBuffers,\n          sourceTextures = _this$bindings$this$c.sourceTextures,\n          framebuffer = _this$bindings$this$c.framebuffer,\n          targetTexture = _this$bindings$this$c.targetTexture;\n      var attributes = Object.assign({}, sourceBuffers, opts.attributes);\n      var uniforms = Object.assign({}, opts.uniforms);\n      var parameters = Object.assign({}, opts.parameters);\n      var discard = opts.discard;\n\n      if (this.hasSourceTextures || this.hasTargetTexture) {\n        attributes.transform_elementID = this.elementIDBuffer;\n\n        for (var sampler in this.samplerTextureMap) {\n          var textureName = this.samplerTextureMap[sampler];\n          uniforms[sampler] = sourceTextures[textureName];\n        }\n\n        this._setSourceTextureParameters();\n\n        var sizeUniforms = getSizeUniforms({\n          sourceTextureMap: sourceTextures,\n          targetTextureVarying: this.targetTextureVarying,\n          targetTexture: targetTexture\n        });\n        Object.assign(uniforms, sizeUniforms);\n      }\n\n      if (this.hasTargetTexture) {\n        discard = false;\n        parameters.viewport = [0, 0, framebuffer.width, framebuffer.height];\n      }\n\n      return {\n        attributes: attributes,\n        framebuffer: framebuffer,\n        uniforms: uniforms,\n        discard: discard,\n        parameters: parameters\n      };\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      if (this._swapTexture) {\n        this.currentIndex = this._getNextIndex();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setupTextures(opts);\n    }\n  }, {\n    key: \"getTargetTexture\",\n    value: function getTargetTexture() {\n      var targetTexture = this.bindings[this.currentIndex].targetTexture;\n      return targetTexture;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$packed = _ref.packed,\n          packed = _ref$packed === void 0 ? false : _ref$packed;\n\n      var framebuffer = this.bindings[this.currentIndex].framebuffer;\n      var pixels = readPixelsToArray(framebuffer);\n\n      if (!packed) {\n        return pixels;\n      }\n\n      var ArrayType = pixels.constructor;\n      var channelCount = typeToChannelCount(this.targetTextureType);\n      var packedPixels = new ArrayType(pixels.length * channelCount / 4);\n      var packCount = 0;\n\n      for (var i = 0; i < pixels.length; i += 4) {\n        for (var j = 0; j < channelCount; j++) {\n          packedPixels[packCount++] = pixels[i + j];\n        }\n      }\n\n      return packedPixels;\n    }\n  }, {\n    key: \"getFramebuffer\",\n    value: function getFramebuffer() {\n      var currentResources = this.bindings[this.currentIndex];\n      return currentResources.framebuffer;\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.ownTexture) {\n        this.ownTexture[\"delete\"]();\n      }\n\n      if (this.elementIDBuffer) {\n        this.elementIDBuffer[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _targetTextureVarying = props._targetTextureVarying,\n          _swapTexture = props._swapTexture;\n      this._swapTexture = _swapTexture;\n      this.targetTextureVarying = _targetTextureVarying;\n      this.hasTargetTexture = _targetTextureVarying;\n\n      this._setupTextures(props);\n    }\n  }, {\n    key: \"_createTargetTexture\",\n    value: function _createTargetTexture(props) {\n      var sourceTextures = props.sourceTextures,\n          textureOrReference = props.textureOrReference;\n\n      if (textureOrReference instanceof Texture2D) {\n        return textureOrReference;\n      }\n\n      var refTexture = sourceTextures[textureOrReference];\n\n      if (!refTexture) {\n        return null;\n      }\n\n      this._targetRefTexName = textureOrReference;\n      return this._createNewTexture(refTexture);\n    }\n  }, {\n    key: \"_setupTextures\",\n    value: function _setupTextures() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var sourceBuffers = props.sourceBuffers,\n          _props$_sourceTexture = props._sourceTextures,\n          _sourceTextures = _props$_sourceTexture === void 0 ? {} : _props$_sourceTexture,\n          _targetTexture = props._targetTexture;\n\n      var targetTexture = this._createTargetTexture({\n        sourceTextures: _sourceTextures,\n        textureOrReference: _targetTexture\n      });\n\n      this.hasSourceTextures = this.hasSourceTextures || _sourceTextures && Object.keys(_sourceTextures).length > 0;\n\n      this._updateBindings({\n        sourceBuffers: sourceBuffers,\n        sourceTextures: _sourceTextures,\n        targetTexture: targetTexture\n      });\n\n      if ('elementCount' in props) {\n        this._updateElementIDBuffer(props.elementCount);\n      }\n    }\n  }, {\n    key: \"_updateElementIDBuffer\",\n    value: function _updateElementIDBuffer(elementCount) {\n      if (typeof elementCount !== 'number' || this.elementCount >= elementCount) {\n        return;\n      }\n\n      var elementIds = new Float32Array(elementCount);\n      elementIds.forEach(function (_, index, array) {\n        array[index] = index;\n      });\n\n      if (!this.elementIDBuffer) {\n        this.elementIDBuffer = new Buffer(this.gl, {\n          data: elementIds,\n          accessor: {\n            size: 1\n          }\n        });\n      } else {\n        this.elementIDBuffer.setData({\n          data: elementIds\n        });\n      }\n\n      this.elementCount = elementCount;\n    }\n  }, {\n    key: \"_updateBindings\",\n    value: function _updateBindings(opts) {\n      this.bindings[this.currentIndex] = this._updateBinding(this.bindings[this.currentIndex], opts);\n\n      if (this._swapTexture) {\n        var _this$_swapTextures = this._swapTextures(this.bindings[this.currentIndex]),\n            sourceTextures = _this$_swapTextures.sourceTextures,\n            targetTexture = _this$_swapTextures.targetTexture;\n\n        var nextIndex = this._getNextIndex();\n\n        this.bindings[nextIndex] = this._updateBinding(this.bindings[nextIndex], {\n          sourceTextures: sourceTextures,\n          targetTexture: targetTexture\n        });\n      }\n    }\n  }, {\n    key: \"_updateBinding\",\n    value: function _updateBinding(binding, opts) {\n      var sourceBuffers = opts.sourceBuffers,\n          sourceTextures = opts.sourceTextures,\n          targetTexture = opts.targetTexture;\n\n      if (!binding) {\n        binding = {\n          sourceBuffers: {},\n          sourceTextures: {},\n          targetTexture: null\n        };\n      }\n\n      Object.assign(binding.sourceTextures, sourceTextures);\n      Object.assign(binding.sourceBuffers, sourceBuffers);\n\n      if (targetTexture) {\n        binding.targetTexture = targetTexture;\n        var width = targetTexture.width,\n            height = targetTexture.height;\n        var _binding = binding,\n            framebuffer = _binding.framebuffer;\n\n        if (framebuffer) {\n          framebuffer.update({\n            attachments: _defineProperty({}, 36064, targetTexture),\n            resizeAttachments: false\n          });\n          framebuffer.resize({\n            width: width,\n            height: height\n          });\n        } else {\n          binding.framebuffer = new Framebuffer(this.gl, {\n            id: \"\".concat(this.id || 'transform', \"-framebuffer\"),\n            width: width,\n            height: height,\n            attachments: _defineProperty({}, 36064, targetTexture)\n          });\n        }\n      }\n\n      return binding;\n    }\n  }, {\n    key: \"_setSourceTextureParameters\",\n    value: function _setSourceTextureParameters() {\n      var index = this.currentIndex;\n      var sourceTextures = this.bindings[index].sourceTextures;\n\n      for (var name in sourceTextures) {\n        sourceTextures[name].setParameters(SRC_TEX_PARAMETER_OVERRIDES);\n      }\n    }\n  }, {\n    key: \"_swapTextures\",\n    value: function _swapTextures(opts) {\n      if (!this._swapTexture) {\n        return null;\n      }\n\n      var sourceTextures = Object.assign({}, opts.sourceTextures);\n      sourceTextures[this._swapTexture] = opts.targetTexture;\n      var targetTexture = opts.sourceTextures[this._swapTexture];\n      return {\n        sourceTextures: sourceTextures,\n        targetTexture: targetTexture\n      };\n    }\n  }, {\n    key: \"_createNewTexture\",\n    value: function _createNewTexture(refTexture) {\n      var _parameters;\n\n      var texture = cloneTextureFrom(refTexture, {\n        parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9728), _defineProperty(_parameters, 10240, 9728), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters),\n        pixelStore: _defineProperty({}, 37440, false)\n      });\n\n      if (this.ownTexture) {\n        this.ownTexture[\"delete\"]();\n      }\n\n      this.ownTexture = texture;\n      return texture;\n    }\n  }, {\n    key: \"_getNextIndex\",\n    value: function _getNextIndex() {\n      return (this.currentIndex + 1) % 2;\n    }\n  }, {\n    key: \"_processVertexShader\",\n    value: function _processVertexShader() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _this$bindings$this$c2 = this.bindings[this.currentIndex],\n          sourceTextures = _this$bindings$this$c2.sourceTextures,\n          targetTexture = _this$bindings$this$c2.targetTexture;\n\n      var _updateForTextures = updateForTextures({\n        vs: props.vs,\n        sourceTextureMap: sourceTextures,\n        targetTextureVarying: this.targetTextureVarying,\n        targetTexture: targetTexture\n      }),\n          vs = _updateForTextures.vs,\n          uniforms = _updateForTextures.uniforms,\n          targetTextureType = _updateForTextures.targetTextureType,\n          inject = _updateForTextures.inject,\n          samplerTextureMap = _updateForTextures.samplerTextureMap;\n\n      var combinedInject = combineInjects([props.inject || {}, inject]);\n      this.targetTextureType = targetTextureType;\n      this.samplerTextureMap = samplerTextureMap;\n      var fs = props._fs || getPassthroughFS({\n        version: getShaderVersion(vs),\n        input: this.targetTextureVarying,\n        inputType: targetTextureType,\n        output: FS_OUTPUT_VARIABLE\n      });\n      var modules = this.hasSourceTextures || this.targetTextureVarying ? [transformModule].concat(props.modules || []) : props.modules;\n      return {\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        uniforms: uniforms,\n        inject: combinedInject\n      };\n    }\n  }]);\n\n  return TextureTransform;\n}();\n\nexport { TextureTransform as default };","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport { assert } from '@luma.gl/webgl';\nimport { combineInjects, getQualifierDetails, typeToChannelSuffix } from '@luma.gl/shadertools';\nvar SAMPLER_UNIFORM_PREFIX = 'transform_uSampler_';\nvar SIZE_UNIFORM_PREFIX = 'transform_uSize_';\nvar VS_POS_VARIABLE = 'transform_position';\nexport function updateForTextures(_ref) {\n  var vs = _ref.vs,\n      sourceTextureMap = _ref.sourceTextureMap,\n      targetTextureVarying = _ref.targetTextureVarying,\n      targetTexture = _ref.targetTexture;\n  var texAttributeNames = Object.keys(sourceTextureMap);\n  var sourceCount = texAttributeNames.length;\n  var targetTextureType = null;\n  var samplerTextureMap = {};\n  var updatedVs = vs;\n  var finalInject = {};\n\n  if (sourceCount > 0 || targetTextureVarying) {\n    var vsLines = updatedVs.split('\\n');\n    var updateVsLines = vsLines.slice();\n    vsLines.forEach(function (line, index, lines) {\n      if (sourceCount > 0) {\n        var updated = processAttributeDefinition(line, sourceTextureMap);\n\n        if (updated) {\n          var updatedLine = updated.updatedLine,\n              inject = updated.inject;\n          updateVsLines[index] = updatedLine;\n          finalInject = combineInjects([finalInject, inject]);\n          Object.assign(samplerTextureMap, updated.samplerTextureMap);\n          sourceCount--;\n        }\n      }\n\n      if (targetTextureVarying && !targetTextureType) {\n        targetTextureType = getVaryingType(line, targetTextureVarying);\n      }\n    });\n\n    if (targetTextureVarying) {\n      assert(targetTexture);\n      var sizeName = \"\".concat(SIZE_UNIFORM_PREFIX).concat(targetTextureVarying);\n      var uniformDeclaration = \"uniform vec2 \".concat(sizeName, \";\\n\");\n      var posInstructions = \"     vec2 \".concat(VS_POS_VARIABLE, \" = transform_getPos(\").concat(sizeName, \");\\n     gl_Position = vec4(\").concat(VS_POS_VARIABLE, \", 0, 1.);\\n\");\n      var inject = {\n        'vs:#decl': uniformDeclaration,\n        'vs:#main-start': posInstructions\n      };\n      finalInject = combineInjects([finalInject, inject]);\n    }\n\n    updatedVs = updateVsLines.join('\\n');\n  }\n\n  return {\n    vs: updatedVs,\n    targetTextureType: targetTextureType,\n    inject: finalInject,\n    samplerTextureMap: samplerTextureMap\n  };\n}\nexport function getSizeUniforms(_ref2) {\n  var sourceTextureMap = _ref2.sourceTextureMap,\n      targetTextureVarying = _ref2.targetTextureVarying,\n      targetTexture = _ref2.targetTexture;\n  var uniforms = {};\n  var width;\n  var height;\n\n  if (targetTextureVarying) {\n    width = targetTexture.width;\n    height = targetTexture.height;\n    uniforms[\"\".concat(SIZE_UNIFORM_PREFIX).concat(targetTextureVarying)] = [width, height];\n  }\n\n  for (var textureName in sourceTextureMap) {\n    var _sourceTextureMap$tex = sourceTextureMap[textureName];\n    width = _sourceTextureMap$tex.width;\n    height = _sourceTextureMap$tex.height;\n    uniforms[\"\".concat(SIZE_UNIFORM_PREFIX).concat(textureName)] = [width, height];\n  }\n\n  return uniforms;\n}\n\nfunction getAttributeDefinition(line) {\n  return getQualifierDetails(line, ['attribute', 'in']);\n}\n\nfunction getSamplerDeclerations(textureName) {\n  var samplerName = \"\".concat(SAMPLER_UNIFORM_PREFIX).concat(textureName);\n  var sizeName = \"\".concat(SIZE_UNIFORM_PREFIX).concat(textureName);\n  var uniformDeclerations = \"  uniform sampler2D \".concat(samplerName, \";\\n  uniform vec2 \").concat(sizeName, \";\");\n  return {\n    samplerName: samplerName,\n    sizeName: sizeName,\n    uniformDeclerations: uniformDeclerations\n  };\n}\n\nexport function getVaryingType(line, varying) {\n  var qualaiferDetails = getQualifierDetails(line, ['varying', 'out']);\n\n  if (!qualaiferDetails) {\n    return null;\n  }\n\n  return qualaiferDetails.name === varying ? qualaiferDetails.type : null;\n}\nexport function processAttributeDefinition(line, textureMap) {\n  var samplerTextureMap = {};\n  var attributeData = getAttributeDefinition(line);\n\n  if (!attributeData) {\n    return null;\n  }\n\n  var type = attributeData.type,\n      name = attributeData.name;\n\n  if (name && textureMap[name]) {\n    var updatedLine = \"// \".concat(line, \" => Replaced by Transform with a sampler\");\n\n    var _getSamplerDecleratio = getSamplerDeclerations(name),\n        samplerName = _getSamplerDecleratio.samplerName,\n        sizeName = _getSamplerDecleratio.sizeName,\n        uniformDeclerations = _getSamplerDecleratio.uniformDeclerations;\n\n    var channels = typeToChannelSuffix(type);\n    var sampleInstruction = \"  \".concat(type, \" \").concat(name, \" = transform_getInput(\").concat(samplerName, \", \").concat(sizeName, \").\").concat(channels, \";\\n\");\n    samplerTextureMap[samplerName] = name;\n    var inject = {\n      'vs:#decl': uniformDeclerations,\n      'vs:#main-start': sampleInstruction\n    };\n    return {\n      updatedLine: updatedLine,\n      inject: inject,\n      samplerTextureMap: samplerTextureMap\n    };\n  }\n\n  return null;\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar TYPE_DEFINITIONS = {\n  number: {\n    validate: function validate(value, propType) {\n      return Number.isFinite(value) && (!('max' in propType) || value <= propType.max) && (!('min' in propType) || value >= propType.min);\n    }\n  },\n  array: {\n    validate: function validate(value, propType) {\n      return Array.isArray(value) || ArrayBuffer.isView(value);\n    }\n  }\n};\nexport function parsePropTypes(propDefs) {\n  var propTypes = {};\n\n  for (var propName in propDefs) {\n    var propDef = propDefs[propName];\n    var propType = parsePropType(propDef);\n    propTypes[propName] = propType;\n  }\n\n  return propTypes;\n}\n\nfunction parsePropType(propDef) {\n  var type = getTypeOf(propDef);\n\n  if (type === 'object') {\n    if (!propDef) {\n      return {\n        type: 'object',\n        value: null\n      };\n    }\n\n    if ('type' in propDef) {\n      return Object.assign({}, propDef, TYPE_DEFINITIONS[propDef.type]);\n    }\n\n    if (!('value' in propDef)) {\n      return {\n        type: 'object',\n        value: propDef\n      };\n    }\n\n    type = getTypeOf(propDef.value);\n    return Object.assign({\n      type: type\n    }, propDef, TYPE_DEFINITIONS[type]);\n  }\n\n  return Object.assign({\n    type: type,\n    value: propDef\n  }, TYPE_DEFINITIONS[type]);\n}\n\nfunction getTypeOf(value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    return 'array';\n  }\n\n  return _typeof(value);\n}","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { assert } from '../utils';\nimport { parsePropTypes } from './filters/prop-types';\nvar VERTEX_SHADER = 'vs';\nvar FRAGMENT_SHADER = 'fs';\n\nvar ShaderModule = function () {\n  function ShaderModule(_ref) {\n    var name = _ref.name,\n        vs = _ref.vs,\n        fs = _ref.fs,\n        _ref$dependencies = _ref.dependencies,\n        dependencies = _ref$dependencies === void 0 ? [] : _ref$dependencies,\n        uniforms = _ref.uniforms,\n        getUniforms = _ref.getUniforms,\n        _ref$deprecations = _ref.deprecations,\n        deprecations = _ref$deprecations === void 0 ? [] : _ref$deprecations,\n        _ref$defines = _ref.defines,\n        defines = _ref$defines === void 0 ? {} : _ref$defines,\n        _ref$inject = _ref.inject,\n        inject = _ref$inject === void 0 ? {} : _ref$inject,\n        vertexShader = _ref.vertexShader,\n        fragmentShader = _ref.fragmentShader;\n\n    _classCallCheck(this, ShaderModule);\n\n    assert(typeof name === 'string');\n    this.name = name;\n    this.vs = vs || vertexShader;\n    this.fs = fs || fragmentShader;\n    this.getModuleUniforms = getUniforms;\n    this.dependencies = dependencies;\n    this.deprecations = this._parseDeprecationDefinitions(deprecations);\n    this.defines = defines;\n    this.injections = normalizeInjections(inject);\n\n    if (uniforms) {\n      this.uniforms = parsePropTypes(uniforms);\n    }\n  }\n\n  _createClass(ShaderModule, [{\n    key: \"getModuleSource\",\n    value: function getModuleSource(type) {\n      var moduleSource;\n\n      switch (type) {\n        case VERTEX_SHADER:\n          moduleSource = this.vs || '';\n          break;\n\n        case FRAGMENT_SHADER:\n          moduleSource = this.fs || '';\n          break;\n\n        default:\n          assert(false);\n      }\n\n      return \"#define MODULE_\".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi, '_'), \"\\n\").concat(moduleSource, \"// END MODULE_\").concat(this.name, \"\\n\\n\");\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms(opts, uniforms) {\n      if (this.getModuleUniforms) {\n        return this.getModuleUniforms(opts, uniforms);\n      }\n\n      if (this.uniforms) {\n        return this._defaultGetUniforms(opts);\n      }\n\n      return {};\n    }\n  }, {\n    key: \"getDefines\",\n    value: function getDefines() {\n      return this.defines;\n    }\n  }, {\n    key: \"checkDeprecations\",\n    value: function checkDeprecations(shaderSource, log) {\n      this.deprecations.forEach(function (def) {\n        if (def.regex.test(shaderSource)) {\n          if (def.deprecated) {\n            log.deprecated(def.old, def[\"new\"])();\n          } else {\n            log.removed(def.old, def[\"new\"])();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_parseDeprecationDefinitions\",\n    value: function _parseDeprecationDefinitions(deprecations) {\n      deprecations.forEach(function (def) {\n        switch (def.type) {\n          case 'function':\n            def.regex = new RegExp(\"\\\\b\".concat(def.old, \"\\\\(\"));\n            break;\n\n          default:\n            def.regex = new RegExp(\"\".concat(def.type, \" \").concat(def.old, \";\"));\n        }\n      });\n      return deprecations;\n    }\n  }, {\n    key: \"_defaultGetUniforms\",\n    value: function _defaultGetUniforms() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var uniforms = {};\n      var propTypes = this.uniforms;\n\n      for (var key in propTypes) {\n        var propDef = propTypes[key];\n\n        if (key in opts && !propDef[\"private\"]) {\n          if (propDef.validate) {\n            assert(propDef.validate(opts[key], propDef), \"\".concat(this.name, \": invalid \").concat(key));\n          }\n\n          uniforms[key] = opts[key];\n        } else {\n          uniforms[key] = propDef.value;\n        }\n      }\n\n      return uniforms;\n    }\n  }]);\n\n  return ShaderModule;\n}();\n\nexport { ShaderModule as default };\nexport function normalizeShaderModule(module) {\n  if (!module.normalized) {\n    module.normalized = true;\n\n    if (module.uniforms && !module.getUniforms) {\n      var shaderModule = new ShaderModule(module);\n      module.getUniforms = shaderModule.getUniforms.bind(shaderModule);\n    }\n  }\n\n  return module;\n}\n\nfunction normalizeInjections(injections) {\n  var result = {\n    vs: {},\n    fs: {}\n  };\n\n  for (var hook in injections) {\n    var injection = injections[hook];\n    var stage = hook.slice(0, 2);\n\n    if (typeof injection === 'string') {\n      injection = {\n        injection: injection\n      };\n    }\n\n    result[stage][hook] = injection;\n  }\n\n  return result;\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.array.map\";\nimport ShaderModule from './shader-module';\nimport { assert } from '../utils';\nexport function resolveModules(modules) {\n  return getShaderDependencies(instantiateModules(modules));\n}\n\nfunction getShaderDependencies(modules) {\n  var moduleMap = {};\n  var moduleDepth = {};\n  getDependencyGraph({\n    modules: modules,\n    level: 0,\n    moduleMap: moduleMap,\n    moduleDepth: moduleDepth\n  });\n  return Object.keys(moduleDepth).sort(function (a, b) {\n    return moduleDepth[b] - moduleDepth[a];\n  }).map(function (name) {\n    return moduleMap[name];\n  });\n}\n\nfunction getDependencyGraph(_ref) {\n  var modules = _ref.modules,\n      level = _ref.level,\n      moduleMap = _ref.moduleMap,\n      moduleDepth = _ref.moduleDepth;\n\n  if (level >= 5) {\n    throw new Error('Possible loop in shader dependency graph');\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = modules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var module = _step.value;\n      moduleMap[module.name] = module;\n\n      if (moduleDepth[module.name] === undefined || moduleDepth[module.name] < level) {\n        moduleDepth[module.name] = level;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = modules[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _module = _step2.value;\n\n      if (_module.dependencies) {\n        getDependencyGraph({\n          modules: _module.dependencies,\n          level: level + 1,\n          moduleMap: moduleMap,\n          moduleDepth: moduleDepth\n        });\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction instantiateModules(modules, seen) {\n  return modules.map(function (module) {\n    if (module instanceof ShaderModule) {\n      return module;\n    }\n\n    assert(typeof module !== 'string', \"Shader module use by name is deprecated. Import shader module '\".concat(module, \"' and use it directly.\"));\n    assert(module.name, 'shader module has no name');\n    module = new ShaderModule(module);\n    module.dependencies = instantiateModules(module.dependencies);\n    return module;\n  });\n}\n\nexport var TEST_EXPORTS = {\n  getShaderDependencies: getShaderDependencies,\n  getDependencyGraph: getDependencyGraph\n};","import \"core-js/modules/es6.array.index-of\";\nexport default function isOldIE() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var navigator = typeof window !== 'undefined' ? window.navigator || {} : {};\n  var userAgent = opts.userAgent || navigator.userAgent || '';\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n  return isMSIE || isTrident;\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport isOldIE from './is-old-ie';\nimport assert from './assert';\nvar GL_VENDOR = 0x1f00;\nvar GL_RENDERER = 0x1f01;\nvar GL_VERSION = 0x1f02;\nvar GL_SHADING_LANGUAGE_VERSION = 0x8b8c;\nvar WEBGL_FEATURES = {\n  GLSL_FRAG_DATA: ['WEBGL_draw_buffers', true],\n  GLSL_FRAG_DEPTH: ['EXT_frag_depth', true],\n  GLSL_DERIVATIVES: ['OES_standard_derivatives', true],\n  GLSL_TEXTURE_LOD: ['EXT_shader_texture_lod', true]\n};\nvar FEATURES = {};\nObject.keys(WEBGL_FEATURES).forEach(function (key) {\n  FEATURES[key] = key;\n});\nexport { FEATURES };\n\nfunction isWebGL2(gl) {\n  return Boolean(gl && gl._version === 2);\n}\n\nexport function getContextInfo(gl) {\n  var info = gl.getExtension('WEBGL_debug_renderer_info');\n  var vendor = gl.getParameter(info && info.UNMASKED_VENDOR_WEBGL || GL_VENDOR);\n  var renderer = gl.getParameter(info && info.UNMASKED_RENDERER_WEBGL || GL_RENDERER);\n  var gpuVendor = identifyGPUVendor(vendor, renderer);\n  var gpuInfo = {\n    gpuVendor: gpuVendor,\n    vendor: vendor,\n    renderer: renderer,\n    version: gl.getParameter(GL_VERSION),\n    shadingLanguageVersion: gl.getParameter(GL_SHADING_LANGUAGE_VERSION)\n  };\n  return gpuInfo;\n}\n\nfunction identifyGPUVendor(vendor, renderer) {\n  if (vendor.match(/NVIDIA/i) || renderer.match(/NVIDIA/i)) {\n    return 'NVIDIA';\n  }\n\n  if (vendor.match(/INTEL/i) || renderer.match(/INTEL/i)) {\n    return 'INTEL';\n  }\n\n  if (vendor.match(/AMD/i) || renderer.match(/AMD/i) || vendor.match(/ATI/i) || renderer.match(/ATI/i)) {\n    return 'AMD';\n  }\n\n  return 'UNKNOWN GPU';\n}\n\nvar compiledGlslExtensions = {};\nexport function canCompileGLGSExtension(gl, cap) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n\n  if (!isOldIE(opts)) {\n    return true;\n  }\n\n  if (cap in compiledGlslExtensions) {\n    return compiledGlslExtensions[cap];\n  }\n\n  var extensionName = feature[0];\n  var behavior = opts.behavior || 'enable';\n  var source = \"#extension GL_\".concat(extensionName, \" : \").concat(behavior, \"\\nvoid main(void) {}\");\n  var shader = gl.createShader(35633);\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  var canCompile = gl.getShaderParameter(shader, 35713);\n  gl.deleteShader(shader);\n  compiledGlslExtensions[cap] = canCompile;\n  return canCompile;\n}\n\nfunction getFeature(gl, cap) {\n  var feature = WEBGL_FEATURES[cap];\n  assert(feature, cap);\n  var extensionName = isWebGL2(gl) ? feature[1] || feature[0] : feature[0];\n  var value = typeof extensionName === 'string' ? Boolean(gl.getExtension(extensionName)) : extensionName;\n  assert(value === false || value === true);\n  return value;\n}\n\nexport function hasFeatures(gl, features) {\n  features = Array.isArray(features) ? features : [features];\n  return features.every(function (feature) {\n    return getFeature(gl, feature);\n  });\n}","import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nexport default function transpileShader(source, targetGLSLVersion, isVertex) {\n  switch (targetGLSLVersion) {\n    case 300:\n      return isVertex ? convertVertexShaderTo300(source) : convertFragmentShaderTo300(source);\n\n    case 100:\n      return isVertex ? convertVertexShaderTo100(source) : convertFragmentShaderTo100(source);\n\n    default:\n      throw new Error(\"unknown GLSL version \".concat(targetGLSLVersion));\n  }\n}\nvar FS_OUTPUT_REGEX = /^[ \\t]*out[ \\t]+vec4[ \\t]+(\\w+)[ \\t]*;\\s+/m;\n\nfunction convertVertexShaderTo300(source) {\n  return source.replace(/^(#version[ \\t]+(100|300[ \\t]+es))?[ \\t]*\\n/, '#version 300 es\\n').replace(/^[ \\t]*attribute[ \\t]+(.+;)/gm, 'in $1').replace(/^[ \\t]*varying[ \\t]+(.+;)/gm, 'out $1').replace(/\\btexture2D\\(/g, 'texture(').replace(/\\btextureCube\\(+/g, 'texture(').replace(/\\btexture2DLodEXT\\(/g, 'textureLod(').replace(/\\btextureCubeLodEXT\\(/g, 'textureLod(');\n}\n\nfunction convertFragmentShaderTo300(source) {\n  return source.replace(/^(#version[ \\t]+(100|300[ \\t]+es))?[ \\t]*\\n/, '#version 300 es\\n').replace(/^[ \\t]*varying[ \\t]+(.+;)/gm, 'in $1').replace(/\\btexture2D\\(/g, 'texture(').replace(/\\btextureCube\\(/g, 'texture(').replace(/\\btexture2DLodEXT\\(/g, 'textureLod(').replace(/\\btextureCubeLodEXT\\(/g, 'textureLod(');\n}\n\nfunction convertVertexShaderTo100(source) {\n  return source.replace(/^#version[ \\t]+300[ \\t]+es/, '#version 100').replace(/^[ \\t]*in[ \\t]+(.+;)/gm, 'attribute $1').replace(/^[ \\t]*out[ \\t]+(.+;)/gm, 'varying $1').replace(/\\btexture\\(/g, 'texture2D(').replace(/\\btextureLod\\(/g, 'texture2DLodEXT(');\n}\n\nfunction convertFragmentShaderTo100(source) {\n  source = source.replace(/^#version[ \\t]+300[ \\t]+es/, '#version 100').replace(/^[ \\t]*in[ \\t]+/gm, 'varying ').replace(/\\btexture\\(/g, 'texture2D(').replace(/\\btextureLod\\(/g, 'texture2DLodEXT(');\n  var outputMatch = source.match(FS_OUTPUT_REGEX);\n\n  if (outputMatch) {\n    var outputName = outputMatch[1];\n    source = source.replace(FS_OUTPUT_REGEX, '').replace(new RegExp(\"\\\\b\".concat(outputName, \"\\\\b\"), 'g'), 'gl_FragColor');\n  }\n\n  return source;\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.assign\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _SHADER_TYPE;\n\nimport { VERTEX_SHADER, FRAGMENT_SHADER } from './constants';\nimport { resolveModules } from './resolve-modules';\nimport { getPlatformShaderDefines, getVersionDefines } from './platform-defines';\nimport injectShader, { DECLARATION_INJECT_MARKER } from './inject-shader';\nimport transpileShader from './transpile-shader';\nimport { assert } from '../utils';\nvar INJECT_SHADER_DECLARATIONS = \"\\n\\n\".concat(DECLARATION_INJECT_MARKER, \"\\n\\n\");\nvar SHADER_TYPE = (_SHADER_TYPE = {}, _defineProperty(_SHADER_TYPE, VERTEX_SHADER, 'vertex'), _defineProperty(_SHADER_TYPE, FRAGMENT_SHADER, 'fragment'), _SHADER_TYPE);\nvar FRAGMENT_SHADER_PROLOGUE = \"precision highp float;\\n\\n\";\nexport function assembleShaders(gl, opts) {\n  var vs = opts.vs,\n      fs = opts.fs;\n  var modules = resolveModules(opts.modules || []);\n  return {\n    gl: gl,\n    vs: assembleShader(gl, Object.assign({}, opts, {\n      source: vs,\n      type: VERTEX_SHADER,\n      modules: modules\n    })),\n    fs: assembleShader(gl, Object.assign({}, opts, {\n      source: fs,\n      type: FRAGMENT_SHADER,\n      modules: modules\n    })),\n    getUniforms: assembleGetUniforms(modules)\n  };\n}\n\nfunction assembleShader(gl, _ref) {\n  var id = _ref.id,\n      source = _ref.source,\n      type = _ref.type,\n      modules = _ref.modules,\n      _ref$defines = _ref.defines,\n      defines = _ref$defines === void 0 ? {} : _ref$defines,\n      _ref$hookFunctions = _ref.hookFunctions,\n      hookFunctions = _ref$hookFunctions === void 0 ? [] : _ref$hookFunctions,\n      _ref$inject = _ref.inject,\n      inject = _ref$inject === void 0 ? {} : _ref$inject,\n      _ref$transpileToGLSL = _ref.transpileToGLSL100,\n      transpileToGLSL100 = _ref$transpileToGLSL === void 0 ? false : _ref$transpileToGLSL,\n      _ref$prologue = _ref.prologue,\n      prologue = _ref$prologue === void 0 ? true : _ref$prologue,\n      log = _ref.log;\n  assert(typeof source === 'string', 'shader source must be a string');\n  var isVertex = type === VERTEX_SHADER;\n  var sourceLines = source.split('\\n');\n  var glslVersion = 100;\n  var versionLine = '';\n  var coreSource = source;\n\n  if (sourceLines[0].indexOf('#version ') === 0) {\n    glslVersion = 300;\n    versionLine = sourceLines[0];\n    coreSource = sourceLines.slice(1).join('\\n');\n  } else {\n    versionLine = \"#version \".concat(glslVersion);\n  }\n\n  var allDefines = {};\n  modules.forEach(function (module) {\n    Object.assign(allDefines, module.getDefines());\n  });\n  Object.assign(allDefines, defines);\n  var assembledSource = prologue ? \"\".concat(versionLine, \"\\n\").concat(getShaderName({\n    id: id,\n    source: source,\n    type: type\n  }), \"\\n\").concat(getShaderType({\n    type: type\n  }), \"\\n\").concat(getPlatformShaderDefines(gl), \"\\n\").concat(getVersionDefines(gl, glslVersion, !isVertex), \"\\n\").concat(getApplicationDefines(allDefines), \"\\n\").concat(isVertex ? '' : FRAGMENT_SHADER_PROLOGUE, \"\\n\") : \"\".concat(versionLine, \"\\n\");\n  hookFunctions = normalizeHookFunctions(hookFunctions);\n  var hookInjections = {};\n  var declInjections = {};\n  var mainInjections = {};\n\n  for (var key in inject) {\n    var injection = typeof inject[key] === 'string' ? {\n      injection: inject[key],\n      order: 0\n    } : inject[key];\n    var match = key.match(/^(v|f)s:(#)?([\\w-]+)$/);\n\n    if (match) {\n      var hash = match[2];\n      var name = match[3];\n\n      if (hash) {\n        if (name === 'decl') {\n          declInjections[key] = [injection];\n        } else {\n          mainInjections[key] = [injection];\n        }\n      } else {\n        hookInjections[key] = [injection];\n      }\n    } else {\n      mainInjections[key] = [injection];\n    }\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = modules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var module = _step.value;\n\n      if (log) {\n        module.checkDeprecations(coreSource, log);\n      }\n\n      var moduleSource = module.getModuleSource(type, glslVersion);\n      assembledSource += moduleSource;\n      var injections = module.injections[type];\n\n      for (var _key in injections) {\n        var _match = _key.match(/^(v|f)s:#([\\w-]+)$/);\n\n        if (_match) {\n          var _name = _match[2];\n          var injectionType = _name === 'decl' ? declInjections : mainInjections;\n          injectionType[_key] = injectionType[_key] || [];\n\n          injectionType[_key].push(injections[_key]);\n        } else {\n          hookInjections[_key] = hookInjections[_key] || [];\n\n          hookInjections[_key].push(injections[_key]);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  assembledSource += INJECT_SHADER_DECLARATIONS;\n  assembledSource = injectShader(assembledSource, type, declInjections);\n  assembledSource += getHookFunctions(hookFunctions[type], hookInjections);\n  assembledSource += coreSource;\n  assembledSource = injectShader(assembledSource, type, mainInjections);\n  assembledSource = transpileShader(assembledSource, transpileToGLSL100 ? 100 : glslVersion, isVertex);\n  return assembledSource;\n}\n\nfunction assembleGetUniforms(modules) {\n  return function getUniforms(opts) {\n    var uniforms = {};\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = modules[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var module = _step2.value;\n        var moduleUniforms = module.getUniforms(opts, uniforms);\n        Object.assign(uniforms, moduleUniforms);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    return uniforms;\n  };\n}\n\nfunction getShaderType(_ref2) {\n  var type = _ref2.type;\n  return \"\\n#define SHADER_TYPE_\".concat(SHADER_TYPE[type].toUpperCase(), \"\\n\");\n}\n\nfunction getShaderName(_ref3) {\n  var id = _ref3.id,\n      source = _ref3.source,\n      type = _ref3.type;\n  var injectShaderName = id && typeof id === 'string' && source.indexOf('SHADER_NAME') === -1;\n  return injectShaderName ? \"\\n#define SHADER_NAME \".concat(id, \"_\").concat(SHADER_TYPE[type], \"\\n\\n\") : '';\n}\n\nfunction getApplicationDefines() {\n  var defines = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var count = 0;\n  var sourceText = '';\n\n  for (var define in defines) {\n    if (count === 0) {\n      sourceText += '\\n// APPLICATION DEFINES\\n';\n    }\n\n    count++;\n    var value = defines[define];\n\n    if (value || Number.isFinite(value)) {\n      sourceText += \"#define \".concat(define.toUpperCase(), \" \").concat(defines[define], \"\\n\");\n    }\n  }\n\n  if (count === 0) {\n    sourceText += '\\n';\n  }\n\n  return sourceText;\n}\n\nfunction getHookFunctions(hookFunctions, hookInjections) {\n  var result = '';\n\n  for (var hookName in hookFunctions) {\n    var hookFunction = hookFunctions[hookName];\n    result += \"void \".concat(hookFunction.signature, \" {\\n\");\n\n    if (hookFunction.header) {\n      result += \"  \".concat(hookFunction.header);\n    }\n\n    if (hookInjections[hookName]) {\n      var injections = hookInjections[hookName];\n      injections.sort(function (a, b) {\n        return a.order - b.order;\n      });\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = injections[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var injection = _step3.value;\n          result += \"  \".concat(injection.injection, \"\\n\");\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n\n    if (hookFunction.footer) {\n      result += \"  \".concat(hookFunction.footer);\n    }\n\n    result += '}\\n';\n  }\n\n  return result;\n}\n\nfunction normalizeHookFunctions(hookFunctions) {\n  var result = {\n    vs: {},\n    fs: {}\n  };\n  hookFunctions.forEach(function (hook) {\n    var opts;\n\n    if (typeof hook !== 'string') {\n      opts = hook;\n      hook = opts.hook;\n    } else {\n      opts = {};\n    }\n\n    hook = hook.trim();\n\n    var _hook$split = hook.split(':'),\n        _hook$split2 = _slicedToArray(_hook$split, 2),\n        stage = _hook$split2[0],\n        signature = _hook$split2[1];\n\n    var name = hook.replace(/\\(.+/, '');\n    result[stage][name] = Object.assign(opts, {\n      signature: signature\n    });\n  });\n  return result;\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.bind\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _UNIFORM_SETTERS;\n\nimport { log } from '@luma.gl/gltools';\nimport Framebuffer from './framebuffer';\nimport Renderbuffer from './renderbuffer';\nimport Texture from './texture';\nimport { assert } from '../utils';\nvar UNIFORM_SETTERS = (_UNIFORM_SETTERS = {}, _defineProperty(_UNIFORM_SETTERS, 5126, getArraySetter.bind(null, 'uniform1fv', toFloatArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35664, getArraySetter.bind(null, 'uniform2fv', toFloatArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35665, getArraySetter.bind(null, 'uniform3fv', toFloatArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35666, getArraySetter.bind(null, 'uniform4fv', toFloatArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 5124, getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35667, getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35668, getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35669, getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35670, getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35671, getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35672, getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35673, getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35674, getArraySetter.bind(null, 'uniformMatrix2fv', toFloatArray, 4, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35675, getArraySetter.bind(null, 'uniformMatrix3fv', toFloatArray, 9, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35676, getArraySetter.bind(null, 'uniformMatrix4fv', toFloatArray, 16, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35678, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35680, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 5125, getArraySetter.bind(null, 'uniform1uiv', toUIntArray, 1, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36294, getArraySetter.bind(null, 'uniform2uiv', toUIntArray, 2, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36295, getArraySetter.bind(null, 'uniform3uiv', toUIntArray, 3, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 36296, getArraySetter.bind(null, 'uniform4uiv', toUIntArray, 4, setVectorUniform)), _defineProperty(_UNIFORM_SETTERS, 35685, getArraySetter.bind(null, 'uniformMatrix2x3fv', toFloatArray, 6, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35686, getArraySetter.bind(null, 'uniformMatrix2x4fv', toFloatArray, 8, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35687, getArraySetter.bind(null, 'uniformMatrix3x2fv', toFloatArray, 6, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35688, getArraySetter.bind(null, 'uniformMatrix3x4fv', toFloatArray, 12, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35689, getArraySetter.bind(null, 'uniformMatrix4x2fv', toFloatArray, 8, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35690, getArraySetter.bind(null, 'uniformMatrix4x3fv', toFloatArray, 12, setMatrixUniform)), _defineProperty(_UNIFORM_SETTERS, 35679, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 35682, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36289, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36292, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36293, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36298, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36299, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36300, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36303, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36306, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36307, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36308, getSamplerSetter), _defineProperty(_UNIFORM_SETTERS, 36311, getSamplerSetter), _UNIFORM_SETTERS);\nvar FLOAT_ARRAY = {};\nvar INT_ARRAY = {};\nvar UINT_ARRAY = {};\nvar array1 = [0];\n\nfunction toTypedArray(value, uniformLength, Type, cache) {\n  if (uniformLength === 1 && typeof value === 'boolean') {\n    value = value ? 1 : 0;\n  }\n\n  if (Number.isFinite(value)) {\n    array1[0] = value;\n    value = array1;\n  }\n\n  var length = value.length;\n\n  if (length % uniformLength) {\n    log.warn(\"Uniform size should be multiples of \".concat(uniformLength), value)();\n  }\n\n  if (value instanceof Type) {\n    return value;\n  }\n\n  var result = cache[length];\n\n  if (!result) {\n    result = new Type(length);\n    cache[length] = result;\n  }\n\n  for (var i = 0; i < length; i++) {\n    result[i] = value[i];\n  }\n\n  return result;\n}\n\nfunction toFloatArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Float32Array, FLOAT_ARRAY);\n}\n\nfunction toIntArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Int32Array, INT_ARRAY);\n}\n\nfunction toUIntArray(value, uniformLength) {\n  return toTypedArray(value, uniformLength, Uint32Array, UINT_ARRAY);\n}\n\nexport function parseUniformName(name) {\n  if (name[name.length - 1] !== ']') {\n    return {\n      name: name,\n      length: 1,\n      isArray: false\n    };\n  }\n\n  var UNIFORM_NAME_REGEXP = /([^[]*)(\\[[0-9]+\\])?/;\n  var matches = name.match(UNIFORM_NAME_REGEXP);\n\n  if (!matches || matches.length < 2) {\n    throw new Error(\"Failed to parse GLSL uniform name \".concat(name));\n  }\n\n  return {\n    name: matches[1],\n    length: matches[2] || 1,\n    isArray: Boolean(matches[2])\n  };\n}\nexport function getUniformSetter(gl, location, info) {\n  var setter = UNIFORM_SETTERS[info.type];\n\n  if (!setter) {\n    throw new Error(\"Unknown GLSL uniform type \".concat(info.type));\n  }\n\n  return setter().bind(null, gl, location);\n}\nexport function checkUniformValues(uniforms, source, uniformMap) {\n  for (var uniformName in uniforms) {\n    var value = uniforms[uniformName];\n    var shouldCheck = !uniformMap || Boolean(uniformMap[uniformName]);\n\n    if (shouldCheck && !checkUniformValue(value)) {\n      source = source ? \"\".concat(source, \" \") : '';\n      console.error(\"\".concat(source, \" Bad uniform \").concat(uniformName), value);\n      throw new Error(\"\".concat(source, \" Bad uniform \").concat(uniformName));\n    }\n  }\n\n  return true;\n}\n\nfunction checkUniformValue(value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    return checkUniformArray(value);\n  }\n\n  if (isFinite(value)) {\n    return true;\n  } else if (value === true || value === false) {\n    return true;\n  } else if (value instanceof Texture) {\n    return true;\n  } else if (value instanceof Renderbuffer) {\n    return true;\n  } else if (value instanceof Framebuffer) {\n    return Boolean(value.texture);\n  }\n\n  return false;\n}\n\nfunction checkUniformArray(value) {\n  if (value.length === 0) {\n    return false;\n  }\n\n  var checkLength = Math.min(value.length, 16);\n\n  for (var i = 0; i < checkLength; ++i) {\n    if (!Number.isFinite(value[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function copyUniform(uniforms, key, value) {\n  if (Array.isArray(value) || ArrayBuffer.isView(value)) {\n    if (uniforms[key]) {\n      var dest = uniforms[key];\n\n      for (var i = 0, len = value.length; i < len; ++i) {\n        dest[i] = value[i];\n      }\n    } else {\n      uniforms[key] = value.slice();\n    }\n  } else {\n    uniforms[key] = value;\n  }\n}\n\nfunction getSamplerSetter() {\n  var cache = null;\n  return function (gl, location, value) {\n    var update = cache !== value;\n\n    if (update) {\n      gl.uniform1i(location, value);\n      cache = value;\n    }\n\n    return update;\n  };\n}\n\nfunction getArraySetter(functionName, toArray, size, uniformSetter) {\n  var cache = null;\n  var cacheLength = null;\n  return function (gl, location, value) {\n    var arrayValue = toArray(value, size);\n    var length = arrayValue.length;\n    var update = false;\n\n    if (cache === null) {\n      cache = new Float32Array(length);\n      cacheLength = length;\n      update = true;\n    } else {\n      assert(cacheLength === length, 'Uniform length cannot change.');\n\n      for (var i = 0; i < length; ++i) {\n        if (arrayValue[i] !== cache[i]) {\n          update = true;\n          break;\n        }\n      }\n    }\n\n    if (update) {\n      uniformSetter(gl, functionName, location, arrayValue);\n      cache.set(arrayValue);\n    }\n\n    return update;\n  };\n}\n\nfunction setVectorUniform(gl, functionName, location, value) {\n  gl[functionName](location, value);\n}\n\nfunction setMatrixUniform(gl, functionName, location, value) {\n  gl[functionName](location, false, value);\n}","import { getContextInfo, hasFeatures, canCompileGLGSExtension, FEATURES } from '../utils/webgl-info';\nexport function getPlatformShaderDefines(gl) {\n  var debugInfo = getContextInfo(gl);\n\n  switch (debugInfo.gpuVendor.toLowerCase()) {\n    case 'nvidia':\n      return \"#define NVIDIA_GPU\\n// Nvidia optimizes away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n\";\n\n    case 'intel':\n      return \"#define INTEL_GPU\\n// Intel optimizes away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n// Intel's built-in 'tan' function doesn't have acceptable precision\\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\\n\";\n\n    case 'amd':\n      return \"#define AMD_GPU\\n\";\n\n    default:\n      return \"#define DEFAULT_GPU\\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\\n// Intel's built-in 'tan' function doesn't have acceptable precision\\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\\n\";\n  }\n}\nexport function getVersionDefines(gl, glslVersion, isFragment) {\n  var versionDefines = \"#if (__VERSION__ > 120)\\n\\n# define FRAG_DEPTH\\n# define DERIVATIVES\\n# define DRAW_BUFFERS\\n# define TEXTURE_LOD\\n\\n#endif // __VERSION\\n\";\n\n  if (hasFeatures(gl, FEATURES.GLSL_FRAG_DEPTH)) {\n    versionDefines += \"// FRAG_DEPTH => gl_FragDepth is available\\n#ifdef GL_EXT_frag_depth\\n#extension GL_EXT_frag_depth : enable\\n# define FRAG_DEPTH\\n# define gl_FragDepth gl_FragDepthEXT\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_DERIVATIVES) && canCompileGLGSExtension(gl, FEATURES.GLSL_DERIVATIVES)) {\n    versionDefines += \"// DERIVATIVES => dxdF, dxdY and fwidth are available\\n#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n# define DERIVATIVES\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_FRAG_DATA) && canCompileGLGSExtension(gl, FEATURES.GLSL_FRAG_DATA, {\n    behavior: 'require'\n  })) {\n    versionDefines += \"// DRAW_BUFFERS => gl_FragData[] is available\\n#ifdef GL_EXT_draw_buffers\\n#extension GL_EXT_draw_buffers : require\\n#define DRAW_BUFFERS\\n#endif\\n\";\n  }\n\n  if (hasFeatures(gl, FEATURES.GLSL_TEXTURE_LOD)) {\n    versionDefines += \"// TEXTURE_LOD => texture2DLod etc are available\\n#ifdef GL_EXT_shader_texture_lod\\n#extension GL_EXT_shader_texture_lod : enable\\n# define TEXTURE_LOD\\n#define texture2DLod texture2DLodEXT\\n#define texture2DProjLod texture2DProjLodEXT\\n#define texture2DProjLod texture2DProjLodEXT\\n#define textureCubeLod textureCubeLodEXT\\n#define texture2DGrad texture2DGradEXT\\n#define texture2DProjGrad texture2DProjGradEXT\\n#define texture2DProjGrad texture2DProjGradEXT\\n#define textureCubeGrad textureCubeGradEXT\\n#endif\\n\";\n  }\n\n  return versionDefines;\n}","import \"core-js/modules/es6.regexp.match\";\nexport default function getShaderName(shader) {\n  var defaultName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'unnamed';\n  var SHADER_NAME_REGEXP = /#define[\\s*]SHADER_NAME[\\s*]([A-Za-z0-9_-]+)[\\s*]/;\n  var match = shader.match(SHADER_NAME_REGEXP);\n  return match ? match[1] : defaultName;\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.split\";\nimport getShaderName from './get-shader-name';\nimport getShaderTypeName from './get-shader-type-name';\nexport default function formatGLSLCompilerError(errLog, src, shaderType) {\n  var _parseGLSLCompilerErr = parseGLSLCompilerError(errLog, src, shaderType),\n      shaderName = _parseGLSLCompilerErr.shaderName,\n      errors = _parseGLSLCompilerErr.errors,\n      warnings = _parseGLSLCompilerErr.warnings;\n\n  return \"GLSL compilation error in \".concat(shaderName, \"\\n\\n\").concat(errors, \"\\n\").concat(warnings);\n}\nexport function parseGLSLCompilerError(errLog, src, shaderType, shaderName) {\n  var errorStrings = errLog.split(/\\r?\\n/);\n  var errors = {};\n  var warnings = {};\n  var name = shaderName || getShaderName(src) || '(unnamed)';\n  var shaderDescription = \"\".concat(getShaderTypeName(shaderType), \" shader \").concat(name);\n\n  for (var i = 0; i < errorStrings.length; i++) {\n    var errorString = errorStrings[i];\n\n    if (errorString.length <= 1) {\n      continue;\n    }\n\n    var segments = errorString.split(':');\n    var type = segments[0];\n    var line = parseInt(segments[2], 10);\n\n    if (isNaN(line)) {\n      throw new Error(\"GLSL compilation error in \".concat(shaderDescription, \": \").concat(errLog));\n    }\n\n    if (type !== 'WARNING') {\n      errors[line] = errorString;\n    } else {\n      warnings[line] = errorString;\n    }\n  }\n\n  var lines = addLineNumbers(src);\n  return {\n    shaderName: shaderDescription,\n    errors: formatErrors(errors, lines),\n    warnings: formatErrors(warnings, lines)\n  };\n}\n\nfunction formatErrors(errors, lines) {\n  var message = '';\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n\n    if (!errors[i + 3] && !errors[i + 2] && !errors[i + 1]) {\n      continue;\n    }\n\n    message += \"\".concat(line, \"\\n\");\n\n    if (errors[i + 1]) {\n      var error = errors[i + 1];\n      var segments = error.split(':', 3);\n      var type = segments[0];\n      var column = parseInt(segments[1], 10) || 0;\n      var err = error.substring(segments.join(':').length + 1).trim();\n      message += padLeft(\"^^^ \".concat(type, \": \").concat(err, \"\\n\\n\"), column);\n    }\n  }\n\n  return message;\n}\n\nfunction addLineNumbers(string) {\n  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var delim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ': ';\n  var lines = string.split(/\\r?\\n/);\n  var maxDigits = String(lines.length + start - 1).length;\n  return lines.map(function (line, i) {\n    var lineNumber = i + start;\n    var digits = String(lineNumber).length;\n    var prefix = padLeft(lineNumber, maxDigits - digits);\n    return prefix + delim + line;\n  });\n}\n\nfunction padLeft(string, digits) {\n  var result = '';\n\n  for (var i = 0; i < digits; ++i) {\n    result += ' ';\n  }\n\n  return \"\".concat(result).concat(string);\n}","var GL_FRAGMENT_SHADER = 0x8b30;\nvar GL_VERTEX_SHADER = 0x8b31;\nexport default function getShaderTypeName(type) {\n  switch (type) {\n    case GL_FRAGMENT_SHADER:\n      return 'fragment';\n\n    case GL_VERTEX_SHADER:\n      return 'vertex';\n\n    default:\n      return 'unknown type';\n  }\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { log } from '@luma.gl/gltools';\nimport { parseGLSLCompilerError, getShaderName } from '../glsl-utils';\nimport { assertWebGLContext } from '../webgl-utils';\nimport { uid, assert } from '../utils';\nimport Resource from './resource';\nvar ERR_SOURCE = 'Shader: GLSL source code must be a JavaScript string';\nexport var Shader = function (_Resource) {\n  _inherits(Shader, _Resource);\n\n  _createClass(Shader, null, [{\n    key: \"getTypeName\",\n    value: function getTypeName(shaderType) {\n      switch (shaderType) {\n        case 35633:\n          return 'vertex-shader';\n\n        case 35632:\n          return 'fragment-shader';\n\n        default:\n          assert(false);\n          return 'unknown';\n      }\n    }\n  }]);\n\n  function Shader(gl, props) {\n    var _this;\n\n    _classCallCheck(this, Shader);\n\n    assertWebGLContext(gl);\n    assert(typeof props.source === 'string', ERR_SOURCE);\n    var id = getShaderName(props.source, null) || props.id || uid(\"unnamed \".concat(Shader.getTypeName(props.shaderType)));\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shader).call(this, gl, {\n      id: id\n    }));\n    _this.shaderType = props.shaderType;\n    _this.source = props.source;\n\n    _this.initialize(props);\n\n    return _this;\n  }\n\n  _createClass(Shader, [{\n    key: \"initialize\",\n    value: function initialize(_ref) {\n      var source = _ref.source;\n      var shaderName = getShaderName(source, null);\n\n      if (shaderName) {\n        this.id = uid(shaderName);\n      }\n\n      this._compile(source);\n    }\n  }, {\n    key: \"getParameter\",\n    value: function getParameter(pname) {\n      return this.gl.getShaderParameter(this.handle, pname);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(Shader.getTypeName(this.shaderType), \":\").concat(this.id);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return getShaderName(this.source) || 'unnamed-shader';\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource() {\n      return this.gl.getShaderSource(this.handle);\n    }\n  }, {\n    key: \"getTranslatedSource\",\n    value: function getTranslatedSource() {\n      var extension = this.gl.getExtension('WEBGL.debug_shaders');\n      return extension ? extension.getTranslatedShaderSource(this.handle) : 'No translated source available. WEBGL.debug_shaders not implemented';\n    }\n  }, {\n    key: \"_compile\",\n    value: function _compile() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.source;\n\n      if (!source.startsWith('#version ')) {\n        source = \"#version 100\\n\".concat(source);\n      }\n\n      this.source = source;\n      this.gl.shaderSource(this.handle, this.source);\n      this.gl.compileShader(this.handle);\n      var compileStatus = this.getParameter(35713);\n\n      if (!compileStatus) {\n        var infoLog = this.gl.getShaderInfoLog(this.handle);\n\n        var _parseGLSLCompilerErr = parseGLSLCompilerError(infoLog, this.source, this.shaderType, this.id),\n            shaderName = _parseGLSLCompilerErr.shaderName,\n            errors = _parseGLSLCompilerErr.errors,\n            warnings = _parseGLSLCompilerErr.warnings;\n\n        log.error(\"GLSL compilation errors in \".concat(shaderName, \"\\n\").concat(errors))();\n        log.warn(\"GLSL compilation warnings in \".concat(shaderName, \"\\n\").concat(warnings))();\n        throw new Error(\"GLSL compilation errors in \".concat(shaderName));\n      }\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteShader(this.handle);\n    }\n  }, {\n    key: \"_getOptsFromHandle\",\n    value: function _getOptsFromHandle() {\n      return {\n        type: this.getParameter(35663),\n        source: this.getSource()\n      };\n    }\n  }]);\n\n  return Shader;\n}(Resource);\nexport var VertexShader = function (_Shader) {\n  _inherits(VertexShader, _Shader);\n\n  function VertexShader(gl, props) {\n    _classCallCheck(this, VertexShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(VertexShader).call(this, gl, Object.assign({}, props, {\n      shaderType: 35633\n    })));\n  }\n\n  _createClass(VertexShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35633);\n    }\n  }]);\n\n  return VertexShader;\n}(Shader);\nexport var FragmentShader = function (_Shader2) {\n  _inherits(FragmentShader, _Shader2);\n\n  function FragmentShader(gl, props) {\n    _classCallCheck(this, FragmentShader);\n\n    if (typeof props === 'string') {\n      props = {\n        source: props\n      };\n    }\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FragmentShader).call(this, gl, Object.assign({}, props, {\n      shaderType: 35632\n    })));\n  }\n\n  _createClass(FragmentShader, [{\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createShader(35632);\n    }\n  }]);\n\n  return FragmentShader;\n}(Shader);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _COMPOSITE_GL_TYPES;\n\nimport { assert } from '../utils';\nvar GL_BYTE = 0x1400;\nvar GL_UNSIGNED_BYTE = 0x1401;\nvar GL_SHORT = 0x1402;\nvar GL_UNSIGNED_SHORT = 0x1403;\nvar GL_POINTS = 0x0;\nvar GL_LINES = 0x1;\nvar GL_LINE_LOOP = 0x2;\nvar GL_LINE_STRIP = 0x3;\nvar GL_TRIANGLES = 0x4;\nvar GL_TRIANGLE_STRIP = 0x5;\nvar GL_TRIANGLE_FAN = 0x6;\nvar GL_FLOAT = 0x1406;\nvar GL_FLOAT_VEC2 = 0x8b50;\nvar GL_FLOAT_VEC3 = 0x8b51;\nvar GL_FLOAT_VEC4 = 0x8b52;\nvar GL_INT = 0x1404;\nvar GL_INT_VEC2 = 0x8b53;\nvar GL_INT_VEC3 = 0x8b54;\nvar GL_INT_VEC4 = 0x8b55;\nvar GL_UNSIGNED_INT = 0x1405;\nvar GL_UNSIGNED_INT_VEC2 = 0x8dc6;\nvar GL_UNSIGNED_INT_VEC3 = 0x8dc7;\nvar GL_UNSIGNED_INT_VEC4 = 0x8dc8;\nvar GL_BOOL = 0x8b56;\nvar GL_BOOL_VEC2 = 0x8b57;\nvar GL_BOOL_VEC3 = 0x8b58;\nvar GL_BOOL_VEC4 = 0x8b59;\nvar GL_FLOAT_MAT2 = 0x8b5a;\nvar GL_FLOAT_MAT3 = 0x8b5b;\nvar GL_FLOAT_MAT4 = 0x8b5c;\nvar GL_FLOAT_MAT2x3 = 0x8b65;\nvar GL_FLOAT_MAT2x4 = 0x8b66;\nvar GL_FLOAT_MAT3x2 = 0x8b67;\nvar GL_FLOAT_MAT3x4 = 0x8b68;\nvar GL_FLOAT_MAT4x2 = 0x8b69;\nvar GL_FLOAT_MAT4x3 = 0x8b6a;\nvar COMPOSITE_GL_TYPES = (_COMPOSITE_GL_TYPES = {}, _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT, [GL_FLOAT, 1, 'float']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC2, [GL_FLOAT, 2, 'vec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC3, [GL_FLOAT, 3, 'vec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_VEC4, [GL_FLOAT, 4, 'vec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT, [GL_INT, 1, 'int']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC2, [GL_INT, 2, 'ivec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC3, [GL_INT, 3, 'ivec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_INT_VEC4, [GL_INT, 4, 'ivec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT, [GL_UNSIGNED_INT, 1, 'uint']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC2, [GL_UNSIGNED_INT, 2, 'uvec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC3, [GL_UNSIGNED_INT, 3, 'uvec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_UNSIGNED_INT_VEC4, [GL_UNSIGNED_INT, 4, 'uvec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL, [GL_FLOAT, 1, 'bool']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC2, [GL_FLOAT, 2, 'bvec2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC3, [GL_FLOAT, 3, 'bvec3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_BOOL_VEC4, [GL_FLOAT, 4, 'bvec4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2, [GL_FLOAT, 8, 'mat2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2x3, [GL_FLOAT, 8, 'mat2x3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT2x4, [GL_FLOAT, 8, 'mat2x4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3, [GL_FLOAT, 12, 'mat3']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3x2, [GL_FLOAT, 12, 'mat3x2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT3x4, [GL_FLOAT, 12, 'mat3x4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4, [GL_FLOAT, 16, 'mat4']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4x2, [GL_FLOAT, 16, 'mat4x2']), _defineProperty(_COMPOSITE_GL_TYPES, GL_FLOAT_MAT4x3, [GL_FLOAT, 16, 'mat4x3']), _COMPOSITE_GL_TYPES);\nexport function getPrimitiveDrawMode(drawMode) {\n  switch (drawMode) {\n    case GL_POINTS:\n      return GL_POINTS;\n\n    case GL_LINES:\n      return GL_LINES;\n\n    case GL_LINE_STRIP:\n      return GL_LINES;\n\n    case GL_LINE_LOOP:\n      return GL_LINES;\n\n    case GL_TRIANGLES:\n      return GL_TRIANGLES;\n\n    case GL_TRIANGLE_STRIP:\n      return GL_TRIANGLES;\n\n    case GL_TRIANGLE_FAN:\n      return GL_TRIANGLES;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function getPrimitiveCount(_ref) {\n  var drawMode = _ref.drawMode,\n      vertexCount = _ref.vertexCount;\n\n  switch (drawMode) {\n    case GL_POINTS:\n    case GL_LINE_LOOP:\n      return vertexCount;\n\n    case GL_LINES:\n      return vertexCount / 2;\n\n    case GL_LINE_STRIP:\n      return vertexCount - 1;\n\n    case GL_TRIANGLES:\n      return vertexCount / 3;\n\n    case GL_TRIANGLE_STRIP:\n    case GL_TRIANGLE_FAN:\n      return vertexCount - 2;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function getVertexCount(_ref2) {\n  var drawMode = _ref2.drawMode,\n      vertexCount = _ref2.vertexCount;\n  var primitiveCount = getPrimitiveCount({\n    drawMode: drawMode,\n    vertexCount: vertexCount\n  });\n\n  switch (getPrimitiveDrawMode(drawMode)) {\n    case GL_POINTS:\n      return primitiveCount;\n\n    case GL_LINES:\n      return primitiveCount * 2;\n\n    case GL_TRIANGLES:\n      return primitiveCount * 3;\n\n    default:\n      assert(false);\n      return 0;\n  }\n}\nexport function decomposeCompositeGLType(compositeGLType) {\n  var typeAndSize = COMPOSITE_GL_TYPES[compositeGLType];\n\n  if (!typeAndSize) {\n    return null;\n  }\n\n  var _typeAndSize = _slicedToArray(typeAndSize, 2),\n      type = _typeAndSize[0],\n      components = _typeAndSize[1];\n\n  return {\n    type: type,\n    components: components\n  };\n}\nexport function getCompositeGLType(type, components) {\n  switch (type) {\n    case GL_BYTE:\n    case GL_UNSIGNED_BYTE:\n    case GL_SHORT:\n    case GL_UNSIGNED_SHORT:\n      type = GL_FLOAT;\n      break;\n\n    default:\n  }\n\n  for (var glType in COMPOSITE_GL_TYPES) {\n    var _COMPOSITE_GL_TYPES$g = _slicedToArray(COMPOSITE_GL_TYPES[glType], 3),\n        compType = _COMPOSITE_GL_TYPES$g[0],\n        compComponents = _COMPOSITE_GL_TYPES$g[1],\n        name = _COMPOSITE_GL_TYPES$g[2];\n\n    if (compType === type && compComponents === components) {\n      return {\n        glType: glType,\n        name: name\n      };\n    }\n  }\n\n  return null;\n}","import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Accessor from './accessor';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { decomposeCompositeGLType } from '../webgl-utils/attribute-utils';\n\nvar ProgramConfiguration = function () {\n  function ProgramConfiguration(program) {\n    _classCallCheck(this, ProgramConfiguration);\n\n    this.id = program.id;\n    this.attributeInfos = [];\n    this.attributeInfosByName = {};\n    this.attributeInfosByLocation = [];\n    this.varyingInfos = [];\n    this.varyingInfosByName = {};\n    Object.seal(this);\n\n    this._readAttributesFromProgram(program);\n\n    this._readVaryingsFromProgram(program);\n  }\n\n  _createClass(ProgramConfiguration, [{\n    key: \"getAttributeInfo\",\n    value: function getAttributeInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.attributeInfosByLocation[location];\n      }\n\n      return this.attributeInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getAttributeLocation\",\n    value: function getAttributeLocation(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.location : -1;\n    }\n  }, {\n    key: \"getAttributeAccessor\",\n    value: function getAttributeAccessor(locationOrName) {\n      var attributeInfo = this.getAttributeInfo(locationOrName);\n      return attributeInfo ? attributeInfo.accessor : null;\n    }\n  }, {\n    key: \"getVaryingInfo\",\n    value: function getVaryingInfo(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return this.varyingInfos[location];\n      }\n\n      return this.varyingInfosByName[locationOrName] || null;\n    }\n  }, {\n    key: \"getVaryingIndex\",\n    value: function getVaryingIndex(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.location : -1;\n    }\n  }, {\n    key: \"getVaryingAccessor\",\n    value: function getVaryingAccessor(locationOrName) {\n      var varying = this.getVaryingInfo();\n      return varying ? varying.accessor : null;\n    }\n  }, {\n    key: \"_readAttributesFromProgram\",\n    value: function _readAttributesFromProgram(program) {\n      var gl = program.gl;\n      var count = gl.getProgramParameter(program.handle, 35721);\n\n      for (var index = 0; index < count; index++) {\n        var _gl$getActiveAttrib = gl.getActiveAttrib(program.handle, index),\n            name = _gl$getActiveAttrib.name,\n            type = _gl$getActiveAttrib.type,\n            size = _gl$getActiveAttrib.size;\n\n        var location = gl.getAttribLocation(program.handle, name);\n\n        if (location >= 0) {\n          this._addAttribute(location, name, type, size);\n        }\n      }\n\n      this.attributeInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_readVaryingsFromProgram\",\n    value: function _readVaryingsFromProgram(program) {\n      var gl = program.gl;\n\n      if (!isWebGL2(gl)) {\n        return;\n      }\n\n      var count = gl.getProgramParameter(program.handle, 35971);\n\n      for (var location = 0; location < count; location++) {\n        var _gl$getTransformFeedb = gl.getTransformFeedbackVarying(program.handle, location),\n            name = _gl$getTransformFeedb.name,\n            type = _gl$getTransformFeedb.type,\n            size = _gl$getTransformFeedb.size;\n\n        this._addVarying(location, name, type, size);\n      }\n\n      this.varyingInfos.sort(function (a, b) {\n        return a.location - b.location;\n      });\n    }\n  }, {\n    key: \"_addAttribute\",\n    value: function _addAttribute(location, name, compositeType, size) {\n      var _decomposeCompositeGL = decomposeCompositeGLType(compositeType),\n          type = _decomposeCompositeGL.type,\n          components = _decomposeCompositeGL.components;\n\n      var accessor = {\n        type: type,\n        size: size * components\n      };\n\n      this._inferProperties(location, name, accessor);\n\n      var attributeInfo = {\n        location: location,\n        name: name,\n        accessor: new Accessor(accessor)\n      };\n      this.attributeInfos.push(attributeInfo);\n      this.attributeInfosByLocation[location] = attributeInfo;\n      this.attributeInfosByName[attributeInfo.name] = attributeInfo;\n    }\n  }, {\n    key: \"_inferProperties\",\n    value: function _inferProperties(location, name, accessor) {\n      if (/instance/i.test(name)) {\n        accessor.divisor = 1;\n      }\n    }\n  }, {\n    key: \"_addVarying\",\n    value: function _addVarying(location, name, compositeType, size) {\n      var _decomposeCompositeGL2 = decomposeCompositeGLType(compositeType),\n          type = _decomposeCompositeGL2.type,\n          components = _decomposeCompositeGL2.components;\n\n      var accessor = new Accessor({\n        type: type,\n        size: size * components\n      });\n      var varying = {\n        location: location,\n        name: name,\n        accessor: accessor\n      };\n      this.varyingInfos.push(varying);\n      this.varyingInfosByName[varying.name] = varying;\n    }\n  }]);\n\n  return ProgramConfiguration;\n}();\n\nexport { ProgramConfiguration as default };","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport Texture from './texture';\nimport Framebuffer from './framebuffer';\nimport { parseUniformName, getUniformSetter } from './uniforms';\nimport { VertexShader, FragmentShader } from './shader';\nimport ProgramConfiguration from './program-configuration';\nimport { copyUniform, checkUniformValues } from './uniforms';\nimport { isWebGL2, withParameters, log } from '@luma.gl/gltools';\nimport { assertWebGL2Context, getKey } from '../webgl-utils';\nimport { getPrimitiveDrawMode } from '../webgl-utils/attribute-utils';\nimport { uid, assert } from '../utils';\nvar LOG_PROGRAM_PERF_PRIORITY = 4;\nvar GL_SEPARATE_ATTRIBS = 0x8c8d;\nvar V6_DEPRECATED_METHODS = ['setVertexArray', 'setAttributes', 'setBuffers', 'unsetBuffers', 'use', 'getUniformCount', 'getUniformInfo', 'getUniformLocation', 'getUniformValue', 'getVarying', 'getFragDataLocation', 'getAttachedShaders', 'getAttributeCount', 'getAttributeLocation', 'getAttributeInfo'];\n\nvar Program = function (_Resource) {\n  _inherits(Program, _Resource);\n\n  function Program(gl) {\n    var _this;\n\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Program);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Program).call(this, gl, props));\n\n    _this.stubRemovedMethods('Program', 'v6.0', V6_DEPRECATED_METHODS);\n\n    _this._isCached = false;\n\n    _this.initialize(props);\n\n    Object.seal(_assertThisInitialized(_this));\n\n    _this._setId(props.id);\n\n    return _this;\n  }\n\n  _createClass(Program, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var hash = props.hash,\n          vs = props.vs,\n          fs = props.fs,\n          varyings = props.varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? GL_SEPARATE_ATTRIBS : _props$bufferMode;\n      this.hash = hash || '';\n      this.vs = typeof vs === 'string' ? new VertexShader(this.gl, {\n        id: \"\".concat(props.id, \"-vs\"),\n        source: vs\n      }) : vs;\n      this.fs = typeof fs === 'string' ? new FragmentShader(this.gl, {\n        id: \"\".concat(props.id, \"-fs\"),\n        source: fs\n      }) : fs;\n      assert(this.vs instanceof VertexShader);\n      assert(this.fs instanceof FragmentShader);\n      this.uniforms = {};\n      this._textureUniforms = {};\n      this._texturesRenderable = true;\n\n      if (varyings && varyings.length > 0) {\n        assertWebGL2Context(this.gl);\n        this.varyings = varyings;\n        this.gl.transformFeedbackVaryings(this.handle, varyings, bufferMode);\n      }\n\n      this._compileAndLink();\n\n      this._readUniformLocationsFromLinkedProgram();\n\n      this.configuration = new ProgramConfiguration(this);\n      return this.setProps(props);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._isCached) {\n        return this;\n      }\n\n      return _get(_getPrototypeOf(Program.prototype), \"delete\", this).call(this, options);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('uniforms' in props) {\n        this.setUniforms(props.uniforms);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref) {\n      var _this2 = this;\n\n      var logPriority = _ref.logPriority,\n          _ref$drawMode = _ref.drawMode,\n          drawMode = _ref$drawMode === void 0 ? 4 : _ref$drawMode,\n          vertexCount = _ref.vertexCount,\n          _ref$offset = _ref.offset,\n          offset = _ref$offset === void 0 ? 0 : _ref$offset,\n          start = _ref.start,\n          end = _ref.end,\n          _ref$isIndexed = _ref.isIndexed,\n          isIndexed = _ref$isIndexed === void 0 ? false : _ref$isIndexed,\n          _ref$indexType = _ref.indexType,\n          indexType = _ref$indexType === void 0 ? 5123 : _ref$indexType,\n          _ref$instanceCount = _ref.instanceCount,\n          instanceCount = _ref$instanceCount === void 0 ? 0 : _ref$instanceCount,\n          _ref$isInstanced = _ref.isInstanced,\n          isInstanced = _ref$isInstanced === void 0 ? instanceCount > 0 : _ref$isInstanced,\n          _ref$vertexArray = _ref.vertexArray,\n          vertexArray = _ref$vertexArray === void 0 ? null : _ref$vertexArray,\n          transformFeedback = _ref.transformFeedback,\n          framebuffer = _ref.framebuffer,\n          _ref$parameters = _ref.parameters,\n          parameters = _ref$parameters === void 0 ? {} : _ref$parameters,\n          uniforms = _ref.uniforms,\n          samplers = _ref.samplers;\n\n      if (uniforms || samplers) {\n        log.deprecated('Program.draw({uniforms})', 'Program.setUniforms(uniforms)')();\n        this.setUniforms(uniforms || {});\n      }\n\n      if (log.priority >= logPriority) {\n        var fb = framebuffer ? framebuffer.id : 'default';\n        var message = \"mode=\".concat(getKey(this.gl, drawMode), \" verts=\").concat(vertexCount, \" \") + \"instances=\".concat(instanceCount, \" indexType=\").concat(getKey(this.gl, indexType), \" \") + \"isInstanced=\".concat(isInstanced, \" isIndexed=\").concat(isIndexed, \" \") + \"Framebuffer=\".concat(fb);\n        log.log(logPriority, message)();\n      }\n\n      assert(vertexArray);\n      this.gl.useProgram(this.handle);\n\n      if (!this._areTexturesRenderable() || vertexCount === 0 || isInstanced && instanceCount === 0) {\n        return false;\n      }\n\n      vertexArray.bindForDraw(vertexCount, instanceCount, function () {\n        if (framebuffer !== undefined) {\n          parameters = Object.assign({}, parameters, {\n            framebuffer: framebuffer\n          });\n        }\n\n        if (transformFeedback) {\n          var primitiveMode = getPrimitiveDrawMode(drawMode);\n          transformFeedback.begin(primitiveMode);\n        }\n\n        _this2._bindTextures();\n\n        withParameters(_this2.gl, parameters, function () {\n          if (isIndexed && isInstanced) {\n            _this2.gl.drawElementsInstanced(drawMode, vertexCount, indexType, offset, instanceCount);\n          } else if (isIndexed && isWebGL2(_this2.gl) && !isNaN(start) && !isNaN(end)) {\n            _this2.gl.drawRangeElements(drawMode, start, end, vertexCount, indexType, offset);\n          } else if (isIndexed) {\n            _this2.gl.drawElements(drawMode, vertexCount, indexType, offset);\n          } else if (isInstanced) {\n            _this2.gl.drawArraysInstanced(drawMode, offset, vertexCount, instanceCount);\n          } else {\n            _this2.gl.drawArrays(drawMode, offset, vertexCount);\n          }\n        });\n\n        if (transformFeedback) {\n          transformFeedback.end();\n        }\n      });\n      return true;\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (log.priority >= 2) {\n        checkUniformValues(uniforms, this.id, this._uniformSetters);\n      }\n\n      this.gl.useProgram(this.handle);\n\n      for (var uniformName in uniforms) {\n        var uniform = uniforms[uniformName];\n        var uniformSetter = this._uniformSetters[uniformName];\n\n        if (uniformSetter) {\n          var value = uniform;\n          var textureUpdate = false;\n\n          if (value instanceof Framebuffer) {\n            value = value.texture;\n          }\n\n          if (value instanceof Texture) {\n            textureUpdate = this.uniforms[uniformName] !== uniform;\n\n            if (textureUpdate) {\n              if (uniformSetter.textureIndex === undefined) {\n                uniformSetter.textureIndex = this._textureIndexCounter++;\n              }\n\n              var texture = value;\n              var textureIndex = uniformSetter.textureIndex;\n              texture.bind(textureIndex);\n              value = textureIndex;\n\n              if (!texture.loaded) {\n                this._texturesRenderable = false;\n              }\n\n              this._textureUniforms[uniformName] = texture;\n            } else {\n              value = uniformSetter.textureIndex;\n            }\n          } else if (this._textureUniforms[uniformName]) {\n            delete this._textureUniforms[uniformName];\n          }\n\n          if (uniformSetter(value) || textureUpdate) {\n            copyUniform(this.uniforms, uniformName, uniform);\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_areTexturesRenderable\",\n    value: function _areTexturesRenderable() {\n      if (this._texturesRenderable) {\n        return true;\n      }\n\n      this._texturesRenderable = true;\n\n      for (var uniformName in this._textureUniforms) {\n        var texture = this._textureUniforms[uniformName];\n        this._texturesRenderable = this._texturesRenderable && texture.loaded;\n      }\n\n      return this._texturesRenderable;\n    }\n  }, {\n    key: \"_bindTextures\",\n    value: function _bindTextures() {\n      for (var uniformName in this._textureUniforms) {\n        var textureIndex = this._uniformSetters[uniformName].textureIndex;\n\n        this._textureUniforms[uniformName].bind(textureIndex);\n      }\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createProgram();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteProgram(this.handle);\n    }\n  }, {\n    key: \"_getOptionsFromHandle\",\n    value: function _getOptionsFromHandle(handle) {\n      var shaderHandles = this.gl.getAttachedShaders(handle);\n      var opts = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = shaderHandles[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var shaderHandle = _step.value;\n          var type = this.gl.getShaderParameter(this.handle, 35663);\n\n          switch (type) {\n            case 35633:\n              opts.vs = new VertexShader({\n                handle: shaderHandle\n              });\n              break;\n\n            case 35632:\n              opts.fs = new FragmentShader({\n                handle: shaderHandle\n              });\n              break;\n\n            default:\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return opts;\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname) {\n      return this.gl.getProgramParameter(this.handle, pname);\n    }\n  }, {\n    key: \"_setId\",\n    value: function _setId(id) {\n      if (!id) {\n        var programName = this._getName();\n\n        this.id = uid(programName);\n      }\n    }\n  }, {\n    key: \"_getName\",\n    value: function _getName() {\n      var programName = this.vs.getName() || this.fs.getName();\n      programName = programName.replace(/shader/i, '');\n      programName = programName ? \"\".concat(programName, \"-program\") : 'program';\n      return programName;\n    }\n  }, {\n    key: \"_compileAndLink\",\n    value: function _compileAndLink() {\n      var gl = this.gl;\n      gl.attachShader(this.handle, this.vs.handle);\n      gl.attachShader(this.handle, this.fs.handle);\n      log.time(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n      gl.linkProgram(this.handle);\n      log.timeEnd(LOG_PROGRAM_PERF_PRIORITY, \"linkProgram for \".concat(this._getName()))();\n\n      if (gl.debug || log.level > 0) {\n        gl.validateProgram(this.handle);\n        var linked = gl.getProgramParameter(this.handle, 35714);\n\n        if (!linked) {\n          throw new Error(\"Error linking: \".concat(gl.getProgramInfoLog(this.handle)));\n        }\n      }\n    }\n  }, {\n    key: \"_readUniformLocationsFromLinkedProgram\",\n    value: function _readUniformLocationsFromLinkedProgram() {\n      var gl = this.gl;\n      this._uniformSetters = {};\n      this._uniformCount = this._getParameter(35718);\n\n      for (var i = 0; i < this._uniformCount; i++) {\n        var info = this.gl.getActiveUniform(this.handle, i);\n\n        var _parseUniformName = parseUniformName(info.name),\n            name = _parseUniformName.name,\n            isArray = _parseUniformName.isArray;\n\n        var location = gl.getUniformLocation(this.handle, name);\n        this._uniformSetters[name] = getUniformSetter(gl, location, info, isArray);\n\n        if (info.size > 1) {\n          for (var l = 0; l < info.size; l++) {\n            location = gl.getUniformLocation(this.handle, \"\".concat(name, \"[\").concat(l, \"]\"));\n            this._uniformSetters[\"\".concat(name, \"[\").concat(l, \"]\")] = getUniformSetter(gl, location, info, isArray);\n          }\n        }\n      }\n\n      this._textureIndexCounter = 0;\n    }\n  }, {\n    key: \"getActiveUniforms\",\n    value: function getActiveUniforms(uniformIndices, pname) {\n      return this.gl.getActiveUniforms(this.handle, uniformIndices, pname);\n    }\n  }, {\n    key: \"getUniformBlockIndex\",\n    value: function getUniformBlockIndex(blockName) {\n      return this.gl.getUniformBlockIndex(this.handle, blockName);\n    }\n  }, {\n    key: \"getActiveUniformBlockParameter\",\n    value: function getActiveUniformBlockParameter(blockIndex, pname) {\n      return this.gl.getActiveUniformBlockParameter(this.handle, blockIndex, pname);\n    }\n  }, {\n    key: \"uniformBlockBinding\",\n    value: function uniformBlockBinding(blockIndex, blockBinding) {\n      this.gl.uniformBlockBinding(this.handle, blockIndex, blockBinding);\n    }\n  }]);\n\n  return Program;\n}(Resource);\n\nexport { Program as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { assembleShaders } from '@luma.gl/shadertools';\nimport { Program } from '@luma.gl/webgl';\n\nvar ProgramManager = function () {\n  _createClass(ProgramManager, null, [{\n    key: \"getDefaultProgramManager\",\n    value: function getDefaultProgramManager(gl) {\n      gl.luma = gl.luma || {};\n      gl.luma.defaultProgramManager = gl.luma.defaultProgramManager || new ProgramManager(gl);\n      return gl.luma.defaultProgramManager;\n    }\n  }]);\n\n  function ProgramManager(gl) {\n    _classCallCheck(this, ProgramManager);\n\n    this.gl = gl;\n    this._programCache = {};\n    this._getUniforms = {};\n    this._registeredModules = {};\n    this._hookFunctions = [];\n    this._defaultModules = [];\n    this._hashes = {};\n    this._hashCounter = 0;\n    this.stateHash = 0;\n    this._useCounts = {};\n  }\n\n  _createClass(ProgramManager, [{\n    key: \"addDefaultModule\",\n    value: function addDefaultModule(module) {\n      if (!this._defaultModules.find(function (m) {\n        return m.name === module.name;\n      })) {\n        this._defaultModules.push(module);\n      }\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"removeDefaultModule\",\n    value: function removeDefaultModule(module) {\n      var moduleName = typeof module === 'string' ? module : module.name;\n      this._defaultModules = this._defaultModules.filter(function (m) {\n        return m.name !== moduleName;\n      });\n      this.stateHash++;\n    }\n  }, {\n    key: \"addShaderHook\",\n    value: function addShaderHook(hook, opts) {\n      if (opts) {\n        hook = Object.assign(opts, {\n          hook: hook\n        });\n      }\n\n      this._hookFunctions.push(hook);\n\n      this.stateHash++;\n    }\n  }, {\n    key: \"get\",\n    value: function get() {\n      var _this = this;\n\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _props$vs = props.vs,\n          vs = _props$vs === void 0 ? '' : _props$vs,\n          _props$fs = props.fs,\n          fs = _props$fs === void 0 ? '' : _props$fs,\n          _props$defines = props.defines,\n          defines = _props$defines === void 0 ? {} : _props$defines,\n          _props$inject = props.inject,\n          inject = _props$inject === void 0 ? {} : _props$inject,\n          _props$varyings = props.varyings,\n          varyings = _props$varyings === void 0 ? [] : _props$varyings,\n          _props$bufferMode = props.bufferMode,\n          bufferMode = _props$bufferMode === void 0 ? 0x8c8d : _props$bufferMode,\n          _props$transpileToGLS = props.transpileToGLSL100,\n          transpileToGLSL100 = _props$transpileToGLS === void 0 ? false : _props$transpileToGLS;\n\n      var modules = this._getModuleList(props.modules);\n\n      var vsHash = this._getHash(vs);\n\n      var fsHash = this._getHash(fs);\n\n      var moduleHashes = modules.map(function (m) {\n        return _this._getHash(m.name);\n      }).sort();\n      var varyingHashes = varyings.map(function (v) {\n        return _this._getHash(v);\n      });\n      var defineKeys = Object.keys(defines).sort();\n      var injectKeys = Object.keys(inject).sort();\n      var defineHashes = [];\n      var injectHashes = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = defineKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n          defineHashes.push(this._getHash(key));\n          defineHashes.push(this._getHash(defines[key]));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = injectKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _key = _step2.value;\n          injectHashes.push(this._getHash(_key));\n          injectHashes.push(this._getHash(inject[_key]));\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var hash = \"\".concat(vsHash, \"/\").concat(fsHash, \"D\").concat(defineHashes.join('/'), \"M\").concat(moduleHashes.join('/'), \"I\").concat(injectHashes.join('/'), \"V\").concat(varyingHashes.join('/'), \"H\").concat(this.stateHash, \"B\").concat(bufferMode).concat(transpileToGLSL100 ? 'T' : '');\n\n      if (!this._programCache[hash]) {\n        var assembled = assembleShaders(this.gl, {\n          vs: vs,\n          fs: fs,\n          modules: modules,\n          inject: inject,\n          defines: defines,\n          hookFunctions: this._hookFunctions,\n          transpileToGLSL100: transpileToGLSL100\n        });\n        this._programCache[hash] = new Program(this.gl, {\n          hash: hash,\n          vs: assembled.vs,\n          fs: assembled.fs,\n          varyings: varyings,\n          bufferMode: bufferMode\n        });\n\n        this._getUniforms[hash] = assembled.getUniforms || function (x) {};\n\n        this._useCounts[hash] = 0;\n      }\n\n      this._useCounts[hash]++;\n      return this._programCache[hash];\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms(program) {\n      return this._getUniforms[program.hash] || null;\n    }\n  }, {\n    key: \"release\",\n    value: function release(program) {\n      var hash = program.hash;\n      this._useCounts[hash]--;\n\n      if (this._useCounts[hash] === 0) {\n        this._programCache[hash][\"delete\"]();\n\n        delete this._programCache[hash];\n        delete this._getUniforms[hash];\n        delete this._useCounts[hash];\n      }\n    }\n  }, {\n    key: \"_getHash\",\n    value: function _getHash(key) {\n      if (this._hashes[key] === undefined) {\n        this._hashes[key] = this._hashCounter++;\n      }\n\n      return this._hashes[key];\n    }\n  }, {\n    key: \"_getModuleList\",\n    value: function _getModuleList() {\n      var appModules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var modules = new Array(this._defaultModules.length + appModules.length);\n      var seen = {};\n      var count = 0;\n\n      for (var i = 0, len = this._defaultModules.length; i < len; ++i) {\n        var module = this._defaultModules[i];\n        var name = module.name;\n        modules[count++] = module;\n        seen[name] = true;\n      }\n\n      for (var _i = 0, _len = appModules.length; _i < _len; ++_i) {\n        var _module = appModules[_i];\n        var _name = _module.name;\n\n        if (!seen[_name]) {\n          modules[count++] = _module;\n          seen[_name] = true;\n        }\n      }\n\n      modules.length = count;\n      return modules;\n    }\n  }]);\n\n  return ProgramManager;\n}();\n\nexport { ProgramManager as default };","import \"core-js/modules/es6.array.copy-within\";\nvar arrayBuffer = null;\nexport function getScratchArrayBuffer(byteLength) {\n  if (!arrayBuffer || arrayBuffer.byteLength < byteLength) {\n    arrayBuffer = new ArrayBuffer(byteLength);\n  }\n\n  return arrayBuffer;\n}\nexport function getScratchArray(Type, length) {\n  var scratchArrayBuffer = getScratchArrayBuffer(Type.BYTES_PER_ELEMENT * length);\n  return new Type(scratchArrayBuffer, 0, length);\n}\nexport function fillArray(_ref) {\n  var target = _ref.target,\n      source = _ref.source,\n      _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 1 : _ref$count;\n  var length = source.length;\n  var total = count * length;\n  var copied = 0;\n\n  for (var i = start; copied < length; copied++) {\n    target[i++] = source[copied];\n  }\n\n  while (copied < total) {\n    if (copied < total - copied) {\n      target.copyWithin(start + copied, start, start + copied);\n      copied *= 2;\n    } else {\n      target.copyWithin(start + copied, start, start + total - copied);\n      copied = total;\n    }\n  }\n\n  return target;\n}","import \"core-js/modules/es6.array.index-of\";\nimport { window } from './globals';\nimport isBrowser from './is-browser';\nimport isElectron from './is-electron';\nexport function isMobile() {\n  return typeof window.orientation !== 'undefined';\n}\nexport default function getBrowser(mockUserAgent) {\n  if (!mockUserAgent && !isBrowser()) {\n    return 'Node';\n  }\n\n  if (isElectron(mockUserAgent)) {\n    return 'Electron';\n  }\n\n  var navigator_ = typeof navigator !== 'undefined' ? navigator : {};\n  var userAgent = mockUserAgent || navigator_.userAgent || '';\n\n  if (userAgent.indexOf('Edge') > -1) {\n    return 'Edge';\n  }\n\n  var isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  var isTrident = userAgent.indexOf('Trident/') !== -1;\n\n  if (isMSIE || isTrident) {\n    return 'IE';\n  }\n\n  if (window.chrome) {\n    return 'Chrome';\n  }\n\n  if (window.safari) {\n    return 'Safari';\n  }\n\n  if (window.mozInnerScreenX) {\n    return 'Firefox';\n  }\n\n  return 'Unknown';\n}","import \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport Buffer from './buffer';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { getScratchArray, fillArray } from '../utils/array-utils-flat';\nimport { assert } from '../utils';\nimport { getBrowser } from 'probe.gl';\nvar ERR_ELEMENTS = 'elements must be GL.ELEMENT_ARRAY_BUFFER';\n\nvar VertexArrayObject = function (_Resource) {\n  _inherits(VertexArrayObject, _Resource);\n\n  _createClass(VertexArrayObject, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (options.constantAttributeZero) {\n        return isWebGL2(gl) || getBrowser() === 'Chrome';\n      }\n\n      return true;\n    }\n  }, {\n    key: \"getDefaultArray\",\n    value: function getDefaultArray(gl) {\n      gl.luma = gl.luma || {};\n\n      if (!gl.luma.defaultVertexArray) {\n        gl.luma.defaultVertexArray = new VertexArrayObject(gl, {\n          handle: null,\n          isDefaultArray: true\n        });\n      }\n\n      return gl.luma.defaultVertexArray;\n    }\n  }, {\n    key: \"getMaxAttributes\",\n    value: function getMaxAttributes(gl) {\n      VertexArrayObject.MAX_ATTRIBUTES = VertexArrayObject.MAX_ATTRIBUTES || gl.getParameter(34921);\n      return VertexArrayObject.MAX_ATTRIBUTES;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(gl, location, array) {\n      switch (array.constructor) {\n        case Float32Array:\n          VertexArrayObject._setConstantFloatArray(gl, location, array);\n\n          break;\n\n        case Int32Array:\n          VertexArrayObject._setConstantIntArray(gl, location, array);\n\n          break;\n\n        case Uint32Array:\n          VertexArrayObject._setConstantUintArray(gl, location, array);\n\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }]);\n\n  function VertexArrayObject(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, VertexArrayObject);\n\n    var id = opts.id || opts.program && opts.program.id;\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VertexArrayObject).call(this, gl, Object.assign({}, opts, {\n      id: id\n    })));\n    _this.buffer = null;\n    _this.bufferValue = null;\n    _this.isDefaultArray = opts.isDefaultArray || false;\n\n    _this.initialize(opts);\n\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(VertexArrayObject, [{\n    key: \"delete\",\n    value: function _delete() {\n      _get(_getPrototypeOf(VertexArrayObject.prototype), \"delete\", this).call(this);\n\n      if (this.buffer) {\n        this.buffer[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return this.setProps(props);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var _this2 = this;\n\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      assert(!elementBuffer || elementBuffer.target === 34963, ERR_ELEMENTS);\n      this.bind(function () {\n        _this2.gl.bindBuffer(34963, elementBuffer ? elementBuffer.handle : null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(location, buffer, accessor) {\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, accessor);\n      }\n\n      var size = accessor.size,\n          type = accessor.type,\n          stride = accessor.stride,\n          offset = accessor.offset,\n          normalized = accessor.normalized,\n          integer = accessor.integer,\n          divisor = accessor.divisor;\n      var gl = this.gl;\n      location = Number(location);\n      this.bind(function () {\n        gl.bindBuffer(34962, buffer.handle);\n\n        if (integer) {\n          assert(isWebGL2(gl));\n          gl.vertexAttribIPointer(location, size, type, stride, offset);\n        } else {\n          gl.vertexAttribPointer(location, size, type, normalized, stride, offset);\n        }\n\n        gl.enableVertexAttribArray(location);\n        gl.vertexAttribDivisor(location, divisor || 0);\n      });\n      return this;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(location) {\n      var _this3 = this;\n\n      var _enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var disablingAttributeZero = !_enable && location === 0 && !VertexArrayObject.isSupported(this.gl, {\n        constantAttributeZero: true\n      });\n\n      if (!disablingAttributeZero) {\n        location = Number(location);\n        this.bind(function () {\n          return _enable ? _this3.gl.enableVertexAttribArray(location) : _this3.gl.disableVertexAttribArray(location);\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"getConstantBuffer\",\n    value: function getConstantBuffer(elementCount, value, accessor) {\n      var constantValue = this._normalizeConstantArrayValue(value, accessor);\n\n      var byteLength = constantValue.byteLength * elementCount;\n      var length = constantValue.length * elementCount;\n      var updateNeeded = !this.buffer;\n      this.buffer = this.buffer || new Buffer(this.gl, byteLength);\n      updateNeeded = updateNeeded || this.buffer.reallocate(byteLength);\n      updateNeeded = updateNeeded || !this._compareConstantArrayValues(constantValue, this.bufferValue);\n\n      if (updateNeeded) {\n        var typedArray = getScratchArray(value.constructor, length);\n        fillArray({\n          target: typedArray,\n          source: constantValue,\n          start: 0,\n          count: length\n        });\n        this.buffer.subData(typedArray);\n        this.bufferValue = value;\n      }\n\n      return this.buffer;\n    }\n  }, {\n    key: \"_normalizeConstantArrayValue\",\n    value: function _normalizeConstantArrayValue(arrayValue, accessor) {\n      if (Array.isArray(arrayValue)) {\n        return new Float32Array(arrayValue);\n      }\n\n      return arrayValue;\n    }\n  }, {\n    key: \"_compareConstantArrayValues\",\n    value: function _compareConstantArrayValues(v1, v2) {\n      if (!v1 || !v2 || v1.length !== v2.length || v1.constructor !== v2.constructor) {\n        return false;\n      }\n\n      for (var i = 0; i < v1.length; ++i) {\n        if (v1[i] !== v2[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return this.gl.createVertexArray();\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle(handle) {\n      this.gl.deleteVertexArray(handle);\n      return [this.elements];\n    }\n  }, {\n    key: \"_bindHandle\",\n    value: function _bindHandle(handle) {\n      this.gl.bindVertexArray(handle);\n    }\n  }, {\n    key: \"_getParameter\",\n    value: function _getParameter(pname, _ref) {\n      var _this4 = this;\n\n      var location = _ref.location;\n      assert(Number.isFinite(location));\n      return this.bind(function () {\n        switch (pname) {\n          case 34373:\n            return _this4.gl.getVertexAttribOffset(location, pname);\n\n          default:\n            return _this4.gl.getVertexAttrib(location, pname);\n        }\n      });\n    }\n  }, {\n    key: \"MAX_ATTRIBUTES\",\n    get: function get() {\n      return VertexArrayObject.getMaxAttributes(this.gl);\n    }\n  }], [{\n    key: \"_setConstantFloatArray\",\n    value: function _setConstantFloatArray(gl, location, array) {\n      switch (array.length) {\n        case 1:\n          gl.vertexAttrib1fv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttrib2fv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttrib3fv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttrib4fv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }, {\n    key: \"_setConstantIntArray\",\n    value: function _setConstantIntArray(gl, location, array) {\n      assert(isWebGL2(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1iv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2iv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3iv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4iv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }, {\n    key: \"_setConstantUintArray\",\n    value: function _setConstantUintArray(gl, location, array) {\n      assert(isWebGL2(gl));\n\n      switch (array.length) {\n        case 1:\n          gl.vertexAttribI1uiv(location, array);\n          break;\n\n        case 2:\n          gl.vertexAttribI2uiv(location, array);\n          break;\n\n        case 3:\n          gl.vertexAttribI3uiv(location, array);\n          break;\n\n        case 4:\n          gl.vertexAttribI4uiv(location, array);\n          break;\n\n        default:\n          assert(false);\n      }\n    }\n  }]);\n\n  return VertexArrayObject;\n}(Resource);\n\nexport { VertexArrayObject as default };","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { log } from '@luma.gl/gltools';\nimport Accessor from './accessor';\nimport Buffer from './buffer';\nimport VertexArrayObject from './vertex-array-object';\nimport { assert, stubRemovedMethods } from '../utils';\nvar ERR_ATTRIBUTE_TYPE = 'VertexArray: attributes must be Buffers or constants (i.e. typed array)';\nvar MULTI_LOCATION_ATTRIBUTE_REGEXP = /^(.+)__LOCATION_([0-9]+)$/;\nvar DEPRECATIONS_V6 = ['setBuffers', 'setGeneric', 'clearBindings', 'setLocations', 'setGenericValues', 'setDivisor', 'enable', 'disable'];\n\nvar VertexArray = function () {\n  function VertexArray(gl) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, VertexArray);\n\n    var id = opts.id || opts.program && opts.program.id;\n    this.id = id;\n    this.gl = gl;\n    this.configuration = null;\n    this.elements = null;\n    this.elementsAccessor = null;\n    this.values = null;\n    this.accessors = null;\n    this.unused = null;\n    this.drawParams = null;\n    this.buffer = null;\n    this.attributes = {};\n    this.vertexArrayObject = new VertexArrayObject(gl);\n    stubRemovedMethods(this, 'VertexArray', 'v6.0', DEPRECATIONS_V6);\n    this.initialize(opts);\n    Object.seal(this);\n  }\n\n  _createClass(VertexArray, [{\n    key: \"delete\",\n    value: function _delete() {\n      if (this.buffer) {\n        this.buffer[\"delete\"]();\n      }\n\n      this.vertexArrayObject[\"delete\"]();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.reset();\n      this.configuration = null;\n      this.bindOnUse = false;\n      return this.setProps(props);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.elements = null;\n      this.elementsAccessor = null;\n      var MAX_ATTRIBUTES = this.vertexArrayObject.MAX_ATTRIBUTES;\n      this.values = new Array(MAX_ATTRIBUTES).fill(null);\n      this.accessors = new Array(MAX_ATTRIBUTES).fill(null);\n      this.unused = {};\n      this.drawParams = null;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('program' in props) {\n        this.configuration = props.program && props.program.configuration;\n      }\n\n      if ('configuration' in props) {\n        this.configuration = props.configuration;\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('elements' in props) {\n        this.setElementBuffer(props.elements);\n      }\n\n      if ('bindOnUse' in props) {\n        props = props.bindOnUse;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"clearDrawParams\",\n    value: function clearDrawParams() {\n      this.drawParams = null;\n    }\n  }, {\n    key: \"getDrawParams\",\n    value: function getDrawParams() {\n      this.drawParams = this.drawParams || this._updateDrawParams();\n      return this.drawParams;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes(attributes) {\n      var _this = this;\n\n      Object.assign(this.attributes, attributes);\n      this.vertexArrayObject.bind(function () {\n        for (var locationOrName in attributes) {\n          var value = attributes[locationOrName];\n\n          _this._setAttribute(locationOrName, value);\n        }\n\n        _this.gl.bindBuffer(34962, null);\n      });\n      return this;\n    }\n  }, {\n    key: \"setElementBuffer\",\n    value: function setElementBuffer() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.elements = elementBuffer;\n      this.elementsAccessor = accessor;\n      this.clearDrawParams();\n      this.vertexArrayObject.setElementBuffer(elementBuffer, accessor);\n      return this;\n    }\n  }, {\n    key: \"setBuffer\",\n    value: function setBuffer(locationOrName, buffer) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (buffer.target === 34963) {\n        return this.setElementBuffer(buffer, appAccessor);\n      }\n\n      var _this$_resolveLocatio = this._resolveLocationAndAccessor(locationOrName, buffer, buffer.accessor, appAccessor),\n          location = _this$_resolveLocatio.location,\n          accessor = _this$_resolveLocatio.accessor;\n\n      if (location >= 0) {\n        this.values[location] = buffer;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.setBuffer(location, buffer, accessor);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"setConstant\",\n    value: function setConstant(locationOrName, arrayValue) {\n      var appAccessor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var _this$_resolveLocatio2 = this._resolveLocationAndAccessor(locationOrName, arrayValue, Object.assign({\n        size: arrayValue.length\n      }, appAccessor)),\n          location = _this$_resolveLocatio2.location,\n          accessor = _this$_resolveLocatio2.accessor;\n\n      if (location >= 0) {\n        arrayValue = this.vertexArrayObject._normalizeConstantArrayValue(arrayValue, accessor);\n        this.values[location] = arrayValue;\n        this.accessors[location] = accessor;\n        this.clearDrawParams();\n        this.vertexArrayObject.enable(location, false);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"unbindBuffers\",\n    value: function unbindBuffers() {\n      var _this2 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this2.elements) {\n          _this2.vertexArrayObject.setElementBuffer(null);\n        }\n\n        _this2.buffer = _this2.buffer || new Buffer(_this2.gl, {\n          accessor: {\n            size: 4\n          }\n        });\n\n        for (var location = 0; location < _this2.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          if (_this2.values[location] instanceof Buffer) {\n            _this2.gl.disableVertexAttribArray(location);\n\n            _this2.gl.bindBuffer(34962, _this2.buffer.handle);\n\n            _this2.gl.vertexAttribPointer(location, 1, 5126, false, 0, 0);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindBuffers\",\n    value: function bindBuffers() {\n      var _this3 = this;\n\n      this.vertexArrayObject.bind(function () {\n        if (_this3.elements) {\n          _this3.setElementBuffer(_this3.elements);\n        }\n\n        for (var location = 0; location < _this3.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n          var buffer = _this3.values[location];\n\n          if (buffer instanceof Buffer) {\n            _this3.setBuffer(location, buffer);\n          }\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"bindForDraw\",\n    value: function bindForDraw(vertexCount, instanceCount, func) {\n      var _this4 = this;\n\n      var value;\n      this.vertexArrayObject.bind(function () {\n        _this4._setConstantAttributes(vertexCount, instanceCount);\n\n        value = func();\n      });\n      return value;\n    }\n  }, {\n    key: \"_resolveLocationAndAccessor\",\n    value: function _resolveLocationAndAccessor(locationOrName, value, valueAccessor, appAccessor) {\n      var _this5 = this;\n\n      var _this$_getAttributeIn = this._getAttributeIndex(locationOrName),\n          location = _this$_getAttributeIn.location,\n          name = _this$_getAttributeIn.name;\n\n      if (!Number.isFinite(location) || location < 0) {\n        this.unused[locationOrName] = value;\n        log.once(3, function () {\n          return \"unused value \".concat(locationOrName, \" in \").concat(_this5.id);\n        })();\n        return this;\n      }\n\n      var accessInfo = this._getAttributeInfo(name || location);\n\n      if (!accessInfo) {\n        return {\n          location: -1,\n          accessor: null\n        };\n      }\n\n      var currentAccessor = this.accessors[location] || {};\n      var accessor = Accessor.resolve(accessInfo.accessor, currentAccessor, valueAccessor, appAccessor);\n      var size = accessor.size,\n          type = accessor.type;\n      assert(Number.isFinite(size) && Number.isFinite(type));\n      return {\n        location: location,\n        accessor: accessor\n      };\n    }\n  }, {\n    key: \"_getAttributeInfo\",\n    value: function _getAttributeInfo(attributeName) {\n      return this.configuration && this.configuration.getAttributeInfo(attributeName);\n    }\n  }, {\n    key: \"_getAttributeIndex\",\n    value: function _getAttributeIndex(locationOrName) {\n      var location = Number(locationOrName);\n\n      if (Number.isFinite(location)) {\n        return {\n          location: location\n        };\n      }\n\n      var multiLocation = MULTI_LOCATION_ATTRIBUTE_REGEXP.exec(locationOrName);\n      var name = multiLocation ? multiLocation[1] : locationOrName;\n      var locationOffset = multiLocation ? Number(multiLocation[2]) : 0;\n\n      if (this.configuration) {\n        return {\n          location: this.configuration.getAttributeLocation(name) + locationOffset,\n          name: name\n        };\n      }\n\n      return {\n        location: -1\n      };\n    }\n  }, {\n    key: \"_setAttribute\",\n    value: function _setAttribute(locationOrName, value) {\n      if (value instanceof Buffer) {\n        this.setBuffer(locationOrName, value);\n      } else if (Array.isArray(value) && value.length && value[0] instanceof Buffer) {\n        var buffer = value[0];\n        var accessor = value[1];\n        this.setBuffer(locationOrName, buffer, accessor);\n      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {\n        var constant = value;\n        this.setConstant(locationOrName, constant);\n      } else if (value.buffer instanceof Buffer) {\n        var _accessor = value;\n        this.setBuffer(locationOrName, _accessor.buffer, _accessor);\n      } else {\n        throw new Error(ERR_ATTRIBUTE_TYPE);\n      }\n    }\n  }, {\n    key: \"_setConstantAttributes\",\n    value: function _setConstantAttributes(vertexCount, instanceCount) {\n      var elementCount = Math.max(vertexCount | 0, instanceCount | 0);\n      var constant = this.values[0];\n\n      if (ArrayBuffer.isView(constant)) {\n        this._setConstantAttributeZero(constant, elementCount);\n      }\n\n      for (var location = 1; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        constant = this.values[location];\n\n        if (ArrayBuffer.isView(constant)) {\n          this._setConstantAttribute(location, constant);\n        }\n      }\n    }\n  }, {\n    key: \"_setConstantAttributeZero\",\n    value: function _setConstantAttributeZero(constant, elementCount) {\n      if (VertexArrayObject.isSupported(this.gl, {\n        constantAttributeZero: true\n      })) {\n        this._setConstantAttribute(0, constant);\n\n        return;\n      }\n\n      var buffer = this.vertexArrayObject.getConstantBuffer(elementCount, constant);\n      this.vertexArrayObject.setBuffer(0, buffer, this.accessors[0]);\n    }\n  }, {\n    key: \"_setConstantAttribute\",\n    value: function _setConstantAttribute(location, constant) {\n      VertexArrayObject.setConstant(this.gl, location, constant);\n    }\n  }, {\n    key: \"_updateDrawParams\",\n    value: function _updateDrawParams() {\n      var drawParams = {\n        isIndexed: false,\n        isInstanced: false,\n        indexCount: Infinity,\n        vertexCount: Infinity,\n        instanceCount: Infinity\n      };\n\n      for (var location = 0; location < this.vertexArrayObject.MAX_ATTRIBUTES; location++) {\n        this._updateDrawParamsForLocation(drawParams, location);\n      }\n\n      if (this.elements) {\n        drawParams.elementCount = this.elements.getElementCount(this.elements.accessor);\n        drawParams.isIndexed = true;\n        drawParams.indexType = this.elementsAccessor.type || this.elements.accessor.type;\n        drawParams.indexOffset = this.elementsAccessor.offset || 0;\n      }\n\n      if (drawParams.indexCount === Infinity) {\n        drawParams.indexCount = 0;\n      }\n\n      if (drawParams.vertexCount === Infinity) {\n        drawParams.vertexCount = 0;\n      }\n\n      if (drawParams.instanceCount === Infinity) {\n        drawParams.instanceCount = 0;\n      }\n\n      return drawParams;\n    }\n  }, {\n    key: \"_updateDrawParamsForLocation\",\n    value: function _updateDrawParamsForLocation(drawParams, location) {\n      var value = this.values[location];\n      var accessor = this.accessors[location];\n\n      if (!value) {\n        return;\n      }\n\n      var divisor = accessor.divisor;\n      var isInstanced = divisor > 0;\n      drawParams.isInstanced = drawParams.isInstanced || isInstanced;\n\n      if (value instanceof Buffer) {\n        var buffer = value;\n\n        if (isInstanced) {\n          var instanceCount = buffer.getVertexCount(accessor);\n          drawParams.instanceCount = Math.min(drawParams.instanceCount, instanceCount);\n        } else {\n          var vertexCount = buffer.getVertexCount(accessor);\n          drawParams.vertexCount = Math.min(drawParams.vertexCount, vertexCount);\n        }\n      }\n    }\n  }, {\n    key: \"setElements\",\n    value: function setElements() {\n      var elementBuffer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var accessor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      log.deprecated('setElements', 'setElementBuffer')();\n      return this.setElementBuffer(elementBuffer, accessor);\n    }\n  }]);\n\n  return VertexArray;\n}();\n\nexport { VertexArray as default };","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.is-array\";\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Buffer from '../classes/buffer';\nimport { getKey } from '../webgl-utils';\nimport { getCompositeGLType } from '../webgl-utils/attribute-utils';\nimport { formatValue } from '../utils';\nexport function getDebugTableForVertexArray() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vertexArray = _ref.vertexArray,\n      _ref$header = _ref.header,\n      header = _ref$header === void 0 ? 'Attributes' : _ref$header;\n\n  if (!vertexArray.configuration) {\n    return {};\n  }\n\n  var table = {};\n\n  if (vertexArray.elements) {\n    table.ELEMENT_ARRAY_BUFFER = getDebugTableRow(vertexArray, vertexArray.elements, null, header);\n  }\n\n  var attributes = vertexArray.values;\n\n  for (var attributeLocation in attributes) {\n    var info = vertexArray._getAttributeInfo(attributeLocation);\n\n    if (info) {\n      var rowHeader = \"\".concat(attributeLocation, \": \").concat(info.name);\n      var accessor = vertexArray.accessors[info.location];\n\n      if (accessor) {\n        rowHeader = \"\".concat(attributeLocation, \": \").concat(getGLSLDeclaration(info.name, accessor));\n      }\n\n      table[rowHeader] = getDebugTableRow(vertexArray, attributes[attributeLocation], accessor, header);\n    }\n  }\n\n  return table;\n}\n\nfunction getDebugTableRow(vertexArray, attribute, accessor, header) {\n  var _ref4;\n\n  var gl = vertexArray.gl;\n\n  if (!attribute) {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, header, 'null'), _defineProperty(_ref2, 'Format ', 'N/A'), _ref2;\n  }\n\n  var type = 'NOT PROVIDED';\n  var size = 'N/A';\n  var verts = 'N/A';\n  var bytes = 'N/A';\n  var isInteger;\n  var marker;\n  var value;\n\n  if (accessor) {\n    type = accessor.type;\n    size = accessor.size;\n    type = String(type).replace('Array', '');\n    isInteger = type.indexOf('nt') !== -1;\n  }\n\n  if (attribute instanceof Buffer) {\n    var _ref3;\n\n    var buffer = attribute;\n\n    var _buffer$getDebugData = buffer.getDebugData(),\n        data = _buffer$getDebugData.data,\n        modified = _buffer$getDebugData.modified;\n\n    marker = modified ? '*' : '';\n    value = data;\n    bytes = buffer.byteLength;\n    verts = bytes / data.BYTES_PER_ELEMENT / size;\n    var format;\n\n    if (accessor) {\n      var instanced = accessor.divisor > 0;\n      format = \"\".concat(instanced ? 'I ' : 'P ', \" \").concat(verts, \" (x\").concat(size, \"=\").concat(bytes, \" bytes \").concat(getKey(gl, type), \")\");\n    } else {\n      isInteger = true;\n      format = \"\".concat(bytes, \" bytes\");\n    }\n\n    return _ref3 = {}, _defineProperty(_ref3, header, \"\".concat(marker).concat(formatValue(value, {\n      size: size,\n      isInteger: isInteger\n    }))), _defineProperty(_ref3, 'Format ', format), _ref3;\n  }\n\n  value = attribute;\n  size = attribute.length;\n  type = String(attribute.constructor.name).replace('Array', '');\n  isInteger = type.indexOf('nt') !== -1;\n  return _ref4 = {}, _defineProperty(_ref4, header, \"\".concat(formatValue(value, {\n    size: size,\n    isInteger: isInteger\n  }), \" (constant)\")), _defineProperty(_ref4, 'Format ', \"\".concat(size, \"x\").concat(type, \" (constant)\")), _ref4;\n}\n\nfunction getGLSLDeclaration(name, accessor) {\n  var type = accessor.type,\n      size = accessor.size;\n  var typeAndName = getCompositeGLType(type, size);\n  return typeAndName ? \"\".concat(name, \" (\").concat(typeAndName.name, \")\") : name;\n}","import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { formatValue, assert } from '../utils';\nexport function getDebugTableForUniforms() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$header = _ref.header,\n      header = _ref$header === void 0 ? 'Uniforms' : _ref$header,\n      program = _ref.program,\n      uniforms = _ref.uniforms,\n      _ref$undefinedOnly = _ref.undefinedOnly,\n      undefinedOnly = _ref$undefinedOnly === void 0 ? false : _ref$undefinedOnly;\n\n  assert(program);\n  var SHADER_MODULE_UNIFORM_REGEXP = '.*_.*';\n  var PROJECT_MODULE_UNIFORM_REGEXP = '.*Matrix';\n  var uniformLocations = program._uniformSetters;\n  var table = {};\n  var uniformNames = Object.keys(uniformLocations).sort();\n  var count = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = uniformNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _uniformName = _step.value;\n\n      if (!_uniformName.match(SHADER_MODULE_UNIFORM_REGEXP) && !_uniformName.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = uniformNames[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _uniformName2 = _step2.value;\n\n      if (_uniformName2.match(PROJECT_MODULE_UNIFORM_REGEXP)) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName2,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = uniformNames[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _uniformName3 = _step3.value;\n\n      if (!table[_uniformName3]) {\n        if (addUniformToTable({\n          table: table,\n          header: header,\n          uniforms: uniforms,\n          uniformName: _uniformName3,\n          undefinedOnly: undefinedOnly\n        })) {\n          count++;\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n        _iterator3[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var unusedCount = 0;\n  var unusedTable = {};\n\n  if (!undefinedOnly) {\n    for (var uniformName in uniforms) {\n      var uniform = uniforms[uniformName];\n\n      if (!table[uniformName]) {\n        unusedCount++;\n        unusedTable[uniformName] = _defineProperty({\n          Type: \"NOT USED: \".concat(uniform)\n        }, header, formatValue(uniform));\n      }\n    }\n  }\n\n  return {\n    table: table,\n    count: count,\n    unusedTable: unusedTable,\n    unusedCount: unusedCount\n  };\n}\n\nfunction addUniformToTable(_ref2) {\n  var table = _ref2.table,\n      header = _ref2.header,\n      uniforms = _ref2.uniforms,\n      uniformName = _ref2.uniformName,\n      undefinedOnly = _ref2.undefinedOnly;\n  var value = uniforms[uniformName];\n  var isDefined = isUniformDefined(value);\n\n  if (!undefinedOnly || !isDefined) {\n    var _table$uniformName;\n\n    table[uniformName] = (_table$uniformName = {}, _defineProperty(_table$uniformName, header, isDefined ? formatValue(value) : 'N/A'), _defineProperty(_table$uniformName, 'Uniform Type', isDefined ? value : 'NOT PROVIDED'), _table$uniformName);\n    return true;\n  }\n\n  return false;\n}\n\nfunction isUniformDefined(value) {\n  return value !== undefined && value !== null;\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { getCompositeGLType } from '../webgl-utils/attribute-utils';\nexport function getDebugTableForProgramConfiguration(config) {\n  var table = {};\n  var header = \"Accessors for \".concat(config.id);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = config.attributeInfos[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var attributeInfo = _step.value;\n\n      if (attributeInfo) {\n        var glslDeclaration = getGLSLDeclaration(attributeInfo);\n        table[\"in \".concat(glslDeclaration)] = _defineProperty({}, header, JSON.stringify(attributeInfo.accessor));\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = config.varyingInfos[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var varyingInfo = _step2.value;\n\n      if (varyingInfo) {\n        var _glslDeclaration = getGLSLDeclaration(varyingInfo);\n\n        table[\"out \".concat(_glslDeclaration)] = _defineProperty({}, header, JSON.stringify(varyingInfo.accessor));\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return table;\n}\n\nfunction getGLSLDeclaration(attributeInfo) {\n  var _attributeInfo$access = attributeInfo.accessor,\n      type = _attributeInfo$access.type,\n      size = _attributeInfo$access.size;\n  var typeAndName = getCompositeGLType(type, size);\n\n  if (typeAndName) {\n    return \"\".concat(typeAndName.name, \" \").concat(attributeInfo.name);\n  }\n\n  return attributeInfo.name;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.typed.uint16-array\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport { Buffer, assert } from '@luma.gl/webgl';\nvar GLTF_TO_LUMA_ATTRIBUTE_MAP = {\n  POSITION: 'positions',\n  NORMAL: 'normals',\n  COLOR_0: 'colors',\n  TEXCOORD_0: 'texCoords',\n  TEXCOORD_1: 'texCoords1',\n  TEXCOORD_2: 'texCoords2'\n};\nexport function getBuffersFromGeometry(gl, geometry, options) {\n  var buffers = {};\n  var indices = geometry.indices;\n\n  for (var name in geometry.attributes) {\n    var attribute = geometry.attributes[name];\n    var remappedName = mapAttributeName(name, options);\n\n    if (name === 'indices') {\n      indices = attribute;\n    } else if (attribute.constant) {\n      buffers[remappedName] = attribute.value;\n    } else {\n      var typedArray = attribute.value;\n\n      var accessor = _objectSpread({}, attribute);\n\n      delete accessor.value;\n      buffers[remappedName] = [new Buffer(gl, typedArray), accessor];\n      inferAttributeAccessor(name, accessor);\n    }\n  }\n\n  if (indices) {\n    var data = indices.value || indices;\n    assert(data instanceof Uint16Array || data instanceof Uint32Array, 'attribute array for \"indices\" must be of integer type');\n    var _accessor = {\n      size: 1,\n      isIndexed: indices.isIndexed === undefined ? true : indices.isIndexed\n    };\n    buffers.indices = [new Buffer(gl, {\n      data: data,\n      target: 34963\n    }), _accessor];\n  }\n\n  return buffers;\n}\n\nfunction mapAttributeName(name, options) {\n  var _ref = options || {},\n      _ref$attributeMap = _ref.attributeMap,\n      attributeMap = _ref$attributeMap === void 0 ? GLTF_TO_LUMA_ATTRIBUTE_MAP : _ref$attributeMap;\n\n  return attributeMap && attributeMap[name] || name;\n}\n\nexport function inferAttributeAccessor(attributeName, attribute) {\n  var category;\n\n  switch (attributeName) {\n    case 'texCoords':\n    case 'texCoord1':\n    case 'texCoord2':\n    case 'texCoord3':\n      category = 'uvs';\n      break;\n\n    case 'vertices':\n    case 'positions':\n    case 'normals':\n    case 'pickingColors':\n      category = 'vectors';\n      break;\n\n    default:\n  }\n\n  switch (category) {\n    case 'vectors':\n      attribute.size = attribute.size || 3;\n      break;\n\n    case 'uvs':\n      attribute.size = attribute.size || 2;\n      break;\n\n    default:\n  }\n\n  assert(Number.isFinite(attribute.size), \"attribute \".concat(attributeName, \" needs size\"));\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.assign\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { isWebGL } from '@luma.gl/gltools';\nimport ProgramManager from './program-manager';\nimport { Program, VertexArray, clear as _clear, TransformFeedback, Buffer, log, isObjectEmpty, uid, assert } from '@luma.gl/webgl';\nimport { getDebugTableForUniforms, getDebugTableForVertexArray, getDebugTableForProgramConfiguration } from '@luma.gl/webgl';\nimport { getBuffersFromGeometry } from './model-utils';\nvar LOG_DRAW_PRIORITY = 2;\nvar LOG_DRAW_TIMEOUT = 10000;\nvar ERR_MODEL_PARAMS = 'Model needs drawMode and vertexCount';\n\nvar NOOP = function NOOP() {};\n\nvar DRAW_PARAMS = {};\n\nvar Model = function () {\n  function Model(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Model);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('model') : _props$id;\n    assert(isWebGL(gl));\n    this.id = id;\n    this.gl = gl;\n    this.id = props.id || uid('Model');\n    this.lastLogTime = 0;\n    this.initialize(props);\n  }\n\n  _createClass(Model, [{\n    key: \"initialize\",\n    value: function initialize(props) {\n      this.props = {};\n      this.programManager = props.programManager || ProgramManager.getDefaultProgramManager(this.gl);\n      this._programManagerState = -1;\n      this._managedProgram = false;\n      var _props$program = props.program,\n          program = _props$program === void 0 ? null : _props$program,\n          vs = props.vs,\n          fs = props.fs,\n          modules = props.modules,\n          defines = props.defines,\n          inject = props.inject,\n          varyings = props.varyings,\n          bufferMode = props.bufferMode,\n          transpileToGLSL100 = props.transpileToGLSL100;\n      this.programProps = {\n        program: program,\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        defines: defines,\n        inject: inject,\n        varyings: varyings,\n        bufferMode: bufferMode,\n        transpileToGLSL100: transpileToGLSL100\n      };\n      this.program = null;\n      this.vertexArray = null;\n      this._programDirty = true;\n      this.userData = {};\n      this.needsRedraw = true;\n      this._attributes = {};\n      this.attributes = {};\n      this.uniforms = {};\n      this.pickable = true;\n\n      this._checkProgram();\n\n      this.setUniforms(Object.assign({}, this.getModuleUniforms(props.moduleSettings)));\n      this.drawMode = props.drawMode !== undefined ? props.drawMode : 4;\n      this.vertexCount = props.vertexCount || 0;\n      this.geometryBuffers = {};\n      this.isInstanced = props.isInstanced || props.instanced || props.instanceCount > 0;\n\n      this._setModelProps(props);\n\n      this.geometry = {};\n      assert(this.drawMode !== undefined && Number.isFinite(this.vertexCount), ERR_MODEL_PARAMS);\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._setModelProps(props);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      for (var key in this._attributes) {\n        if (this._attributes[key] !== this.attributes[key]) {\n          this._attributes[key][\"delete\"]();\n        }\n      }\n\n      if (this._managedProgram) {\n        this.programManager.release(this.program);\n      }\n\n      this.vertexArray[\"delete\"]();\n\n      this._deleteGeometryBuffers();\n    }\n  }, {\n    key: \"getDrawMode\",\n    value: function getDrawMode() {\n      return this.drawMode;\n    }\n  }, {\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      return this.vertexCount;\n    }\n  }, {\n    key: \"getInstanceCount\",\n    value: function getInstanceCount() {\n      return this.instanceCount;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.attributes;\n    }\n  }, {\n    key: \"getProgram\",\n    value: function getProgram() {\n      return this.program;\n    }\n  }, {\n    key: \"setProgram\",\n    value: function setProgram(props) {\n      var program = props.program,\n          vs = props.vs,\n          fs = props.fs,\n          modules = props.modules,\n          defines = props.defines,\n          inject = props.inject,\n          varyings = props.varyings,\n          bufferMode = props.bufferMode,\n          transpileToGLSL100 = props.transpileToGLSL100;\n      this.programProps = {\n        program: program,\n        vs: vs,\n        fs: fs,\n        modules: modules,\n        defines: defines,\n        inject: inject,\n        varyings: varyings,\n        bufferMode: bufferMode,\n        transpileToGLSL100: transpileToGLSL100\n      };\n      this._programDirty = true;\n    }\n  }, {\n    key: \"getUniforms\",\n    value: function getUniforms() {\n      return this.uniforms;\n    }\n  }, {\n    key: \"setDrawMode\",\n    value: function setDrawMode(drawMode) {\n      this.drawMode = drawMode;\n      return this;\n    }\n  }, {\n    key: \"setVertexCount\",\n    value: function setVertexCount(vertexCount) {\n      assert(Number.isFinite(vertexCount));\n      this.vertexCount = vertexCount;\n      return this;\n    }\n  }, {\n    key: \"setInstanceCount\",\n    value: function setInstanceCount(instanceCount) {\n      assert(Number.isFinite(instanceCount));\n      this.instanceCount = instanceCount;\n      return this;\n    }\n  }, {\n    key: \"setGeometry\",\n    value: function setGeometry(geometry) {\n      this.drawMode = geometry.drawMode;\n      this.vertexCount = geometry.getVertexCount();\n\n      this._deleteGeometryBuffers();\n\n      this.geometryBuffers = getBuffersFromGeometry(this.gl, geometry);\n      this.vertexArray.setAttributes(this.geometryBuffers);\n      return this;\n    }\n  }, {\n    key: \"setAttributes\",\n    value: function setAttributes() {\n      var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (isObjectEmpty(attributes)) {\n        return this;\n      }\n\n      var normalizedAttributes = {};\n\n      for (var name in attributes) {\n        var attribute = attributes[name];\n        normalizedAttributes[name] = attribute.getValue ? attribute.getValue() : attribute;\n      }\n\n      this.vertexArray.setAttributes(normalizedAttributes);\n      return this;\n    }\n  }, {\n    key: \"setUniforms\",\n    value: function setUniforms() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.assign(this.uniforms, uniforms);\n      return this;\n    }\n  }, {\n    key: \"getModuleUniforms\",\n    value: function getModuleUniforms(opts) {\n      this._checkProgram();\n\n      var getUniforms = this.programManager.getUniforms(this.program);\n\n      if (getUniforms) {\n        return getUniforms(opts);\n      }\n\n      return {};\n    }\n  }, {\n    key: \"updateModuleSettings\",\n    value: function updateModuleSettings(opts) {\n      var uniforms = this.getModuleUniforms(opts || {});\n      return this.setUniforms(uniforms);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(opts) {\n      _clear(this.program.gl, opts);\n\n      return this;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._checkProgram();\n\n      var _opts$moduleSettings = opts.moduleSettings,\n          moduleSettings = _opts$moduleSettings === void 0 ? null : _opts$moduleSettings,\n          framebuffer = opts.framebuffer,\n          _opts$uniforms = opts.uniforms,\n          uniforms = _opts$uniforms === void 0 ? {} : _opts$uniforms,\n          _opts$attributes = opts.attributes,\n          attributes = _opts$attributes === void 0 ? {} : _opts$attributes,\n          _opts$transformFeedba = opts.transformFeedback,\n          transformFeedback = _opts$transformFeedba === void 0 ? this.transformFeedback : _opts$transformFeedba,\n          _opts$parameters = opts.parameters,\n          parameters = _opts$parameters === void 0 ? {} : _opts$parameters,\n          _opts$vertexArray = opts.vertexArray,\n          vertexArray = _opts$vertexArray === void 0 ? this.vertexArray : _opts$vertexArray;\n      this.setAttributes(attributes);\n      this.updateModuleSettings(moduleSettings);\n      this.setUniforms(uniforms);\n      var logPriority;\n\n      if (log.priority >= LOG_DRAW_PRIORITY) {\n        logPriority = this._logDrawCallStart(LOG_DRAW_PRIORITY);\n      }\n\n      var drawParams = this.vertexArray.getDrawParams();\n      var _this$props = this.props,\n          _this$props$isIndexed = _this$props.isIndexed,\n          isIndexed = _this$props$isIndexed === void 0 ? drawParams.isIndexed : _this$props$isIndexed,\n          _this$props$indexType = _this$props.indexType,\n          indexType = _this$props$indexType === void 0 ? drawParams.indexType : _this$props$indexType,\n          _this$props$indexOffs = _this$props.indexOffset,\n          indexOffset = _this$props$indexOffs === void 0 ? drawParams.indexOffset : _this$props$indexOffs,\n          _this$props$vertexArr = _this$props.vertexArrayInstanced,\n          vertexArrayInstanced = _this$props$vertexArr === void 0 ? drawParams.isInstanced : _this$props$vertexArr;\n\n      if (vertexArrayInstanced && !this.isInstanced) {\n        log.warn('Found instanced attributes on non-instanced model', this.id)();\n      }\n\n      var isInstanced = this.isInstanced,\n          instanceCount = this.instanceCount;\n      var _this$props2 = this.props,\n          _this$props2$onBefore = _this$props2.onBeforeRender,\n          onBeforeRender = _this$props2$onBefore === void 0 ? NOOP : _this$props2$onBefore,\n          _this$props2$onAfterR = _this$props2.onAfterRender,\n          onAfterRender = _this$props2$onAfterR === void 0 ? NOOP : _this$props2$onAfterR;\n      onBeforeRender();\n      this.program.setUniforms(this.uniforms);\n      var didDraw = this.program.draw(Object.assign(DRAW_PARAMS, opts, {\n        logPriority: logPriority,\n        uniforms: null,\n        framebuffer: framebuffer,\n        parameters: parameters,\n        drawMode: this.getDrawMode(),\n        vertexCount: this.getVertexCount(),\n        vertexArray: vertexArray,\n        transformFeedback: transformFeedback,\n        isIndexed: isIndexed,\n        indexType: indexType,\n        isInstanced: isInstanced,\n        instanceCount: instanceCount,\n        offset: isIndexed ? indexOffset : 0\n      }));\n      onAfterRender();\n\n      if (log.priority >= LOG_DRAW_PRIORITY) {\n        this._logDrawCallEnd(logPriority, vertexArray, framebuffer);\n      }\n\n      return didDraw;\n    }\n  }, {\n    key: \"transform\",\n    value: function transform() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$discard = opts.discard,\n          discard = _opts$discard === void 0 ? true : _opts$discard,\n          feedbackBuffers = opts.feedbackBuffers,\n          _opts$unbindModels = opts.unbindModels,\n          unbindModels = _opts$unbindModels === void 0 ? [] : _opts$unbindModels;\n      var parameters = opts.parameters;\n\n      if (feedbackBuffers) {\n        this._setFeedbackBuffers(feedbackBuffers);\n      }\n\n      if (discard) {\n        parameters = Object.assign({}, parameters, _defineProperty({}, 35977, discard));\n      }\n\n      unbindModels.forEach(function (model) {\n        return model.vertexArray.unbindBuffers();\n      });\n\n      try {\n        this.draw(Object.assign({}, opts, {\n          parameters: parameters\n        }));\n      } finally {\n        unbindModels.forEach(function (model) {\n          return model.vertexArray.bindBuffers();\n        });\n      }\n\n      return this;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var uniforms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      log.warn('Model.render() is deprecated. Use Model.setUniforms() and Model.draw()')();\n      return this.setUniforms(uniforms).draw();\n    }\n  }, {\n    key: \"_setModelProps\",\n    value: function _setModelProps(props) {\n      Object.assign(this.props, props);\n\n      if ('uniforms' in props) {\n        this.setUniforms(props.uniforms);\n      }\n\n      if ('pickable' in props) {\n        this.pickable = props.pickable;\n      }\n\n      if ('instanceCount' in props) {\n        this.instanceCount = props.instanceCount;\n      }\n\n      if ('geometry' in props) {\n        this.setGeometry(props.geometry);\n      }\n\n      if ('attributes' in props) {\n        this.setAttributes(props.attributes);\n      }\n\n      if ('_feedbackBuffers' in props) {\n        this._setFeedbackBuffers(props._feedbackBuffers);\n      }\n    }\n  }, {\n    key: \"_checkProgram\",\n    value: function _checkProgram() {\n      var shaderCache = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var needsUpdate = this._programDirty || this.programManager.stateHash !== this._programManagerState;\n\n      if (!needsUpdate) {\n        return;\n      }\n\n      var program = this.programProps.program;\n\n      if (program) {\n        this._managedProgram = false;\n      } else {\n        var _this$programProps = this.programProps,\n            vs = _this$programProps.vs,\n            fs = _this$programProps.fs,\n            modules = _this$programProps.modules,\n            inject = _this$programProps.inject,\n            defines = _this$programProps.defines,\n            varyings = _this$programProps.varyings,\n            bufferMode = _this$programProps.bufferMode,\n            transpileToGLSL100 = _this$programProps.transpileToGLSL100;\n        program = this.programManager.get({\n          vs: vs,\n          fs: fs,\n          modules: modules,\n          inject: inject,\n          defines: defines,\n          varyings: varyings,\n          bufferMode: bufferMode,\n          transpileToGLSL100: transpileToGLSL100\n        });\n\n        if (this.program && this._managedProgram) {\n          this.programManager.release(this.program);\n        }\n\n        this._programManagerState = this.programManager.stateHash;\n        this._managedProgram = true;\n      }\n\n      assert(program instanceof Program, 'Model needs a program');\n      this._programDirty = false;\n\n      if (program === this.program) {\n        return;\n      }\n\n      this.program = program;\n\n      if (this.vertexArray) {\n        this.vertexArray.setProps({\n          program: this.program,\n          attributes: this.vertexArray.attributes\n        });\n      } else {\n        this.vertexArray = new VertexArray(this.gl, {\n          program: this.program\n        });\n      }\n\n      this.setUniforms(Object.assign({}, this.getModuleUniforms()));\n    }\n  }, {\n    key: \"_deleteGeometryBuffers\",\n    value: function _deleteGeometryBuffers() {\n      for (var name in this.geometryBuffers) {\n        var buffer = this.geometryBuffers[name][0] || this.geometryBuffers[name];\n\n        if (buffer instanceof Buffer) {\n          buffer[\"delete\"]();\n        }\n      }\n    }\n  }, {\n    key: \"_setAnimationProps\",\n    value: function _setAnimationProps(animationProps) {\n      if (this.animated) {\n        assert(animationProps, 'Model.draw(): animated uniforms but no animationProps');\n\n        var animatedUniforms = this._evaluateAnimateUniforms(animationProps);\n\n        Object.assign(this.uniforms, animatedUniforms);\n      }\n    }\n  }, {\n    key: \"_setFeedbackBuffers\",\n    value: function _setFeedbackBuffers() {\n      var feedbackBuffers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (isObjectEmpty(feedbackBuffers)) {\n        return this;\n      }\n\n      var gl = this.program.gl;\n      this.transformFeedback = this.transformFeedback || new TransformFeedback(gl, {\n        program: this.program\n      });\n      this.transformFeedback.setBuffers(feedbackBuffers);\n      return this;\n    }\n  }, {\n    key: \"_logDrawCallStart\",\n    value: function _logDrawCallStart(logLevel) {\n      var logDrawTimeout = logLevel > 3 ? 0 : LOG_DRAW_TIMEOUT;\n\n      if (Date.now() - this.lastLogTime < logDrawTimeout) {\n        return undefined;\n      }\n\n      this.lastLogTime = Date.now();\n      log.group(LOG_DRAW_PRIORITY, \">>> DRAWING MODEL \".concat(this.id), {\n        collapsed: log.level <= 2\n      })();\n      return logLevel;\n    }\n  }, {\n    key: \"_logDrawCallEnd\",\n    value: function _logDrawCallEnd(logLevel, vertexArray, uniforms, framebuffer) {\n      if (logLevel === undefined) {\n        return;\n      }\n\n      var attributeTable = getDebugTableForVertexArray({\n        vertexArray: vertexArray,\n        header: \"\".concat(this.id, \" attributes\"),\n        attributes: this._attributes\n      });\n\n      var _getDebugTableForUnif = getDebugTableForUniforms({\n        header: \"\".concat(this.id, \" uniforms\"),\n        program: this.program,\n        uniforms: Object.assign({}, this.program.uniforms, uniforms)\n      }),\n          uniformTable = _getDebugTableForUnif.table,\n          unusedTable = _getDebugTableForUnif.unusedTable,\n          unusedCount = _getDebugTableForUnif.unusedCount;\n\n      var _getDebugTableForUnif2 = getDebugTableForUniforms({\n        header: \"\".concat(this.id, \" uniforms\"),\n        program: this.program,\n        uniforms: Object.assign({}, this.program.uniforms, uniforms),\n        undefinedOnly: true\n      }),\n          missingTable = _getDebugTableForUnif2.table,\n          missingCount = _getDebugTableForUnif2.count;\n\n      if (missingCount > 0) {\n        log.log('MISSING UNIFORMS', Object.keys(missingTable))();\n      }\n\n      if (unusedCount > 0) {\n        log.log('UNUSED UNIFORMS', Object.keys(unusedTable))();\n      }\n\n      var configTable = getDebugTableForProgramConfiguration(this.vertexArray.configuration);\n      log.table(logLevel, attributeTable)();\n      log.table(logLevel, uniformTable)();\n      log.table(logLevel + 1, configTable)();\n\n      if (framebuffer) {\n        framebuffer.log({\n          logLevel: LOG_DRAW_PRIORITY,\n          message: \"Rendered to \".concat(framebuffer.id)\n        });\n      }\n\n      log.groupEnd(LOG_DRAW_PRIORITY, \">>> DRAWING MODEL \".concat(this.id))();\n    }\n  }]);\n\n  return Model;\n}();\n\nexport { Model as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { getPassthroughFS } from '@luma.gl/shadertools';\nimport BufferTransform from './buffer-transform';\nimport TextureTransform from './texture-transform';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert, isObjectEmpty, getShaderVersion } from '@luma.gl/webgl';\nimport Model from '../lib/model';\n\nvar Transform = function () {\n  _createClass(Transform, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      return isWebGL2(gl);\n    }\n  }]);\n\n  function Transform(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Transform);\n\n    this.gl = gl;\n    this.model = null;\n    this.elementCount = 0;\n    this.bufferTransform = null;\n    this.textureTransform = null;\n    this.elementIDBuffer = null;\n\n    this._initialize(props);\n\n    Object.seal(this);\n  }\n\n  _createClass(Transform, [{\n    key: \"delete\",\n    value: function _delete() {\n      var model = this.model,\n          bufferTransform = this.bufferTransform,\n          textureTransform = this.textureTransform;\n\n      if (model) {\n        model[\"delete\"]();\n      }\n\n      if (bufferTransform) {\n        bufferTransform[\"delete\"]();\n      }\n\n      if (textureTransform) {\n        textureTransform[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$clearRenderTarg = opts.clearRenderTarget,\n          clearRenderTarget = _opts$clearRenderTarg === void 0 ? true : _opts$clearRenderTarg;\n\n      var updatedOpts = this._updateDrawOptions(opts);\n\n      if (clearRenderTarget && updatedOpts.framebuffer) {\n        updatedOpts.framebuffer.clear({\n          color: true\n        });\n      }\n\n      this.model.transform(updatedOpts);\n    }\n  }, {\n    key: \"swap\",\n    value: function swap() {\n      var swapped = false;\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = resourceTransforms[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var resourceTransform = _step.value;\n          swapped = swapped || resourceTransform.swap();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      assert(swapped, 'Nothing to swap');\n    }\n  }, {\n    key: \"getBuffer\",\n    value: function getBuffer() {\n      var varyingName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      return this.bufferTransform && this.bufferTransform.getBuffer(varyingName);\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = resourceTransforms[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var resourceTransform = _step2.value;\n          var data = resourceTransform.getData(opts);\n\n          if (data) {\n            return data;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getFramebuffer\",\n    value: function getFramebuffer() {\n      return this.textureTransform && this.textureTransform.getFramebuffer();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if ('elementCount' in opts) {\n        this.model.setVertexCount(opts.elementCount);\n      }\n\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = resourceTransforms[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var resourceTransform = _step3.value;\n          resourceTransform.update(opts);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var gl = this.gl;\n\n      this._buildResourceTransforms(gl, props);\n\n      props = this._updateModelProps(props);\n      this.model = new Model(gl, Object.assign({}, props, {\n        fs: props.fs || getPassthroughFS({\n          version: getShaderVersion(props.vs)\n        }),\n        id: props.id || 'transform-model',\n        drawMode: props.drawMode || 0,\n        vertexCount: props.elementCount\n      }));\n      this.bufferTransform && this.bufferTransform.setupResources({\n        model: this.model\n      });\n    }\n  }, {\n    key: \"_updateModelProps\",\n    value: function _updateModelProps(props) {\n      var updatedProps = Object.assign({}, props);\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = resourceTransforms[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var resourceTransform = _step4.value;\n          updatedProps = resourceTransform.updateModelProps(updatedProps);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      return updatedProps;\n    }\n  }, {\n    key: \"_buildResourceTransforms\",\n    value: function _buildResourceTransforms(gl, props) {\n      if (canCreateBufferTransform(props)) {\n        this.bufferTransform = new BufferTransform(gl, props);\n      }\n\n      if (canCreateTextureTransform(props)) {\n        this.textureTransform = new TextureTransform(gl, props);\n      }\n\n      assert(this.bufferTransform || this.textureTransform, 'must provide source/feedback buffers or source/target textures');\n    }\n  }, {\n    key: \"_updateDrawOptions\",\n    value: function _updateDrawOptions(opts) {\n      var updatedOpts = Object.assign({}, opts);\n      var resourceTransforms = [this.bufferTransform, this.textureTransform].filter(Boolean);\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = resourceTransforms[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var resourceTransform = _step5.value;\n          updatedOpts = Object.assign(updatedOpts, resourceTransform.getDrawOptions(updatedOpts));\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      return updatedOpts;\n    }\n  }]);\n\n  return Transform;\n}();\n\nexport { Transform as default };\n\nfunction canCreateBufferTransform(props) {\n  if (!isObjectEmpty(props.feedbackBuffers) || !isObjectEmpty(props.feedbackMap) || props.varyings && props.varyings.length > 0) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction canCreateTextureTransform(props) {\n  if (!isObjectEmpty(props._sourceTextures) || props._targetTexture || props._targetTextureVarying) {\n    return true;\n  }\n\n  return false;\n}","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction noop() {}\n\nvar DEFAULT_SETTINGS = {\n  onStart: noop,\n  onUpdate: noop,\n  onInterrupt: noop,\n  onEnd: noop\n};\n\nvar Transition = function () {\n  function Transition(timeline) {\n    _classCallCheck(this, Transition);\n\n    this._inProgress = false;\n    this._handle = null;\n    this.timeline = timeline;\n    this.settings = {};\n  }\n\n  _createClass(Transition, [{\n    key: \"start\",\n    value: function start(props) {\n      this.cancel();\n      this.settings = Object.assign({}, DEFAULT_SETTINGS, props);\n      this._inProgress = true;\n      this.settings.onStart(this);\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      if (this._inProgress) {\n        this.timeline.removeChannel(this._handle);\n        this._handle = null;\n        this._inProgress = false;\n        this.settings.onEnd(this);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._inProgress) {\n        this.settings.onInterrupt(this);\n        this.timeline.removeChannel(this._handle);\n        this._handle = null;\n        this._inProgress = false;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this._inProgress) {\n        return false;\n      }\n\n      if (this._handle === null) {\n        var timeline = this.timeline,\n            settings = this.settings;\n        this._handle = timeline.addChannel({\n          delay: timeline.getTime(),\n          duration: settings.duration\n        });\n      }\n\n      this.time = this.timeline.getTime(this._handle);\n\n      this._onUpdate();\n\n      this.settings.onUpdate(this);\n\n      if (this.timeline.isFinished(this._handle)) {\n        this.end();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {}\n  }, {\n    key: \"inProgress\",\n    get: function get() {\n      return this._inProgress;\n    }\n  }]);\n\n  return Transition;\n}();\n\nexport { Transition as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { Buffer, Transform } from '@luma.gl/core';\nimport Attribute from '../lib/attribute/attribute';\nimport { padBuffer, getAttributeTypeFromSize, getSourceBufferAttribute, getAttributeBufferLength, cycleBuffers } from '../lib/attribute/attribute-transition-utils';\nimport Transition from './transition';\n\nvar GPUInterpolationTransition = function () {\n  function GPUInterpolationTransition(_ref) {\n    var gl = _ref.gl,\n        attribute = _ref.attribute,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, GPUInterpolationTransition);\n\n    this.gl = gl;\n    this.type = 'interpolation';\n    this.transition = new Transition(timeline);\n    this.attribute = attribute;\n    this.attributeInTransition = new Attribute(gl, attribute.settings);\n    this.currentStartIndices = attribute.startIndices;\n    this.currentLength = 0;\n    this.transform = getTransform(gl, attribute);\n    var bufferOpts = {\n      byteLength: 0,\n      usage: 35050\n    };\n    this.buffers = [new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts)];\n  }\n\n  _createClass(GPUInterpolationTransition, [{\n    key: \"start\",\n    value: function start(transitionSettings, numInstances) {\n      if (transitionSettings.duration <= 0) {\n        this.transition.cancel();\n        return;\n      }\n\n      var gl = this.gl,\n          buffers = this.buffers,\n          attribute = this.attribute;\n      cycleBuffers(buffers);\n      var padBufferOpts = {\n        numInstances: numInstances,\n        attribute: attribute,\n        fromLength: this.currentLength,\n        fromStartIndices: this.currentStartIndices,\n        getData: transitionSettings.enter\n      };\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = buffers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var buffer = _step.value;\n          padBuffer(_objectSpread({\n            buffer: buffer\n          }, padBufferOpts));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.currentStartIndices = attribute.startIndices;\n      this.currentLength = getAttributeBufferLength(attribute, numInstances);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: attribute.value\n      });\n      this.transition.start(transitionSettings);\n      this.transform.update({\n        elementCount: Math.floor(this.currentLength / attribute.size),\n        sourceBuffers: {\n          aFrom: buffers[0],\n          aTo: getSourceBufferAttribute(gl, attribute)\n        },\n        feedbackBuffers: {\n          vCurrent: buffers[1]\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var updated = this.transition.update();\n\n      if (updated) {\n        var _this$transition = this.transition,\n            time = _this$transition.time,\n            _this$transition$sett = _this$transition.settings,\n            duration = _this$transition$sett.duration,\n            easing = _this$transition$sett.easing;\n        var t = easing(time / duration);\n        this.transform.run({\n          uniforms: {\n            time: t\n          }\n        });\n      }\n\n      return updated;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.transition.cancel();\n      this.transform[\"delete\"]();\n\n      while (this.buffers.length) {\n        this.buffers.pop()[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"inProgress\",\n    get: function get() {\n      return this.transition.inProgress;\n    }\n  }]);\n\n  return GPUInterpolationTransition;\n}();\n\nexport { GPUInterpolationTransition as default };\nvar vs = \"\\n#define SHADER_NAME interpolation-transition-vertex-shader\\n\\nuniform float time;\\nattribute ATTRIBUTE_TYPE aFrom;\\nattribute ATTRIBUTE_TYPE aTo;\\nvarying ATTRIBUTE_TYPE vCurrent;\\n\\nvoid main(void) {\\n  vCurrent = mix(aFrom, aTo, time);\\n  gl_Position = vec4(0.0);\\n}\\n\";\n\nfunction getTransform(gl, attribute) {\n  var attributeType = getAttributeTypeFromSize(attribute.size);\n  return new Transform(gl, {\n    vs: vs,\n    defines: {\n      ATTRIBUTE_TYPE: attributeType\n    },\n    varyings: ['vCurrent']\n  });\n}","import \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { Buffer, Transform, Framebuffer, Texture2D, readPixelsToArray } from '@luma.gl/core';\nimport { padBuffer, getAttributeTypeFromSize, getSourceBufferAttribute, getAttributeBufferLength, cycleBuffers } from '../lib/attribute/attribute-transition-utils';\nimport Attribute from '../lib/attribute/attribute';\nimport Transition from './transition';\n\nvar GPUSpringTransition = function () {\n  function GPUSpringTransition(_ref) {\n    var gl = _ref.gl,\n        attribute = _ref.attribute,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, GPUSpringTransition);\n\n    this.gl = gl;\n    this.type = 'spring';\n    this.transition = new Transition(timeline);\n    this.attribute = attribute;\n    this.attributeInTransition = new Attribute(gl, Object.assign({}, attribute.settings, {\n      normalized: false\n    }));\n    this.currentStartIndices = attribute.startIndices;\n    this.currentLength = 0;\n    this.texture = getTexture(gl);\n    this.framebuffer = getFramebuffer(gl, this.texture);\n    this.transform = getTransform(gl, attribute, this.framebuffer);\n    var bufferOpts = {\n      byteLength: 0,\n      usage: 35050\n    };\n    this.buffers = [new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts), new Buffer(gl, bufferOpts)];\n  }\n\n  _createClass(GPUSpringTransition, [{\n    key: \"start\",\n    value: function start(transitionSettings, numInstances) {\n      var gl = this.gl,\n          buffers = this.buffers,\n          attribute = this.attribute;\n      var padBufferOpts = {\n        numInstances: numInstances,\n        attribute: attribute,\n        fromLength: this.currentLength,\n        fromStartIndices: this.currentStartIndices,\n        getData: transitionSettings.enter\n      };\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = buffers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var buffer = _step.value;\n          padBuffer(_objectSpread({\n            buffer: buffer\n          }, padBufferOpts));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.currentStartIndices = attribute.startIndices;\n      this.currentLength = getAttributeBufferLength(attribute, numInstances);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: attribute.value\n      });\n      this.transition.start(transitionSettings);\n      this.transform.update({\n        elementCount: Math.floor(this.currentLength / attribute.size),\n        sourceBuffers: {\n          aTo: getSourceBufferAttribute(gl, attribute)\n        }\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var buffers = this.buffers,\n          transform = this.transform,\n          framebuffer = this.framebuffer,\n          transition = this.transition;\n      var updated = transition.update();\n\n      if (!updated) {\n        return false;\n      }\n\n      transform.update({\n        sourceBuffers: {\n          aPrev: buffers[0],\n          aCur: buffers[1]\n        },\n        feedbackBuffers: {\n          vNext: buffers[2]\n        }\n      });\n      transform.run({\n        framebuffer: framebuffer,\n        discard: false,\n        clearRenderTarget: true,\n        uniforms: {\n          stiffness: transition.settings.stiffness,\n          damping: transition.settings.damping\n        },\n        parameters: {\n          depthTest: false,\n          blend: true,\n          viewport: [0, 0, 1, 1],\n          blendFunc: [1, 1],\n          blendEquation: [32776, 32776]\n        }\n      });\n      cycleBuffers(buffers);\n      this.attributeInTransition.update({\n        buffer: buffers[1],\n        value: this.attribute.value\n      });\n      var isTransitioning = readPixelsToArray(framebuffer)[0] > 0;\n\n      if (!isTransitioning) {\n        transition.end();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.transition.cancel();\n      this.transform[\"delete\"]();\n\n      while (this.buffers.length) {\n        this.buffers.pop()[\"delete\"]();\n      }\n\n      this.texture[\"delete\"]();\n      this.texture = null;\n      this.framebuffer[\"delete\"]();\n      this.framebuffer = null;\n    }\n  }, {\n    key: \"inProgress\",\n    get: function get() {\n      return this.transition.inProgress;\n    }\n  }]);\n\n  return GPUSpringTransition;\n}();\n\nexport { GPUSpringTransition as default };\n\nfunction getTransform(gl, attribute, framebuffer) {\n  var attributeType = getAttributeTypeFromSize(attribute.size);\n  return new Transform(gl, {\n    framebuffer: framebuffer,\n    vs: \"\\n#define SHADER_NAME spring-transition-vertex-shader\\n\\n#define EPSILON 0.00001\\n\\nuniform float stiffness;\\nuniform float damping;\\nattribute ATTRIBUTE_TYPE aPrev;\\nattribute ATTRIBUTE_TYPE aCur;\\nattribute ATTRIBUTE_TYPE aTo;\\nvarying ATTRIBUTE_TYPE vNext;\\nvarying float vIsTransitioningFlag;\\n\\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\\n  ATTRIBUTE_TYPE velocity = cur - prev;\\n  ATTRIBUTE_TYPE delta = dest - cur;\\n  ATTRIBUTE_TYPE spring = delta * stiffness;\\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\\n  return spring + damper + velocity + cur;\\n}\\n\\nvoid main(void) {\\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\\n\\n  vNext = getNextValue(aCur, aPrev, aTo);\\n  gl_Position = vec4(0, 0, 0, 1);\\n  gl_PointSize = 100.0;\\n}\\n\",\n    fs: \"\\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\\n\\nvarying float vIsTransitioningFlag;\\n\\nvoid main(void) {\\n  if (vIsTransitioningFlag == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor = vec4(1.0);\\n}\",\n    defines: {\n      ATTRIBUTE_TYPE: attributeType\n    },\n    varyings: ['vNext']\n  });\n}\n\nfunction getTexture(gl) {\n  return new Texture2D(gl, {\n    data: new Uint8Array(4),\n    format: 6408,\n    type: 5121,\n    border: 0,\n    mipmaps: false,\n    dataFormat: 6408,\n    width: 1,\n    height: 1\n  });\n}\n\nfunction getFramebuffer(gl, texture) {\n  return new Framebuffer(gl, {\n    id: 'spring-transition-is-transitioning-framebuffer',\n    width: 1,\n    height: 1,\n    attachments: _defineProperty({}, 36064, texture)\n  });\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { Transform } from '@luma.gl/core';\nimport GPUInterpolationTransition from '../../transitions/gpu-interpolation-transition';\nimport GPUSpringTransition from '../../transitions/gpu-spring-transition';\nimport log from '../../utils/log';\nvar TRANSITION_TYPES = {\n  interpolation: GPUInterpolationTransition,\n  spring: GPUSpringTransition\n};\n\nvar AttributeTransitionManager = function () {\n  function AttributeTransitionManager(gl, _ref) {\n    var id = _ref.id,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, AttributeTransitionManager);\n\n    this.id = id;\n    this.gl = gl;\n    this.timeline = timeline;\n    this.transitions = {};\n    this.needsRedraw = false;\n    this.numInstances = 1;\n\n    if (Transform.isSupported(gl)) {\n      this.isSupported = true;\n    } else if (gl) {\n      log.warn('WebGL2 not supported by this browser. Transition animation is disabled.')();\n    }\n  }\n\n  _createClass(AttributeTransitionManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var attributeName in this.transitions) {\n        this._removeTransition(attributeName);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref2) {\n      var attributes = _ref2.attributes,\n          _ref2$transitions = _ref2.transitions,\n          transitions = _ref2$transitions === void 0 ? {} : _ref2$transitions,\n          numInstances = _ref2.numInstances;\n      this.numInstances = numInstances || 1;\n\n      if (!this.isSupported) {\n        return;\n      }\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        var settings = attribute.getTransitionSetting(transitions);\n        if (!settings) continue;\n\n        this._updateAttribute(attributeName, attribute, settings);\n      }\n\n      for (var _attributeName in this.transitions) {\n        var _attribute = attributes[_attributeName];\n\n        if (!_attribute || !_attribute.getTransitionSetting(transitions)) {\n          this._removeTransition(_attributeName);\n        }\n      }\n    }\n  }, {\n    key: \"hasAttribute\",\n    value: function hasAttribute(attributeName) {\n      var transition = this.transitions[attributeName];\n      return transition && transition.inProgress;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      var animatedAttributes = {};\n\n      for (var attributeName in this.transitions) {\n        var transition = this.transitions[attributeName];\n\n        if (transition.inProgress) {\n          animatedAttributes[attributeName] = transition.attributeInTransition;\n        }\n      }\n\n      return animatedAttributes;\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      if (!this.isSupported || this.numInstances === 0) {\n        return false;\n      }\n\n      for (var attributeName in this.transitions) {\n        var updated = this.transitions[attributeName].update();\n\n        if (updated) {\n          this.needsRedraw = true;\n        }\n      }\n\n      var needsRedraw = this.needsRedraw;\n      this.needsRedraw = false;\n      return needsRedraw;\n    }\n  }, {\n    key: \"_removeTransition\",\n    value: function _removeTransition(attributeName) {\n      this.transitions[attributeName].cancel();\n      delete this.transitions[attributeName];\n    }\n  }, {\n    key: \"_updateAttribute\",\n    value: function _updateAttribute(attributeName, attribute, settings) {\n      var transition = this.transitions[attributeName];\n      var isNew = !transition || transition.type !== settings.type;\n\n      if (isNew) {\n        if (transition) {\n          this._removeTransition(attributeName);\n        }\n\n        var TransitionType = TRANSITION_TYPES[settings.type];\n\n        if (TransitionType) {\n          this.transitions[attributeName] = new TransitionType({\n            attribute: attribute,\n            timeline: this.timeline,\n            gl: this.gl\n          });\n        } else {\n          log.error(\"unsupported transition type '\".concat(settings.type, \"'\"))();\n          isNew = false;\n        }\n      }\n\n      if (isNew || attribute.needsRedraw()) {\n        this.needsRedraw = true;\n        this.transitions[attributeName].start(settings, this.numInstances);\n      }\n    }\n  }]);\n\n  return AttributeTransitionManager;\n}();\n\nexport { AttributeTransitionManager as default };","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Attribute from './attribute';\nimport log from '../../utils/log';\nimport debug from '../../debug';\nimport AttributeTransitionManager from './attribute-transition-manager';\nvar TRACE_INVALIDATE = 'attributeManager.invalidate';\nvar TRACE_UPDATE_START = 'attributeManager.updateStart';\nvar TRACE_UPDATE_END = 'attributeManager.updateEnd';\nvar TRACE_ATTRIBUTE_UPDATE_START = 'attribute.updateStart';\nvar TRACE_ATTRIBUTE_ALLOCATE = 'attribute.allocate';\nvar TRACE_ATTRIBUTE_UPDATE_END = 'attribute.updateEnd';\n\nvar AttributeManager = function () {\n  function AttributeManager(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$id = _ref.id,\n        id = _ref$id === void 0 ? 'attribute-manager' : _ref$id,\n        stats = _ref.stats,\n        timeline = _ref.timeline;\n\n    _classCallCheck(this, AttributeManager);\n\n    this.id = id;\n    this.gl = gl;\n    this.attributes = {};\n    this.updateTriggers = {};\n    this.accessors = {};\n    this.needsRedraw = true;\n    this.userData = {};\n    this.stats = stats;\n    this.attributeTransitionManager = new AttributeTransitionManager(gl, {\n      id: \"\".concat(id, \"-transitions\"),\n      timeline: timeline\n    });\n    Object.seal(this);\n  }\n\n  _createClass(AttributeManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var attributeName in this.attributes) {\n        this.attributes[attributeName][\"delete\"]();\n      }\n\n      this.attributeTransitionManager.finalize();\n    }\n  }, {\n    key: \"getNeedsRedraw\",\n    value: function getNeedsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this.needsRedraw;\n      this.needsRedraw = this.needsRedraw && !opts.clearRedrawFlags;\n      return redraw && this.id;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var redraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.needsRedraw = true;\n      return this;\n    }\n  }, {\n    key: \"add\",\n    value: function add(attributes, updaters) {\n      this._add(attributes, updaters);\n    }\n  }, {\n    key: \"addInstanced\",\n    value: function addInstanced(attributes, updaters) {\n      this._add(attributes, updaters, {\n        instanced: 1\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(attributeNameArray) {\n      for (var i = 0; i < attributeNameArray.length; i++) {\n        var name = attributeNameArray[i];\n\n        if (this.attributes[name] !== undefined) {\n          this.attributes[name][\"delete\"]();\n          delete this.attributes[name];\n        }\n      }\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate(triggerName, dataRange) {\n      var invalidatedAttributes = this._invalidateTrigger(triggerName, dataRange);\n\n      debug(TRACE_INVALIDATE, this, triggerName, invalidatedAttributes);\n    }\n  }, {\n    key: \"invalidateAll\",\n    value: function invalidateAll(dataRange) {\n      for (var attributeName in this.attributes) {\n        this.attributes[attributeName].setNeedsUpdate(attributeName, dataRange);\n      }\n\n      debug(TRACE_INVALIDATE, this, 'all');\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          data = _ref2.data,\n          numInstances = _ref2.numInstances,\n          _ref2$startIndices = _ref2.startIndices,\n          startIndices = _ref2$startIndices === void 0 ? null : _ref2$startIndices,\n          transitions = _ref2.transitions,\n          _ref2$props = _ref2.props,\n          props = _ref2$props === void 0 ? {} : _ref2$props,\n          _ref2$buffers = _ref2.buffers,\n          buffers = _ref2$buffers === void 0 ? {} : _ref2$buffers,\n          _ref2$context = _ref2.context,\n          context = _ref2$context === void 0 ? {} : _ref2$context;\n\n      var updated = false;\n      debug(TRACE_UPDATE_START, this);\n\n      if (this.stats) {\n        this.stats.get('Update Attributes').timeStart();\n      }\n\n      for (var attributeName in this.attributes) {\n        var attribute = this.attributes[attributeName];\n        var accessorName = attribute.settings.accessor;\n        attribute.startIndices = startIndices;\n\n        if (props[attributeName]) {\n          log.removed(\"props.\".concat(attributeName), \"data.attributes.\".concat(attributeName))();\n        }\n\n        if (attribute.setExternalBuffer(buffers[attributeName])) {} else if (attribute.setBinaryValue(buffers[accessorName], data.startIndices)) {} else if (!buffers[accessorName] && attribute.setConstantValue(props[accessorName])) {} else if (attribute.needsUpdate()) {\n          updated = true;\n\n          this._updateAttribute({\n            attribute: attribute,\n            numInstances: numInstances,\n            data: data,\n            props: props,\n            context: context\n          });\n        }\n\n        this.needsRedraw |= attribute.needsRedraw();\n      }\n\n      if (updated) {\n        debug(TRACE_UPDATE_END, this, numInstances);\n      }\n\n      if (this.stats) {\n        this.stats.get('Update Attributes').timeEnd();\n      }\n\n      this.attributeTransitionManager.update({\n        attributes: this.attributes,\n        numInstances: numInstances,\n        transitions: transitions\n      });\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      var attributeTransitionManager = this.attributeTransitionManager;\n      var transitionUpdated = attributeTransitionManager.run();\n      this.needsRedraw = this.needsRedraw || transitionUpdated;\n      return transitionUpdated;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.attributes;\n    }\n  }, {\n    key: \"getChangedAttributes\",\n    value: function getChangedAttributes() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearChangedFlags: false\n      };\n      var attributes = this.attributes,\n          attributeTransitionManager = this.attributeTransitionManager;\n      var changedAttributes = Object.assign({}, attributeTransitionManager.getAttributes());\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n\n        if (attribute.needsRedraw(opts) && !attributeTransitionManager.hasAttribute(attributeName)) {\n          changedAttributes[attributeName] = attribute;\n        }\n      }\n\n      return changedAttributes;\n    }\n  }, {\n    key: \"getShaderAttributes\",\n    value: function getShaderAttributes(attributes) {\n      var excludeAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!attributes) {\n        attributes = this.getAttributes();\n      }\n\n      var shaderAttributes = {};\n\n      for (var attributeName in attributes) {\n        if (!excludeAttributes[attributeName]) {\n          Object.assign(shaderAttributes, attributes[attributeName].getShaderAttributes());\n        }\n      }\n\n      return shaderAttributes;\n    }\n  }, {\n    key: \"getAccessors\",\n    value: function getAccessors() {\n      return this.updateTriggers;\n    }\n  }, {\n    key: \"_add\",\n    value: function _add(attributes, updaters) {\n      var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (updaters) {\n        log.warn('AttributeManager.add({updaters}) - updater map no longer supported')();\n      }\n\n      var newAttributes = {};\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n\n        var newAttribute = this._createAttribute(attributeName, attribute, extraProps);\n\n        newAttributes[attributeName] = newAttribute;\n      }\n\n      Object.assign(this.attributes, newAttributes);\n\n      this._mapUpdateTriggersToAttributes();\n    }\n  }, {\n    key: \"_createAttribute\",\n    value: function _createAttribute(name, attribute, extraProps) {\n      var props = {\n        id: name,\n        constant: attribute.constant || false,\n        isIndexed: attribute.isIndexed || attribute.elements,\n        size: attribute.elements && 1 || attribute.size,\n        value: attribute.value || null,\n        divisor: attribute.instanced || extraProps.instanced ? 1 : attribute.divisor\n      };\n      return new Attribute(this.gl, Object.assign({}, attribute, props));\n    }\n  }, {\n    key: \"_mapUpdateTriggersToAttributes\",\n    value: function _mapUpdateTriggersToAttributes() {\n      var _this = this;\n\n      var triggers = {};\n\n      var _loop = function _loop(attributeName) {\n        var attribute = _this.attributes[attributeName];\n        attribute.getUpdateTriggers().forEach(function (triggerName) {\n          if (!triggers[triggerName]) {\n            triggers[triggerName] = [];\n          }\n\n          triggers[triggerName].push(attributeName);\n        });\n      };\n\n      for (var attributeName in this.attributes) {\n        _loop(attributeName);\n      }\n\n      this.updateTriggers = triggers;\n    }\n  }, {\n    key: \"_invalidateTrigger\",\n    value: function _invalidateTrigger(triggerName, dataRange) {\n      var attributes = this.attributes,\n          updateTriggers = this.updateTriggers;\n      var invalidatedAttributes = updateTriggers[triggerName];\n\n      if (invalidatedAttributes) {\n        invalidatedAttributes.forEach(function (name) {\n          var attribute = attributes[name];\n\n          if (attribute) {\n            attribute.setNeedsUpdate(attribute.id, dataRange);\n          }\n        });\n      }\n\n      return invalidatedAttributes;\n    }\n  }, {\n    key: \"_updateAttribute\",\n    value: function _updateAttribute(opts) {\n      var attribute = opts.attribute,\n          numInstances = opts.numInstances;\n      debug(TRACE_ATTRIBUTE_UPDATE_START, attribute);\n\n      if (attribute.allocate(numInstances)) {\n        debug(TRACE_ATTRIBUTE_ALLOCATE, attribute, numInstances);\n      }\n\n      var updated = attribute.updateBuffer(opts);\n\n      if (updated) {\n        this.needsRedraw = true;\n        debug(TRACE_ATTRIBUTE_UPDATE_END, attribute, numInstances);\n      }\n    }\n  }]);\n\n  return AttributeManager;\n}();\n\nexport { AttributeManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { lerp } from 'math.gl';\nimport Transition from './transition';\n\nvar CPUInterpolationTransition = function (_Transition) {\n  _inherits(CPUInterpolationTransition, _Transition);\n\n  function CPUInterpolationTransition() {\n    _classCallCheck(this, CPUInterpolationTransition);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CPUInterpolationTransition).apply(this, arguments));\n  }\n\n  _createClass(CPUInterpolationTransition, [{\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      var time = this.time,\n          _this$settings = this.settings,\n          fromValue = _this$settings.fromValue,\n          toValue = _this$settings.toValue,\n          duration = _this$settings.duration,\n          easing = _this$settings.easing;\n      var t = easing(time / duration);\n      this._value = lerp(fromValue, toValue, t);\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }]);\n\n  return CPUInterpolationTransition;\n}(Transition);\n\nexport { CPUInterpolationTransition as default };","import \"core-js/modules/es6.array.is-array\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Transition from './transition';\nvar EPSILON = 1e-5;\n\nfunction updateSpringElement(prev, cur, dest, damping, stiffness) {\n  var velocity = cur - prev;\n  var delta = dest - cur;\n  var spring = delta * stiffness;\n  var damper = -velocity * damping;\n  return spring + damper + velocity + cur;\n}\n\nfunction updateSpring(prev, cur, dest, damping, stiffness) {\n  if (Array.isArray(dest)) {\n    var next = [];\n\n    for (var i = 0; i < dest.length; i++) {\n      next[i] = updateSpringElement(prev[i], cur[i], dest[i], damping, stiffness);\n    }\n\n    return next;\n  }\n\n  return updateSpringElement(prev, cur, dest, damping, stiffness);\n}\n\nfunction distance(value1, value2) {\n  if (Array.isArray(value1)) {\n    var distanceSquare = 0;\n\n    for (var i = 0; i < value1.length; i++) {\n      var d = value1[i] - value2[i];\n      distanceSquare += d * d;\n    }\n\n    return Math.sqrt(distanceSquare);\n  }\n\n  return Math.abs(value1 - value2);\n}\n\nvar CPUSpringTransition = function (_Transition) {\n  _inherits(CPUSpringTransition, _Transition);\n\n  function CPUSpringTransition() {\n    _classCallCheck(this, CPUSpringTransition);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CPUSpringTransition).apply(this, arguments));\n  }\n\n  _createClass(CPUSpringTransition, [{\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      var _this$settings = this.settings,\n          fromValue = _this$settings.fromValue,\n          toValue = _this$settings.toValue,\n          damping = _this$settings.damping,\n          stiffness = _this$settings.stiffness;\n\n      var _this$_prevValue = this._prevValue,\n          _prevValue = _this$_prevValue === void 0 ? fromValue : _this$_prevValue,\n          _this$_currValue = this._currValue,\n          _currValue = _this$_currValue === void 0 ? fromValue : _this$_currValue;\n\n      var nextValue = updateSpring(_prevValue, _currValue, toValue, damping, stiffness);\n      var delta = distance(nextValue, toValue);\n      var velocity = distance(nextValue, _currValue);\n\n      if (delta < EPSILON && velocity < EPSILON) {\n        nextValue = toValue;\n        this.end();\n      }\n\n      this._prevValue = _currValue;\n      this._currValue = nextValue;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._currValue;\n    }\n  }]);\n\n  return CPUSpringTransition;\n}(Transition);\n\nexport { CPUSpringTransition as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { normalizeTransitionSettings } from './attribute/attribute-transition-utils';\nimport CPUInterpolationTransition from '../transitions/cpu-interpolation-transition';\nimport CPUSpringTransition from '../transitions/cpu-spring-transition';\nimport log from '../utils/log';\nvar TRANSITION_TYPES = {\n  interpolation: CPUInterpolationTransition,\n  spring: CPUSpringTransition\n};\n\nvar UniformTransitionManager = function () {\n  function UniformTransitionManager(timeline) {\n    _classCallCheck(this, UniformTransitionManager);\n\n    this.transitions = new Map();\n    this.timeline = timeline;\n  }\n\n  _createClass(UniformTransitionManager, [{\n    key: \"add\",\n    value: function add(key, fromValue, toValue, settings) {\n      var transitions = this.transitions;\n\n      if (transitions.has(key)) {\n        var _transition = transitions.get(key);\n\n        fromValue = _transition.value;\n        this.remove(key);\n      }\n\n      settings = normalizeTransitionSettings(settings);\n\n      if (!settings) {\n        return;\n      }\n\n      var TransitionType = TRANSITION_TYPES[settings.type];\n\n      if (!TransitionType) {\n        log.error(\"unsupported transition type '\".concat(settings.type, \"'\"))();\n        return;\n      }\n\n      var transition = new TransitionType(this.timeline);\n      transition.start(_objectSpread({}, settings, {\n        fromValue: fromValue,\n        toValue: toValue\n      }));\n      transitions.set(key, transition);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(key) {\n      var transitions = this.transitions;\n\n      if (transitions.has(key)) {\n        transitions.get(key).cancel();\n        transitions[\"delete\"](key);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var propsInTransition = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.transitions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              transition = _step$value[1];\n\n          transition.update();\n          propsInTransition[key] = transition.value;\n\n          if (!transition.inProgress) {\n            this.remove(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return propsInTransition;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.transitions.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n          this.remove(key);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"active\",\n    get: function get() {\n      return this.transitions.size > 0;\n    }\n  }]);\n\n  return UniformTransitionManager;\n}();\n\nexport { UniformTransitionManager as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nexport var LIFECYCLE = {\n  NO_STATE: 'Awaiting state',\n  MATCHED: 'Matched. State transferred from previous layer',\n  INITIALIZED: 'Initialized',\n  AWAITING_GC: 'Discarded. Awaiting garbage collection',\n  AWAITING_FINALIZATION: 'No longer matched. Awaiting garbage collection',\n  FINALIZED: 'Finalized! Awaiting garbage collection'\n};\nexport var PROP_SYMBOLS = {\n  COMPONENT: Symbol[\"for\"]('component'),\n  ASYNC_DEFAULTS: Symbol[\"for\"]('asyncPropDefaults'),\n  ASYNC_ORIGINAL: Symbol[\"for\"]('asyncPropOriginal'),\n  ASYNC_RESOLVED: Symbol[\"for\"]('asyncPropResolved')\n};","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { PROP_SYMBOLS } from './constants';\nvar COMPONENT = PROP_SYMBOLS.COMPONENT;\nexport function validateProps(props) {\n  var propTypes = getPropTypes(props);\n\n  for (var propName in propTypes) {\n    var propType = propTypes[propName];\n    var validate = propType.validate;\n\n    if (validate && !validate(props[propName], propType)) {\n      throw new Error(\"Invalid prop \".concat(propName, \": \").concat(props[propName]));\n    }\n  }\n}\nexport function diffProps(props, oldProps) {\n  var propsChangedReason = compareProps({\n    newProps: props,\n    oldProps: oldProps,\n    propTypes: getPropTypes(props),\n    ignoreProps: {\n      data: null,\n      updateTriggers: null,\n      extensions: null,\n      transitions: null\n    }\n  });\n  var dataChangedReason = diffDataProps(props, oldProps);\n  var updateTriggersChangedReason = false;\n\n  if (!dataChangedReason) {\n    updateTriggersChangedReason = diffUpdateTriggers(props, oldProps);\n  }\n\n  return {\n    dataChanged: dataChangedReason,\n    propsChanged: propsChangedReason,\n    updateTriggersChanged: updateTriggersChangedReason,\n    extensionsChanged: diffExtensions(props, oldProps),\n    transitionsChanged: diffTransitions(props, oldProps)\n  };\n}\n\nfunction diffTransitions(props, oldProps) {\n  if (!props.transitions) {\n    return null;\n  }\n\n  var result = {};\n  var propTypes = getPropTypes(props);\n\n  for (var key in props.transitions) {\n    var propType = propTypes[key];\n    var type = propType && propType.type;\n    var isTransitionable = type === 'number' || type === 'color' || type === 'array';\n\n    if (isTransitionable && comparePropValues(props[key], oldProps[key], propType)) {\n      result[key] = true;\n    }\n  }\n\n  return result;\n}\n\nexport function compareProps() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      newProps = _ref.newProps,\n      oldProps = _ref.oldProps,\n      _ref$ignoreProps = _ref.ignoreProps,\n      ignoreProps = _ref$ignoreProps === void 0 ? {} : _ref$ignoreProps,\n      _ref$propTypes = _ref.propTypes,\n      propTypes = _ref$propTypes === void 0 ? {} : _ref$propTypes,\n      _ref$triggerName = _ref.triggerName,\n      triggerName = _ref$triggerName === void 0 ? 'props' : _ref$triggerName;\n\n  if (oldProps === newProps) {\n    return null;\n  }\n\n  if (_typeof(newProps) !== 'object' || newProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  if (_typeof(oldProps) !== 'object' || oldProps === null) {\n    return \"\".concat(triggerName, \" changed shallowly\");\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(newProps); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in ignoreProps)) {\n      if (!(key in oldProps)) {\n        return \"\".concat(triggerName, \".\").concat(key, \" added\");\n      }\n\n      var changed = comparePropValues(newProps[key], oldProps[key], propTypes[key]);\n\n      if (changed) {\n        return \"\".concat(triggerName, \".\").concat(key, \" \").concat(changed);\n      }\n    }\n  }\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(oldProps); _i2 < _Object$keys2.length; _i2++) {\n    var _key = _Object$keys2[_i2];\n\n    if (!(_key in ignoreProps)) {\n      if (!(_key in newProps)) {\n        return \"\".concat(triggerName, \".\").concat(_key, \" dropped\");\n      }\n\n      if (!Object.hasOwnProperty.call(newProps, _key)) {\n        var _changed = comparePropValues(newProps[_key], oldProps[_key], propTypes[_key]);\n\n        if (_changed) {\n          return \"\".concat(triggerName, \".\").concat(_key, \" \").concat(_changed);\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction comparePropValues(newProp, oldProp, propType) {\n  var equal = propType && propType.equal;\n\n  if (equal && !equal(newProp, oldProp, propType)) {\n    return 'changed deeply';\n  }\n\n  if (!equal) {\n    equal = newProp && oldProp && newProp.equals;\n\n    if (equal && !equal.call(newProp, oldProp)) {\n      return 'changed deeply';\n    }\n  }\n\n  if (!equal && oldProp !== newProp) {\n    return 'changed shallowly';\n  }\n\n  return null;\n}\n\nfunction diffDataProps(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var dataChanged = null;\n  var dataComparator = props.dataComparator,\n      _dataDiff = props._dataDiff;\n\n  if (dataComparator) {\n    if (!dataComparator(props.data, oldProps.data)) {\n      dataChanged = 'Data comparator detected a change';\n    }\n  } else if (props.data !== oldProps.data) {\n    dataChanged = 'A new data container was supplied';\n  }\n\n  if (dataChanged && _dataDiff) {\n    dataChanged = _dataDiff(props.data, oldProps.data) || dataChanged;\n  }\n\n  return dataChanged;\n}\n\nfunction diffUpdateTriggers(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  if ('all' in props.updateTriggers) {\n    var diffReason = diffUpdateTrigger(props, oldProps, 'all');\n\n    if (diffReason) {\n      return {\n        all: true\n      };\n    }\n  }\n\n  var triggerChanged = {};\n  var reason = false;\n\n  for (var triggerName in props.updateTriggers) {\n    if (triggerName !== 'all') {\n      var _diffReason = diffUpdateTrigger(props, oldProps, triggerName);\n\n      if (_diffReason) {\n        triggerChanged[triggerName] = true;\n        reason = triggerChanged;\n      }\n    }\n  }\n\n  return reason;\n}\n\nfunction diffExtensions(props, oldProps) {\n  if (oldProps === null) {\n    return 'oldProps is null, initial diff';\n  }\n\n  var oldExtensions = oldProps.extensions;\n  var extensions = props.extensions;\n\n  if (extensions === oldExtensions) {\n    return false;\n  }\n\n  if (extensions.length !== oldExtensions.length) {\n    return true;\n  }\n\n  for (var i = 0; i < extensions.length; i++) {\n    if (!extensions[i].equals(oldExtensions[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction diffUpdateTrigger(props, oldProps, triggerName) {\n  var newTriggers = props.updateTriggers[triggerName];\n  newTriggers = newTriggers === undefined || newTriggers === null ? {} : newTriggers;\n  var oldTriggers = oldProps.updateTriggers[triggerName];\n  oldTriggers = oldTriggers === undefined || oldTriggers === null ? {} : oldTriggers;\n  var diffReason = compareProps({\n    oldProps: oldTriggers,\n    newProps: newTriggers,\n    triggerName: triggerName\n  });\n  return diffReason;\n}\n\nfunction getPropTypes(props) {\n  var layer = props[COMPONENT];\n  var LayerType = layer && layer.constructor;\n  return LayerType ? LayerType._propTypes : {};\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar ERR_NOT_OBJECT = 'count(): argument not an object';\nvar ERR_NOT_CONTAINER = 'count(): argument not a container';\nexport function count(container) {\n  if (!isObject(container)) {\n    throw new Error(ERR_NOT_OBJECT);\n  }\n\n  if (typeof container.count === 'function') {\n    return container.count();\n  }\n\n  if (Number.isFinite(container.size)) {\n    return container.size;\n  }\n\n  if (Number.isFinite(container.length)) {\n    return container.length;\n  }\n\n  if (isPlainObject(container)) {\n    return Object.keys(container).length;\n  }\n\n  throw new Error(ERR_NOT_CONTAINER);\n}\n\nfunction isPlainObject(value) {\n  return value !== null && _typeof(value) === 'object' && value.constructor === Object;\n}\n\nfunction isObject(value) {\n  return value !== null && _typeof(value) === 'object';\n}","import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nexport function mergeShaders(target, source) {\n  if (!source) {\n    return target;\n  }\n\n  var result = Object.assign({}, target, source);\n\n  if ('defines' in source) {\n    result.defines = Object.assign({}, target.defines, source.defines);\n  }\n\n  if ('modules' in source) {\n    result.modules = (target.modules || []).concat(source.modules);\n\n    if (source.modules.some(function (module) {\n      return module.name === 'project64';\n    })) {\n      var index = result.modules.findIndex(function (module) {\n        return module.name === 'project32';\n      });\n\n      if (index >= 0) {\n        result.modules.splice(index, 1);\n      }\n    }\n  }\n\n  if ('inject' in source) {\n    if (!target.inject) {\n      result.inject = source.inject;\n    } else {\n      var mergedInjection = _objectSpread({}, target.inject);\n\n      for (var key in source.inject) {\n        mergedInjection[key] = (mergedInjection[key] || '') + source.inject[key];\n      }\n\n      result.inject = mergedInjection;\n    }\n  }\n\n  return result;\n}","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.math.log2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMat4, transformVector } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return Math.log2(scale);\n}\nexport function lngLatToWorld(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n      lng = _ref2[0],\n      lat = _ref2[1];\n\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n      x = _ref4[0],\n      y = _ref4[1];\n\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n      longitude = _ref6.longitude,\n      _ref6$highPrecision = _ref6.highPrecision,\n      highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      z0 = _lngLatZ[2];\n\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var _getDistanceScales = getDistanceScales({\n    longitude: longitude,\n    latitude: latitude,\n    highPrecision: true\n  }),\n      unitsPerMeter = _getDistanceScales.unitsPerMeter,\n      unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n      pitch = _ref7.pitch,\n      bearing = _ref7.bearing,\n      altitude = _ref7.altitude,\n      scale = _ref7.scale,\n      _ref7$center = _ref7.center,\n      center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n      height = _ref8.height,\n      _ref8$altitude = _ref8.altitude,\n      altitude = _ref8$altitude === void 0 ? DEFAULT_ALTITUDE : _ref8$altitude,\n      _ref8$pitch = _ref8.pitch,\n      pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n      _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n      nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n      _ref8$farZMultiplier = _ref8.farZMultiplier,\n      farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var halfFov = Math.atan(0.5 / altitude);\n  var topHalfSurfaceDistance = Math.sin(halfFov) * altitude / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + altitude;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: altitude,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n      height = _ref9.height,\n      pitch = _ref9.pitch,\n      altitude = _ref9.altitude,\n      nearZMultiplier = _ref9.nearZMultiplier,\n      farZMultiplier = _ref9.farZMultiplier;\n\n  var _getProjectionParamet = getProjectionParameters({\n    width: width,\n    height: height,\n    altitude: altitude,\n    pitch: pitch,\n    nearZMultiplier: nearZMultiplier,\n    farZMultiplier: farZMultiplier\n  }),\n      fov = _getProjectionParamet.fov,\n      aspect = _getProjectionParamet.aspect,\n      near = _getProjectionParamet.near,\n      far = _getProjectionParamet.far;\n\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n      x = _xyz2[0],\n      y = _xyz2[1],\n      _xyz2$ = _xyz2[2],\n      z = _xyz2$ === void 0 ? 0 : _xyz2$;\n\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  var _xyz3 = _slicedToArray(xyz, 3),\n      x = _xyz3[0],\n      y = _xyz3[1],\n      z = _xyz3[2];\n\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.bind\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { worldToPixels, pixelsToWorld } from './web-mercator-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nvar IDENTITY = createMat4();\n\nvar Viewport = function () {\n  function Viewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        width = _ref.width,\n        height = _ref.height,\n        scale = _ref.scale,\n        _ref$viewMatrix = _ref.viewMatrix,\n        viewMatrix = _ref$viewMatrix === void 0 ? IDENTITY : _ref$viewMatrix,\n        _ref$projectionMatrix = _ref.projectionMatrix,\n        projectionMatrix = _ref$projectionMatrix === void 0 ? IDENTITY : _ref$projectionMatrix;\n\n    _classCallCheck(this, Viewport);\n\n    this.width = width || 1;\n    this.height = height || 1;\n    this.scale = scale;\n    this.unitsPerMeter = 1;\n    this.viewMatrix = viewMatrix;\n    this.projectionMatrix = projectionMatrix;\n    var vpm = createMat4();\n    mat4.multiply(vpm, vpm, this.projectionMatrix);\n    mat4.multiply(vpm, vpm, this.viewMatrix);\n    this.viewProjectionMatrix = vpm;\n    var m = createMat4();\n    mat4.scale(m, m, [this.width / 2, -this.height / 2, 1]);\n    mat4.translate(m, m, [1, -1, 0]);\n    mat4.multiply(m, m, this.viewProjectionMatrix);\n    var mInverse = mat4.invert(createMat4(), m);\n\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  _createClass(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref3$topLeft = _ref3.topLeft,\n          topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n          targetZ = _ref3.targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.unitsPerMeter;\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.unitsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) / this.unitsPerMeter;\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scale;\n      return xyz;\n    }\n  }]);\n\n  return Viewport;\n}();\n\nexport { Viewport as default };","import \"core-js/modules/es6.math.log2\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      bounds = _ref.bounds,\n      _ref$minExtent = _ref.minExtent,\n      minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n\n  var _bounds = _slicedToArray(bounds, 2),\n      _bounds$ = _slicedToArray(_bounds[0], 2),\n      west = _bounds$[0],\n      south = _bounds$[1],\n      _bounds$2 = _slicedToArray(_bounds[1], 2),\n      east = _bounds$2[0],\n      north = _bounds$2[1];\n\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + Math.log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.freeze\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Viewport from './viewport';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport * as vec2 from 'gl-matrix/vec2';\n\nvar WebMercatorViewport = function (_Viewport) {\n  _inherits(WebMercatorViewport, _Viewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        width = _ref.width,\n        height = _ref.height,\n        _ref$latitude = _ref.latitude,\n        latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n        _ref$longitude = _ref.longitude,\n        longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n        _ref$zoom = _ref.zoom,\n        zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude,\n        _ref$nearZMultiplier = _ref.nearZMultiplier,\n        nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n        _ref$farZMultiplier = _ref.farZMultiplier,\n        farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    width = width || 1;\n    height = height || 1;\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n    var projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    var viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WebMercatorViewport).call(this, {\n      width: width,\n      height: height,\n      scale: scale,\n      viewMatrix: viewMatrix,\n      projectionMatrix: projectionMatrix\n    }));\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.center = center;\n    _this.unitsPerMeter = getDistanceScales(_assertThisInitialized(_this)).unitsPerMeter[2];\n    Object.freeze(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref2) {\n      var lngLat = _ref2.lngLat,\n          pos = _ref2.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter, this.scale);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref3) {\n      var lngLat = _ref3.lngLat,\n          pos = _ref3.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }]);\n\n  return WebMercatorViewport;\n}(Viewport);\n\nexport { WebMercatorViewport as default };","import \"core-js/modules/es6.math.log2\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport { mod } from './math-utils';\nvar MAX_LATITUDE = 85.05113;\nvar MIN_LATITUDE = -85.05113;\nexport default function normalizeViewportProps(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      longitude = _ref.longitude,\n      latitude = _ref.latitude,\n      zoom = _ref.zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n\n  var flatViewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n  var bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  var shiftY = 0;\n\n  if (bottomY - topY < height) {\n    zoom += Math.log2(height / (bottomY - topY));\n    flatViewport = new WebMercatorViewport({\n      width: width,\n      height: height,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom\n    });\n    topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n    bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  }\n\n  if (topY > 0) {\n    shiftY = topY;\n  } else if (bottomY < height) {\n    shiftY = bottomY - height;\n  }\n\n  if (shiftY) {\n    latitude = flatViewport.unproject([width / 2, height / 2 + shiftY])[1];\n  }\n\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.math.sinh\";\nimport \"core-js/modules/es6.math.tanh\";\nimport \"core-js/modules/es6.math.cosh\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { lerp } from './math-utils';\nimport { scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nexport default function flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n      startZoom = _getFlyToTransitionPa.startZoom,\n      startCenterXY = _getFlyToTransitionPa.startCenterXY,\n      uDelta = _getFlyToTransitionPa.uDelta,\n      w0 = _getFlyToTransitionPa.w0,\n      u1 = _getFlyToTransitionPa.u1,\n      S = _getFlyToTransitionPa.S,\n      rho = _getFlyToTransitionPa.rho,\n      rho2 = _getFlyToTransitionPa.rho2,\n      r0 = _getFlyToTransitionPa.r0;\n\n  if (u1 < EPSILON) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = VIEWPORT_TRANSITION_PROPS[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return viewport;\n  }\n\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nexport function getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n      screenSpeed = _opts.screenSpeed,\n      speed = _opts.speed,\n      maxDuration = _opts.maxDuration;\n\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n      S = _getFlyToTransitionPa2.S,\n      rho = _getFlyToTransitionPa2.rho;\n\n  var length = 1000 * S;\n  var duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2.sub([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2.length(uDelta) * startScale;\n\n  var _u1 = Math.max(u1, EPSILON);\n\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}","import \"core-js/modules/es6.object.assign\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { COORDINATE_SYSTEM } from '../../lib/constants';\nimport { getOffsetOrigin } from './viewport-uniforms';\nimport * as vec4 from 'gl-matrix/vec4';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { addMetersToLngLat } from '@math.gl/web-mercator';\n\nfunction lngLatZToWorldPosition(lngLatZ, viewport) {\n  var offsetMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n      longitude = _lngLatZ[0],\n      latitude = _lngLatZ[1],\n      _lngLatZ$ = _lngLatZ[2],\n      z = _lngLatZ$ === void 0 ? 0 : _lngLatZ$;\n\n  var _viewport$projectFlat = viewport.projectFlat(lngLatZ),\n      _viewport$projectFlat2 = _slicedToArray(_viewport$projectFlat, 2),\n      X = _viewport$projectFlat2[0],\n      Y = _viewport$projectFlat2[1];\n\n  var distanceScales = viewport.getDistanceScales(offsetMode && [longitude, latitude]);\n  var Z = z * distanceScales.unitsPerMeter[2];\n  return [X, Y, Z];\n}\n\nfunction normalizeParameters(opts) {\n  var normalizedParams = Object.assign({}, opts);\n  var coordinateSystem = opts.coordinateSystem;\n  var viewport = opts.viewport,\n      coordinateOrigin = opts.coordinateOrigin,\n      fromCoordinateSystem = opts.fromCoordinateSystem,\n      fromCoordinateOrigin = opts.fromCoordinateOrigin;\n\n  if (coordinateSystem === COORDINATE_SYSTEM.DEFAULT) {\n    coordinateSystem = viewport.isGeospatial ? COORDINATE_SYSTEM.LNGLAT : COORDINATE_SYSTEM.CARTESIAN;\n  }\n\n  if (fromCoordinateSystem === undefined) {\n    normalizedParams.fromCoordinateSystem = coordinateSystem;\n  }\n\n  if (fromCoordinateOrigin === undefined) {\n    normalizedParams.fromCoordinateOrigin = coordinateOrigin;\n  }\n\n  normalizedParams.coordinateSystem = coordinateSystem;\n  return normalizedParams;\n}\n\nexport function getWorldPosition(position, _ref) {\n  var viewport = _ref.viewport,\n      modelMatrix = _ref.modelMatrix,\n      coordinateSystem = _ref.coordinateSystem,\n      coordinateOrigin = _ref.coordinateOrigin,\n      offsetMode = _ref.offsetMode;\n\n  var _position = _slicedToArray(position, 3),\n      x = _position[0],\n      y = _position[1],\n      z = _position[2];\n\n  if (modelMatrix) {\n    var _vec4$transformMat = vec4.transformMat4([], [x, y, z, 1.0], modelMatrix);\n\n    var _vec4$transformMat2 = _slicedToArray(_vec4$transformMat, 3);\n\n    x = _vec4$transformMat2[0];\n    y = _vec4$transformMat2[1];\n    z = _vec4$transformMat2[2];\n  }\n\n  switch (coordinateSystem) {\n    case COORDINATE_SYSTEM.LNGLAT:\n      return lngLatZToWorldPosition([x, y, z], viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.LNGLAT_OFFSETS:\n      return lngLatZToWorldPosition([x + coordinateOrigin[0], y + coordinateOrigin[1], z + (coordinateOrigin[2] || 0)], viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.METER_OFFSETS:\n      return lngLatZToWorldPosition(addMetersToLngLat(coordinateOrigin, [x, y, z]), viewport, offsetMode);\n\n    case COORDINATE_SYSTEM.CARTESIAN:\n    default:\n      return viewport.isGeospatial ? [x, y, z] : viewport.projectPosition([x, y, z]);\n  }\n}\nexport function projectPosition(position, params) {\n  var _normalizeParameters = normalizeParameters(params),\n      viewport = _normalizeParameters.viewport,\n      coordinateSystem = _normalizeParameters.coordinateSystem,\n      coordinateOrigin = _normalizeParameters.coordinateOrigin,\n      modelMatrix = _normalizeParameters.modelMatrix,\n      fromCoordinateSystem = _normalizeParameters.fromCoordinateSystem,\n      fromCoordinateOrigin = _normalizeParameters.fromCoordinateOrigin;\n\n  var _getOffsetOrigin = getOffsetOrigin(viewport, coordinateSystem, coordinateOrigin),\n      geospatialOrigin = _getOffsetOrigin.geospatialOrigin,\n      shaderCoordinateOrigin = _getOffsetOrigin.shaderCoordinateOrigin,\n      offsetMode = _getOffsetOrigin.offsetMode;\n\n  var worldPosition = getWorldPosition(position, {\n    viewport: viewport,\n    modelMatrix: modelMatrix,\n    coordinateSystem: fromCoordinateSystem,\n    coordinateOrigin: fromCoordinateOrigin,\n    offsetMode: offsetMode\n  });\n\n  if (offsetMode) {\n    var positionCommonSpace = viewport.projectPosition(geospatialOrigin || shaderCoordinateOrigin);\n    vec3.sub(worldPosition, worldPosition, positionCommonSpace);\n  }\n\n  return worldPosition;\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar TYPE_DEFINITIONS = {\n  \"boolean\": {\n    validate: function validate(value, propType) {\n      return true;\n    },\n    equal: function equal(value1, value2, propType) {\n      return Boolean(value1) === Boolean(value2);\n    }\n  },\n  number: {\n    validate: function validate(value, propType) {\n      return Number.isFinite(value) && (!('max' in propType) || value <= propType.max) && (!('min' in propType) || value >= propType.min);\n    }\n  },\n  color: {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || isArray(value) && (value.length === 3 || value.length === 4);\n    },\n    equal: function equal(value1, value2, propType) {\n      return arrayEqual(value1, value2);\n    }\n  },\n  accessor: {\n    validate: function validate(value, propType) {\n      var valueType = getTypeOf(value);\n      return valueType === 'function' || valueType === getTypeOf(propType.value);\n    },\n    equal: function equal(value1, value2, propType) {\n      if (typeof value2 === 'function') {\n        return true;\n      }\n\n      return arrayEqual(value1, value2);\n    }\n  },\n  array: {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || isArray(value);\n    },\n    equal: function equal(value1, value2, propType) {\n      return propType.compare ? arrayEqual(value1, value2) : value1 === value2;\n    }\n  },\n  \"function\": {\n    validate: function validate(value, propType) {\n      return propType.optional && !value || typeof value === 'function';\n    },\n    equal: function equal(value1, value2, propType) {\n      return !propType.compare || value1 === value2;\n    }\n  }\n};\n\nfunction arrayEqual(array1, array2) {\n  if (array1 === array2) {\n    return true;\n  }\n\n  if (!isArray(array1) || !isArray(array2)) {\n    return false;\n  }\n\n  var len = array1.length;\n\n  if (len !== array2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function parsePropTypes(propDefs) {\n  var propTypes = {};\n  var defaultProps = {};\n  var deprecatedProps = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(propDefs); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        propName = _Object$entries$_i[0],\n        propDef = _Object$entries$_i[1];\n\n    if (propDef && propDef.deprecatedFor) {\n      deprecatedProps[propName] = Array.isArray(propDef.deprecatedFor) ? propDef.deprecatedFor : [propDef.deprecatedFor];\n    } else {\n      var propType = parsePropType(propName, propDef);\n      propTypes[propName] = propType;\n      defaultProps[propName] = propType.value;\n    }\n  }\n\n  return {\n    propTypes: propTypes,\n    defaultProps: defaultProps,\n    deprecatedProps: deprecatedProps\n  };\n}\n\nfunction parsePropType(name, propDef) {\n  switch (getTypeOf(propDef)) {\n    case 'object':\n      return normalizePropDefinition(name, propDef);\n\n    case 'array':\n      return normalizePropDefinition(name, {\n        type: 'array',\n        value: propDef,\n        compare: false\n      });\n\n    case 'boolean':\n      return normalizePropDefinition(name, {\n        type: 'boolean',\n        value: propDef\n      });\n\n    case 'number':\n      return normalizePropDefinition(name, {\n        type: 'number',\n        value: propDef\n      });\n\n    case 'function':\n      return normalizePropDefinition(name, {\n        type: 'function',\n        value: propDef,\n        compare: true\n      });\n\n    default:\n      return {\n        name: name,\n        type: 'unknown',\n        value: propDef\n      };\n  }\n}\n\nfunction normalizePropDefinition(name, propDef) {\n  if (!('type' in propDef)) {\n    if (!('value' in propDef)) {\n      return {\n        name: name,\n        type: 'object',\n        value: propDef\n      };\n    }\n\n    return Object.assign({\n      name: name,\n      type: getTypeOf(propDef.value)\n    }, propDef);\n  }\n\n  return Object.assign({\n    name: name\n  }, TYPE_DEFINITIONS[propDef.type], propDef);\n}\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nfunction getTypeOf(value) {\n  if (isArray(value)) {\n    return 'array';\n  }\n\n  if (value === null) {\n    return 'null';\n  }\n\n  return _typeof(value);\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/es6.object.create\";\nimport log from '../utils/log';\nimport { isAsyncIterable } from '../utils/iterable-utils';\nimport { parsePropTypes } from './prop-types';\nimport { PROP_SYMBOLS } from './constants';\nvar COMPONENT = PROP_SYMBOLS.COMPONENT,\n    ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nexport function createProps() {\n  var component = this;\n  var propsPrototype = getPropsPrototype(component.constructor);\n  var propsInstance = Object.create(propsPrototype);\n  propsInstance[COMPONENT] = component;\n  propsInstance[ASYNC_ORIGINAL] = {};\n  propsInstance[ASYNC_RESOLVED] = {};\n\n  for (var i = 0; i < arguments.length; ++i) {\n    var props = arguments[i];\n\n    for (var key in props) {\n      propsInstance[key] = props[key];\n    }\n  }\n\n  Object.freeze(propsInstance);\n  return propsInstance;\n}\n\nfunction getPropsPrototype(componentClass) {\n  var defaultProps = getOwnProperty(componentClass, '_mergedDefaultProps');\n\n  if (!defaultProps) {\n    createPropsPrototypeAndTypes(componentClass);\n    return componentClass._mergedDefaultProps;\n  }\n\n  return defaultProps;\n}\n\nfunction createPropsPrototypeAndTypes(componentClass) {\n  var parent = componentClass.prototype;\n\n  if (!parent) {\n    return;\n  }\n\n  var parentClass = Object.getPrototypeOf(componentClass);\n  var parentDefaultProps = getPropsPrototype(parentClass);\n  var componentDefaultProps = getOwnProperty(componentClass, 'defaultProps') || {};\n  var componentPropDefs = parsePropTypes(componentDefaultProps);\n  var defaultProps = createPropsPrototype(componentPropDefs.defaultProps, parentDefaultProps, componentClass);\n  var propTypes = Object.assign({}, parentClass._propTypes, componentPropDefs.propTypes);\n  addAsyncPropsToPropPrototype(defaultProps, propTypes);\n  var deprecatedProps = Object.assign({}, parentClass._deprecatedProps, componentPropDefs.deprecatedProps);\n  addDeprecatedPropsToPropPrototype(defaultProps, deprecatedProps);\n  componentClass._mergedDefaultProps = defaultProps;\n  componentClass._propTypes = propTypes;\n  componentClass._deprecatedProps = deprecatedProps;\n}\n\nfunction createPropsPrototype(props, parentProps, componentClass) {\n  var defaultProps = Object.create(null);\n  Object.assign(defaultProps, parentProps, props);\n  var id = getComponentName(componentClass);\n  delete props.id;\n  Object.defineProperties(defaultProps, {\n    id: {\n      writable: true,\n      value: id\n    }\n  });\n  return defaultProps;\n}\n\nfunction addDeprecatedPropsToPropPrototype(defaultProps, deprecatedProps) {\n  var _loop = function _loop(propName) {\n    Object.defineProperty(defaultProps, propName, {\n      enumerable: false,\n      set: function set(newValue) {\n        var nameStr = \"\".concat(this.id, \": \").concat(propName);\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = deprecatedProps[propName][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var newPropName = _step.value;\n\n            if (!hasOwnProperty(this, newPropName)) {\n              this[newPropName] = newValue;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        log.deprecated(nameStr, deprecatedProps[propName].join('/'))();\n      }\n    });\n  };\n\n  for (var propName in deprecatedProps) {\n    _loop(propName);\n  }\n}\n\nfunction addAsyncPropsToPropPrototype(defaultProps, propTypes) {\n  var defaultValues = {};\n  var descriptors = {};\n\n  for (var propName in propTypes) {\n    var propType = propTypes[propName];\n    var name = propType.name,\n        value = propType.value;\n\n    if (propType.async) {\n      defaultValues[name] = value;\n      descriptors[name] = getDescriptorForAsyncProp(name, value);\n    }\n  }\n\n  defaultProps[ASYNC_DEFAULTS] = defaultValues;\n  defaultProps[ASYNC_ORIGINAL] = {};\n  Object.defineProperties(defaultProps, descriptors);\n}\n\nfunction getDescriptorForAsyncProp(name) {\n  return {\n    enumerable: true,\n    set: function set(newValue) {\n      if (typeof newValue === 'string' || newValue instanceof Promise || isAsyncIterable(newValue)) {\n        this[ASYNC_ORIGINAL][name] = newValue;\n      } else {\n        this[ASYNC_RESOLVED][name] = newValue;\n      }\n    },\n    get: function get() {\n      if (this[ASYNC_RESOLVED]) {\n        if (name in this[ASYNC_RESOLVED]) {\n          var value = this[ASYNC_RESOLVED][name];\n\n          if (name === 'data') {\n            return value || this[ASYNC_DEFAULTS][name];\n          }\n\n          return value;\n        }\n\n        if (name in this[ASYNC_ORIGINAL]) {\n          var state = this[COMPONENT] && this[COMPONENT].internalState;\n\n          if (state && state.hasAsyncProp(name)) {\n            return state.getAsyncProp(name);\n          }\n        }\n      }\n\n      return this[ASYNC_DEFAULTS][name];\n    }\n  };\n}\n\nfunction hasOwnProperty(object, prop) {\n  return Object.prototype.hasOwnProperty.call(object, prop);\n}\n\nfunction getOwnProperty(object, prop) {\n  return hasOwnProperty(object, prop) && object[prop];\n}\n\nfunction getComponentName(componentClass) {\n  var componentName = getOwnProperty(componentClass, 'layerName') || getOwnProperty(componentClass, 'componentName');\n\n  if (!componentName) {\n    log.once(0, \"\".concat(componentClass.name, \".componentName not specified\"))();\n  }\n\n  return componentName || componentClass.name;\n}","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol !== \"undefined\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.freeze\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _asyncIterator from \"@babel/runtime/helpers/esm/asyncIterator\";\nimport log from '../utils/log';\nimport { isAsyncIterable } from '../utils/iterable-utils';\nimport { PROP_SYMBOLS } from './constants';\nvar ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nvar EMPTY_PROPS = Object.freeze({});\n\nvar ComponentState = function () {\n  function ComponentState() {\n    var component = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, ComponentState);\n\n    this.component = component;\n    this.asyncProps = {};\n\n    this.onAsyncPropUpdated = function () {};\n\n    this.oldProps = EMPTY_PROPS;\n    this.oldAsyncProps = null;\n  }\n\n  _createClass(ComponentState, [{\n    key: \"getOldProps\",\n    value: function getOldProps() {\n      return this.oldAsyncProps || this.oldProps;\n    }\n  }, {\n    key: \"resetOldProps\",\n    value: function resetOldProps() {\n      this.oldAsyncProps = null;\n      this.oldProps = this.component.props;\n    }\n  }, {\n    key: \"freezeAsyncOldProps\",\n    value: function freezeAsyncOldProps() {\n      if (!this.oldAsyncProps) {\n        this.oldProps = this.oldProps || this.component.props;\n        this.oldAsyncProps = Object.create(this.oldProps);\n\n        for (var propName in this.asyncProps) {\n          Object.defineProperty(this.oldAsyncProps, propName, {\n            enumerable: true,\n            value: this.oldProps[propName]\n          });\n        }\n      }\n    }\n  }, {\n    key: \"hasAsyncProp\",\n    value: function hasAsyncProp(propName) {\n      return propName in this.asyncProps;\n    }\n  }, {\n    key: \"getAsyncProp\",\n    value: function getAsyncProp(propName) {\n      var asyncProp = this.asyncProps[propName];\n      return asyncProp && asyncProp.resolvedValue;\n    }\n  }, {\n    key: \"isAsyncPropLoading\",\n    value: function isAsyncPropLoading(propName) {\n      if (propName) {\n        var asyncProp = this.asyncProps[propName];\n        return Boolean(asyncProp && asyncProp.pendingLoadCount > 0 && asyncProp.pendingLoadCount !== asyncProp.resolvedLoadCount);\n      }\n\n      for (var key in this.asyncProps) {\n        if (this.isAsyncPropLoading(key)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setAsyncProps\",\n    value: function setAsyncProps(props) {\n      var resolvedValues = props[ASYNC_RESOLVED] || {};\n      var originalValues = props[ASYNC_ORIGINAL] || props;\n      var defaultValues = props[ASYNC_DEFAULTS] || {};\n\n      for (var propName in resolvedValues) {\n        var value = resolvedValues[propName];\n\n        this._createAsyncPropData(propName, value, defaultValues[propName]);\n\n        this._updateAsyncProp(propName, value);\n      }\n\n      for (var _propName in originalValues) {\n        var _value2 = originalValues[_propName];\n\n        this._createAsyncPropData(_propName, _value2, defaultValues[_propName]);\n\n        this._updateAsyncProp(_propName, _value2);\n      }\n    }\n  }, {\n    key: \"_updateAsyncProp\",\n    value: function _updateAsyncProp(propName, value) {\n      if (!this._didAsyncInputValueChange(propName, value)) {\n        return;\n      }\n\n      if (typeof value === 'string') {\n        var fetch = this.layer && this.layer.props.fetch;\n        var url = value;\n\n        if (fetch) {\n          value = fetch(url, {\n            propName: propName,\n            layer: this.layer\n          });\n        }\n      }\n\n      if (value instanceof Promise) {\n        this._watchPromise(propName, value);\n\n        return;\n      }\n\n      if (isAsyncIterable(value)) {\n        this._resolveAsyncIterable(propName, value);\n\n        return;\n      }\n\n      this._setPropValue(propName, value);\n    }\n  }, {\n    key: \"_didAsyncInputValueChange\",\n    value: function _didAsyncInputValueChange(propName, value) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (value === asyncProp.lastValue) {\n        return false;\n      }\n\n      asyncProp.lastValue = value;\n      return true;\n    }\n  }, {\n    key: \"_setPropValue\",\n    value: function _setPropValue(propName, value) {\n      var asyncProp = this.asyncProps[propName];\n      asyncProp.value = value;\n      asyncProp.resolvedValue = value;\n      asyncProp.pendingLoadCount++;\n      asyncProp.resolvedLoadCount = asyncProp.pendingLoadCount;\n    }\n  }, {\n    key: \"_setAsyncPropValue\",\n    value: function _setAsyncPropValue(propName, value, loadCount) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (asyncProp && loadCount >= asyncProp.resolvedLoadCount && value !== undefined) {\n        this.freezeAsyncOldProps();\n        asyncProp.resolvedValue = value;\n        asyncProp.resolvedLoadCount = loadCount;\n        this.onAsyncPropUpdated(propName, value);\n      }\n    }\n  }, {\n    key: \"_watchPromise\",\n    value: function _watchPromise(propName, promise) {\n      var _this = this;\n\n      var asyncProp = this.asyncProps[propName];\n      asyncProp.pendingLoadCount++;\n      var loadCount = asyncProp.pendingLoadCount;\n      promise.then(function (data) {\n        data = _this._postProcessValue(propName, data);\n\n        _this._setAsyncPropValue(propName, data, loadCount);\n\n        var onDataLoad = _this.layer && _this.layer.props.onDataLoad;\n\n        if (propName === 'data' && onDataLoad) {\n          onDataLoad(data, {\n            propName: propName,\n            layer: _this.layer\n          });\n        }\n      })[\"catch\"](function (error) {\n        return log.error(error)();\n      });\n    }\n  }, {\n    key: \"_resolveAsyncIterable\",\n    value: function () {\n      var _resolveAsyncIterable2 = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(propName, iterable) {\n        var asyncProp, loadCount, data, count, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _value, chunk, onDataLoad;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (propName !== 'data') {\n                  this._setPropValue(propName, iterable);\n                }\n\n                asyncProp = this.asyncProps[propName];\n                asyncProp.pendingLoadCount++;\n                loadCount = asyncProp.pendingLoadCount;\n                data = [];\n                count = 0;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _context.prev = 8;\n                _iterator = _asyncIterator(iterable);\n\n              case 10:\n                _context.next = 12;\n                return _iterator.next();\n\n              case 12:\n                _step = _context.sent;\n                _iteratorNormalCompletion = _step.done;\n                _context.next = 16;\n                return _step.value;\n\n              case 16:\n                _value = _context.sent;\n\n                if (_iteratorNormalCompletion) {\n                  _context.next = 26;\n                  break;\n                }\n\n                chunk = _value;\n                data = this._postProcessValue(propName, chunk, data);\n                Object.defineProperty(data, '__diff', {\n                  enumerable: false,\n                  value: [{\n                    startRow: count,\n                    endRow: data.length\n                  }]\n                });\n                count = data.length;\n\n                this._setAsyncPropValue(propName, data, loadCount);\n\n              case 23:\n                _iteratorNormalCompletion = true;\n                _context.next = 10;\n                break;\n\n              case 26:\n                _context.next = 32;\n                break;\n\n              case 28:\n                _context.prev = 28;\n                _context.t0 = _context[\"catch\"](8);\n                _didIteratorError = true;\n                _iteratorError = _context.t0;\n\n              case 32:\n                _context.prev = 32;\n                _context.prev = 33;\n\n                if (!(!_iteratorNormalCompletion && _iterator[\"return\"] != null)) {\n                  _context.next = 37;\n                  break;\n                }\n\n                _context.next = 37;\n                return _iterator[\"return\"]();\n\n              case 37:\n                _context.prev = 37;\n\n                if (!_didIteratorError) {\n                  _context.next = 40;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 40:\n                return _context.finish(37);\n\n              case 41:\n                return _context.finish(32);\n\n              case 42:\n                onDataLoad = this.layer && this.layer.props.onDataLoad;\n\n                if (onDataLoad) {\n                  onDataLoad(data, {\n                    propName: propName,\n                    layer: this.layer\n                  });\n                }\n\n              case 44:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[8, 28, 32, 42], [33,, 37, 41]]);\n      }));\n\n      function _resolveAsyncIterable(_x, _x2) {\n        return _resolveAsyncIterable2.apply(this, arguments);\n      }\n\n      return _resolveAsyncIterable;\n    }()\n  }, {\n    key: \"_postProcessValue\",\n    value: function _postProcessValue(propName, value, previousValue) {\n      var _ref = this.component ? this.component.props : {},\n          dataTransform = _ref.dataTransform;\n\n      if (propName !== 'data') {\n        return value;\n      }\n\n      if (dataTransform) {\n        return dataTransform(value, previousValue);\n      }\n\n      return previousValue ? previousValue.concat(value) : value;\n    }\n  }, {\n    key: \"_createAsyncPropData\",\n    value: function _createAsyncPropData(propName, value, defaultValue) {\n      var asyncProp = this.asyncProps[propName];\n\n      if (!asyncProp) {\n        this.asyncProps[propName] = {\n          lastValue: null,\n          resolvedValue: defaultValue,\n          pendingLoadCount: 0,\n          resolvedLoadCount: 0\n        };\n      }\n    }\n  }]);\n\n  return ComponentState;\n}();\n\nexport { ComponentState as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { LIFECYCLE } from '../lifecycle/constants';\nimport { createProps } from './create-props';\nimport { PROP_SYMBOLS } from './constants';\nvar ASYNC_ORIGINAL = PROP_SYMBOLS.ASYNC_ORIGINAL,\n    ASYNC_RESOLVED = PROP_SYMBOLS.ASYNC_RESOLVED,\n    ASYNC_DEFAULTS = PROP_SYMBOLS.ASYNC_DEFAULTS;\nimport ComponentState from './component-state';\nvar defaultProps = {};\nvar counter = 0;\n\nvar Component = function () {\n  function Component() {\n    _classCallCheck(this, Component);\n\n    this.props = createProps.apply(this, arguments);\n    this.id = this.props.id;\n    this.count = counter++;\n    this.lifecycle = LIFECYCLE.NO_STATE;\n    this.parent = null;\n    this.context = null;\n    this.state = null;\n    this.internalState = null;\n    Object.seal(this);\n  }\n\n  _createClass(Component, [{\n    key: \"clone\",\n    value: function clone(newProps) {\n      var props = this.props;\n      var asyncProps = {};\n\n      for (var key in props[ASYNC_DEFAULTS]) {\n        if (key in props[ASYNC_RESOLVED]) {\n          asyncProps[key] = props[ASYNC_RESOLVED][key];\n        } else if (key in props[ASYNC_ORIGINAL]) {\n          asyncProps[key] = props[ASYNC_ORIGINAL][key];\n        }\n      }\n\n      return new this.constructor(Object.assign({}, props, asyncProps, newProps));\n    }\n  }, {\n    key: \"_initState\",\n    value: function _initState() {\n      this.internalState = new ComponentState({});\n    }\n  }, {\n    key: \"stats\",\n    get: function get() {\n      return this.internalState.stats;\n    }\n  }]);\n\n  return Component;\n}();\n\nexport { Component as default };\nComponent.componentName = 'Component';\nComponent.defaultProps = defaultProps;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport ComponentState from '../lifecycle/component-state';\n\nvar LayerState = function (_ComponentState) {\n  _inherits(LayerState, _ComponentState);\n\n  function LayerState(_ref) {\n    var _this;\n\n    var attributeManager = _ref.attributeManager,\n        layer = _ref.layer;\n\n    _classCallCheck(this, LayerState);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LayerState).call(this, layer));\n    _this.attributeManager = attributeManager;\n    _this.model = null;\n    _this.needsRedraw = true;\n    _this.subLayers = null;\n    return _this;\n  }\n\n  _createClass(LayerState, [{\n    key: \"layer\",\n    get: function get() {\n      return this.component;\n    },\n    set: function set(layer) {\n      this.component = layer;\n    }\n  }]);\n\n  return LayerState;\n}(ComponentState);\n\nexport { LayerState as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\nvar isBoolean = function isBoolean(x) {\n  return typeof x === 'boolean';\n};\n\nvar isFunction = function isFunction(x) {\n  return typeof x === 'function';\n};\n\nexport var isObject = function isObject(x) {\n  return x !== null && _typeof(x) === 'object';\n};\nexport var isPromise = function isPromise(x) {\n  return isObject(x) && isFunction(x.then);\n};\nexport var isIterable = function isIterable(x) {\n  return x && typeof x[Symbol.iterator] === 'function';\n};\nexport var isAsyncIterable = function isAsyncIterable(x) {\n  return x && typeof x[Symbol.asyncIterator] === 'function';\n};\nexport var isIterator = function isIterator(x) {\n  return x && isFunction(x.next);\n};\nexport var isResponse = function isResponse(x) {\n  return typeof Response !== 'undefined' && x instanceof Response || x && x.arrayBuffer && x.text && x.json;\n};\nexport var isFile = function isFile(x) {\n  return typeof File !== 'undefined' && x instanceof File;\n};\nexport var isBlob = function isBlob(x) {\n  return typeof Blob !== 'undefined' && x instanceof Blob;\n};\nexport var isWritableDOMStream = function isWritableDOMStream(x) {\n  return isObject(x) && isFunction(x.abort) && isFunction(x.getWriter);\n};\nexport var isReadableDOMStream = function isReadableDOMStream(x) {\n  return typeof ReadableStream !== 'undefined' && x instanceof ReadableStream || isObject(x) && isFunction(x.tee) && isFunction(x.cancel) && isFunction(x.getReader);\n};\nexport var isBuffer = function isBuffer(x) {\n  return x && _typeof(x) === 'object' && x.isBuffer;\n};\nexport var isWritableNodeStream = function isWritableNodeStream(x) {\n  return isObject(x) && isFunction(x.end) && isFunction(x.write) && isBoolean(x.writable);\n};\nexport var isReadableNodeStream = function isReadableNodeStream(x) {\n  return isObject(x) && isFunction(x.read) && isFunction(x.pipe) && isBoolean(x.readable);\n};\nexport var isReadableStream = function isReadableStream(x) {\n  return isReadableDOMStream(x) || isReadableNodeStream(x);\n};\nexport var isWritableStream = function isWritableStream(x) {\n  return isWritableDOMStream(x) || isWritableNodeStream(x);\n};","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es6.object.assign\";\nvar pathPrefix = '';\nvar fileAliases = {};\nexport function setPathPrefix(prefix) {\n  pathPrefix = prefix;\n}\nexport function getPathPrefix() {\n  return pathPrefix;\n}\nexport function addAliases(aliases) {\n  Object.assign(fileAliases, aliases);\n}\nexport function resolvePath(filename) {\n  for (var alias in fileAliases) {\n    if (filename.startsWith(alias)) {\n      var replacement = fileAliases[alias];\n      filename = filename.replace(alias, replacement);\n    }\n  }\n\n  if (!filename.startsWith('http://') && !filename.startsWith('https://')) {\n    filename = \"\".concat(pathPrefix).concat(filename);\n  }\n\n  return filename;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'loader assertion failed.');\n  }\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { assert } from '@loaders.gl/loader-utils';\n\nvar FileReadableResponse = function () {\n  function FileReadableResponse(fileOrBlob, options) {\n    _classCallCheck(this, FileReadableResponse);\n\n    this._fileOrBlob = fileOrBlob;\n    this.bodyUsed = false;\n  }\n\n  _createClass(FileReadableResponse, [{\n    key: \"arrayBuffer\",\n    value: function () {\n      var _arrayBuffer = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n        var _this$_getFileReader, reader, promise;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this$_getFileReader = this._getFileReader(), reader = _this$_getFileReader.reader, promise = _this$_getFileReader.promise;\n                reader.readAsArrayBuffer(this._fileOrBlob);\n                return _context.abrupt(\"return\", promise);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function arrayBuffer() {\n        return _arrayBuffer.apply(this, arguments);\n      }\n\n      return arrayBuffer;\n    }()\n  }, {\n    key: \"text\",\n    value: function () {\n      var _text = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2() {\n        var _this$_getFileReader2, reader, promise;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$_getFileReader2 = this._getFileReader(), reader = _this$_getFileReader2.reader, promise = _this$_getFileReader2.promise;\n                reader.readAsText(this._fileOrBlob);\n                return _context2.abrupt(\"return\", promise);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function text() {\n        return _text.apply(this, arguments);\n      }\n\n      return text;\n    }()\n  }, {\n    key: \"json\",\n    value: function () {\n      var _json = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3() {\n        var text;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.text();\n\n              case 2:\n                text = _context3.sent;\n                return _context3.abrupt(\"return\", JSON.parse(text));\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function json() {\n        return _json.apply(this, arguments);\n      }\n\n      return json;\n    }()\n  }, {\n    key: \"_getFileReader\",\n    value: function _getFileReader() {\n      assert(!this.bodyUsed);\n      this.bodyUsed = true;\n      var reader = new FileReader();\n      var promise = new Promise(function (resolve, reject) {\n        try {\n          reader.onerror = function (_) {\n            return reject(new Error('Read error'));\n          };\n\n          reader.onabort = function () {\n            return reject(new Error('Read aborted.'));\n          };\n\n          reader.onload = function () {\n            return resolve(reader.result);\n          };\n        } catch (error) {\n          reject(error);\n        }\n      });\n      return {\n        reader: reader,\n        promise: promise\n      };\n    }\n  }, {\n    key: \"headers\",\n    get: function get() {\n      return new Headers({\n        'Content-Length': this._fileOrBlob.size,\n        'Content-Type': this._fileOrBlob.type\n      });\n    }\n  }, {\n    key: \"ok\",\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: \"status\",\n    get: function get() {\n      return 200;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this._fileOrBlob.name || '';\n    }\n  }]);\n\n  return FileReadableResponse;\n}();\n\nexport default function fetchFileReadable(fileOrBlob, options) {\n  return Promise.resolve(new FileReadableResponse(fileOrBlob, options));\n}","import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function getErrorMessageFromResponseSync(response) {\n  return \"Failed to fetch resource \".concat(response.url, \"(\").concat(response.status, \"): \").concat(response.statusText, \" \");\n}\nexport function getErrorMessageFromResponse(_x) {\n  return _getErrorMessageFromResponse.apply(this, arguments);\n}\n\nfunction _getErrorMessageFromResponse() {\n  _getErrorMessageFromResponse = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(response) {\n    var message, contentType;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            message = \"Failed to fetch resource \".concat(response.url, \" (\").concat(response.status, \"): \");\n            _context.prev = 1;\n            contentType = response.headers.get('Content-Type');\n\n            if (!contentType.includes('application/json')) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.t0 = message;\n            _context.next = 7;\n            return response.text();\n\n          case 7:\n            message = _context.t0 += _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            message += response.statusText;\n\n          case 11:\n            _context.next = 16;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t1 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", message);\n\n          case 16:\n            return _context.abrupt(\"return\", message);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 13]]);\n  }));\n  return _getErrorMessageFromResponse.apply(this, arguments);\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { resolvePath } from '@loaders.gl/loader-utils';\nimport { isBlob } from '../../javascript-utils/is-type';\nimport fetchFileReadable from './fetch-file.browser';\nimport { getErrorMessageFromResponse } from './fetch-error-message';\nexport function fetchFile(_x) {\n  return _fetchFile.apply(this, arguments);\n}\n\nfunction _fetchFile() {\n  _fetchFile = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(url) {\n    var options,\n        response,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n            if (!isBlob(url)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", fetchFileReadable(url, options));\n\n          case 3:\n            url = resolvePath(url);\n            _context.next = 6;\n            return fetch(url, options);\n\n          case 6:\n            response = _context.sent;\n\n            if (!(!response.ok && options[\"throws\"])) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.t0 = Error;\n            _context.next = 11;\n            return getErrorMessageFromResponse(response);\n\n          case 11:\n            _context.t1 = _context.sent;\n            throw new _context.t0(_context.t1);\n\n          case 13:\n            return _context.abrupt(\"return\", response);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchFile.apply(this, arguments);\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { assert } from '@loaders.gl/loader-utils';\nexport function isLoaderObject(loader) {\n  if (!loader) {\n    return false;\n  }\n\n  if (Array.isArray(loader)) {\n    loader = loader[0];\n  }\n\n  var hasParser = loader.parseTextSync || loader.parseSync || loader.parse || loader.parseStream || loader.parseInBatches;\n  var loaderOptions = loader.options && loader.options[loader.id];\n  hasParser = hasParser || loaderOptions && loaderOptions.workerUrl;\n  return hasParser;\n}\nexport function normalizeLoader(loader) {\n  assert(loader, 'null loader');\n  assert(isLoaderObject(loader), 'invalid loader');\n  var options;\n\n  if (Array.isArray(loader)) {\n    options = loader[1];\n    loader = loader[0];\n    loader = _objectSpread(_objectSpread({}, loader), {}, {\n      options: _objectSpread(_objectSpread({}, loader.options), options)\n    });\n  }\n\n  if (loader.extension) {\n    loader.extensions = loader.extensions || loader.extension;\n    delete loader.extension;\n  }\n\n  if (!Array.isArray(loader.extensions)) {\n    loader.extensions = [loader.extensions];\n  }\n\n  assert(loader.extensions && loader.extensions.length > 0 && loader.extensions[0]);\n\n  if (loader.parseTextSync) {\n    loader.text = true;\n  }\n\n  if (!loader.text) {\n    loader.binary = true;\n  }\n\n  return loader;\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nimport assert from './env-utils/assert';\nvar VERSION = typeof \"2.2.2\" !== 'undefined' ? \"2.2.2\" : '';\nexport function validateLoaderVersion(loader) {\n  var coreVersion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : VERSION;\n  assert(loader, 'no loader provided');\n  var loaderVersion = loader.version;\n\n  if (!coreVersion || !loaderVersion) {\n    return;\n  }\n\n  coreVersion = parseVersion(coreVersion);\n  loaderVersion = parseVersion(loaderVersion);\n}\n\nfunction parseVersion(version) {\n  var parts = version.split('.').map(Number);\n  return {\n    major: parts[0],\n    minor: parts[1]\n  };\n}","import \"core-js/modules/es6.function.bind\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nexport var NullLog = function () {\n  function NullLog() {\n    _classCallCheck(this, NullLog);\n  }\n\n  _createClass(NullLog, [{\n    key: \"log\",\n    value: function log() {\n      return function (_) {};\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      return function (_) {};\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      return function (_) {};\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      return function (_) {};\n    }\n  }]);\n\n  return NullLog;\n}();\nexport var ConsoleLog = function () {\n  function ConsoleLog() {\n    _classCallCheck(this, ConsoleLog);\n\n    this.console = console;\n  }\n\n  _createClass(ConsoleLog, [{\n    key: \"log\",\n    value: function log() {\n      var _this$console$log;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_this$console$log = this.console.log).bind.apply(_this$console$log, [this.console].concat(args));\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      var _this$console$info;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return (_this$console$info = this.console.info).bind.apply(_this$console$info, [this.console].concat(args));\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      var _this$console$warn;\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return (_this$console$warn = this.console.warn).bind.apply(_this$console$warn, [this.console].concat(args));\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      var _this$console$error;\n\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return (_this$console$error = this.console.error).bind.apply(_this$console$error, [this.console].concat(args));\n    }\n  }]);\n\n  return ConsoleLog;\n}();","import { ConsoleLog } from './loader-utils/loggers';\nexport var DEFAULT_LOADER_OPTIONS = {\n  CDN: 'https://unpkg.com/@loaders.gl',\n  worker: true,\n  log: new ConsoleLog(),\n  dataType: 'arraybuffer',\n  metadata: false\n};","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { DEFAULT_LOADER_OPTIONS } from '../constants';\nimport { NullLog } from './loggers';\n\nvar isPureObject = function isPureObject(value) {\n  return value && _typeof(value) === 'object' && value.constructor === {}.constructor;\n};\n\nvar globalOptions = _objectSpread({}, DEFAULT_LOADER_OPTIONS);\n\nexport function setGlobalOptions(options) {\n  globalOptions = mergeOptionsInternal(globalOptions, options);\n}\nexport function mergeOptions(loader, options, url) {\n  var topOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  validateLoaderOptions(loader, options, topOptions);\n  return mergeOptionsInternal(loader, options, url);\n}\n\nfunction validateLoaderOptions(loader, options) {\n  var topOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_LOADER_OPTIONS;\n  var log = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : console;\n\n  if (topOptions) {\n    for (var key in options) {\n      if (_typeof(options[key]) !== 'object' && !topOptions[key]) {\n        log.warn(\"Top-level loader option \".concat(key, \" not recognized\"));\n      }\n    }\n  }\n\n  var idOptions = options && options[loader.id] || {};\n  var loaderOptions = loader.options && loader.options[loader.id] || {};\n  var deprecatedOptions = loader.defaultOptions && loader.defaultOptions[loader.id] || {};\n\n  for (var _key in idOptions) {\n    if (!(_key in loaderOptions)) {\n      if (_key in deprecatedOptions) {\n        log.warn(\"\".concat(loader.name, \" loader option \").concat(loader.id, \".\").concat(_key, \" deprecated, use \").concat(deprecatedOptions[_key]));\n      } else {\n        log.warn(\"\".concat(loader.name, \" loader option \").concat(loader.id, \".\").concat(_key, \" not recognized\"));\n      }\n    }\n  }\n}\n\nfunction mergeOptionsInternal(loader, options, url) {\n  var loaderDefaultOptions = loader.options || {};\n\n  var mergedOptions = _objectSpread({}, loaderDefaultOptions);\n\n  addUrlOptions(mergedOptions, url);\n\n  if (mergedOptions.log === null) {\n    mergedOptions.log = new NullLog();\n  }\n\n  mergeNestedFields(mergedOptions, globalOptions);\n  mergeNestedFields(mergedOptions, options);\n  return mergedOptions;\n}\n\nfunction mergeNestedFields(mergedOptions, options) {\n  for (var key in options) {\n    if (key in options) {\n      var value = options[key];\n\n      if (isPureObject(value) && isPureObject(mergedOptions[key])) {\n        mergedOptions[key] = _objectSpread(_objectSpread({}, mergedOptions[key]), options[key]);\n      } else {\n        mergedOptions[key] = options[key];\n      }\n    }\n  }\n}\n\nfunction addUrlOptions(options, url) {\n  if (url && !('baseUri' in options)) {\n    options.baseUri = url;\n  }\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = _regeneratorRuntime.mark(makeStringIterator);\n\nexport function makeStringIterator(string) {\n  var options,\n      _options$chunkSize,\n      chunkSize,\n      offset,\n      textEncoder,\n      chunkLength,\n      chunk,\n      _args = arguments;\n\n  return _regeneratorRuntime.wrap(function makeStringIterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _options$chunkSize = options.chunkSize, chunkSize = _options$chunkSize === void 0 ? 256 * 1024 : _options$chunkSize;\n          offset = 0;\n          textEncoder = new TextEncoder();\n\n        case 4:\n          if (!(offset < string.length)) {\n            _context.next = 12;\n            break;\n          }\n\n          chunkLength = Math.min(string.length - offset, chunkSize);\n          chunk = string.slice(offset, offset + chunkLength);\n          offset += chunkLength;\n          _context.next = 10;\n          return textEncoder.encode(chunk);\n\n        case 10:\n          _context.next = 4;\n          break;\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","import \"core-js/modules/es6.typed.uint8-array\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = _regeneratorRuntime.mark(makeArrayBufferIterator);\n\nexport function makeArrayBufferIterator(arrayBuffer) {\n  var options,\n      _options$chunkSize,\n      chunkSize,\n      byteOffset,\n      chunkByteLength,\n      chunk,\n      sourceArray,\n      chunkArray,\n      _args = arguments;\n\n  return _regeneratorRuntime.wrap(function makeArrayBufferIterator$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _options$chunkSize = options.chunkSize, chunkSize = _options$chunkSize === void 0 ? 256 * 1024 : _options$chunkSize;\n          byteOffset = 0;\n\n        case 3:\n          if (!(byteOffset < arrayBuffer.byteLength)) {\n            _context.next = 14;\n            break;\n          }\n\n          chunkByteLength = Math.min(arrayBuffer.byteLength - byteOffset, chunkSize);\n          chunk = new ArrayBuffer(chunkByteLength);\n          sourceArray = new Uint8Array(arrayBuffer, byteOffset, chunkByteLength);\n          chunkArray = new Uint8Array(chunk);\n          chunkArray.set(sourceArray);\n          byteOffset += chunkByteLength;\n          _context.next = 12;\n          return chunk;\n\n        case 12:\n          _context.next = 3;\n          break;\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}","export default function _AwaitValue(value) {\n  this.wrapped = value;\n}","import AwaitValue from \"./AwaitValue\";\nexport default function _awaitAsyncGenerator(value) {\n  return new AwaitValue(value);\n}","import AwaitValue from \"./AwaitValue\";\nexport default function AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(key === \"return\" ? \"return\" : \"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen[\"return\"] !== \"function\") {\n    this[\"return\"] = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\nAsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\nAsyncGenerator.prototype[\"throw\"] = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\nAsyncGenerator.prototype[\"return\"] = function (arg) {\n  return this._invoke(\"return\", arg);\n};","import AsyncGenerator from \"./AsyncGenerator\";\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _awaitAsyncGenerator from \"@babel/runtime/helpers/esm/awaitAsyncGenerator\";\nimport _wrapAsyncGenerator from \"@babel/runtime/helpers/esm/wrapAsyncGenerator\";\nvar DEFAULT_CHUNK_SIZE = 1024 * 1024;\nexport function makeBlobIterator(_x) {\n  return _makeBlobIterator.apply(this, arguments);\n}\n\nfunction _makeBlobIterator() {\n  _makeBlobIterator = _wrapAsyncGenerator(_regeneratorRuntime.mark(function _callee(file) {\n    var options,\n        chunkSize,\n        offset,\n        end,\n        slice,\n        chunk,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            chunkSize = options.chunkSize || DEFAULT_CHUNK_SIZE;\n            offset = 0;\n\n          case 3:\n            if (!(offset < file.size)) {\n              _context.next = 14;\n              break;\n            }\n\n            end = offset + chunkSize;\n            slice = file.slice(offset, end);\n            _context.next = 8;\n            return _awaitAsyncGenerator(readFileSlice(slice));\n\n          case 8:\n            chunk = _context.sent;\n            offset = end;\n            _context.next = 12;\n            return chunk;\n\n          case 12:\n            _context.next = 3;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _makeBlobIterator.apply(this, arguments);\n}\n\nfunction readFileSlice(_x2) {\n  return _readFileSlice.apply(this, arguments);\n}\n\nfunction _readFileSlice() {\n  _readFileSlice = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(slice) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return new Promise(function (resolve, reject) {\n              var fileReader = new FileReader();\n\n              fileReader.onloadend = function (event) {\n                return resolve(event.target.result);\n              };\n\n              fileReader.onerror = function (error) {\n                return reject(error);\n              };\n\n              fileReader.readAsArrayBuffer(slice);\n            });\n\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _readFileSlice.apply(this, arguments);\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _awaitAsyncGenerator from \"@babel/runtime/helpers/esm/awaitAsyncGenerator\";\nimport _wrapAsyncGenerator from \"@babel/runtime/helpers/esm/wrapAsyncGenerator\";\nimport { isBrowser, nodeVersion } from '@loaders.gl/loader-utils';\nexport function makeStreamIterator(stream) {\n  if (isBrowser || nodeVersion >= 10) {\n    if (typeof stream[Symbol.asyncIterator] === 'function') {\n      return stream;\n    }\n\n    if (typeof stream.getIterator === 'function') {\n      return stream.getIterator();\n    }\n  }\n\n  return isBrowser ? makeBrowserStreamIterator(stream) : makeNodeStreamIterator(stream);\n}\n\nfunction makeBrowserStreamIterator(_x) {\n  return _makeBrowserStreamIterator.apply(this, arguments);\n}\n\nfunction _makeBrowserStreamIterator() {\n  _makeBrowserStreamIterator = _wrapAsyncGenerator(_regeneratorRuntime.mark(function _callee(stream) {\n    var reader, _yield$_awaitAsyncGen, done, value;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            reader = stream.getReader();\n            _context.prev = 1;\n\n          case 2:\n            if (!true) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 5;\n            return _awaitAsyncGenerator(reader.read());\n\n          case 5:\n            _yield$_awaitAsyncGen = _context.sent;\n            done = _yield$_awaitAsyncGen.done;\n            value = _yield$_awaitAsyncGen.value;\n\n            if (!done) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 10:\n            _context.next = 12;\n            return value;\n\n          case 12:\n            _context.next = 2;\n            break;\n\n          case 14:\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](1);\n            reader.releaseLock();\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 16]]);\n  }));\n  return _makeBrowserStreamIterator.apply(this, arguments);\n}\n\nfunction makeNodeStreamIterator(_x2) {\n  return _makeNodeStreamIterator.apply(this, arguments);\n}\n\nfunction _makeNodeStreamIterator() {\n  _makeNodeStreamIterator = _wrapAsyncGenerator(_regeneratorRuntime.mark(function _callee2(stream) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _awaitAsyncGenerator(stream);\n\n          case 2:\n            stream = _context2.sent;\n\n          case 3:\n            if (!true) {\n              _context2.next = 15;\n              break;\n            }\n\n            data = stream.read();\n\n            if (!(data !== null)) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 8;\n            return data;\n\n          case 8:\n            return _context2.abrupt(\"continue\", 3);\n\n          case 9:\n            if (!stream._readableState.ended) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 11:\n            _context2.next = 13;\n            return _awaitAsyncGenerator(onceReadable(stream));\n\n          case 13:\n            _context2.next = 3;\n            break;\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _makeNodeStreamIterator.apply(this, arguments);\n}\n\nfunction onceReadable(_x3) {\n  return _onceReadable.apply(this, arguments);\n}\n\nfunction _onceReadable() {\n  _onceReadable = _asyncToGenerator(_regeneratorRuntime.mark(function _callee3(stream) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", new Promise(function (resolve) {\n              stream.once('readable', resolve);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _onceReadable.apply(this, arguments);\n}","import { makeStringIterator } from './string-iterator';\nimport { makeArrayBufferIterator } from './array-buffer-iterator';\nimport { makeBlobIterator } from './blob-iterator';\nimport { assert } from '@loaders.gl/loader-utils';\nimport { makeStreamIterator } from './stream-iterator';\nimport { isBlob, isReadableStream, isResponse } from '../../javascript-utils/is-type';\nexport function makeIterator(data) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof data === 'string') {\n    return makeStringIterator(data, options);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return makeArrayBufferIterator(data, options);\n  }\n\n  if (isBlob(data)) {\n    return makeBlobIterator(data, options);\n  }\n\n  if (isReadableStream(data)) {\n    return makeStreamIterator(data);\n  }\n\n  if (isResponse(data)) {\n    return makeStreamIterator(data.body);\n  }\n\n  return assert(false);\n}","import \"core-js/modules/es6.typed.uint8-array\";\nexport function concatenateArrayBuffers(source1, source2) {\n  var sourceArray1 = source1 instanceof ArrayBuffer ? new Uint8Array(source1) : source1;\n  var sourceArray2 = source2 instanceof ArrayBuffer ? new Uint8Array(source2) : source2;\n  var temp = new Uint8Array(sourceArray1.byteLength + sourceArray2.byteLength);\n  temp.set(sourceArray1, 0);\n  temp.set(sourceArray2, sourceArray1.byteLength);\n  return temp;\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _asyncIterator from \"@babel/runtime/helpers/esm/asyncIterator\";\nimport { concatenateArrayBuffers } from '../javascript-utils/memory-copy-utils';\nexport function forEach(_x, _x2) {\n  return _forEach.apply(this, arguments);\n}\n\nfunction _forEach() {\n  _forEach = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(iterator, visitor) {\n    var _yield$iterator$next, done, value, cancel;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!true) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 3;\n            return iterator.next();\n\n          case 3:\n            _yield$iterator$next = _context.sent;\n            done = _yield$iterator$next.done;\n            value = _yield$iterator$next.value;\n\n            if (!done) {\n              _context.next = 9;\n              break;\n            }\n\n            iterator[\"return\"]();\n            return _context.abrupt(\"return\");\n\n          case 9:\n            cancel = visitor(value);\n\n            if (!cancel) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 12:\n            _context.next = 0;\n            break;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _forEach.apply(this, arguments);\n}\n\nexport function concatenateChunksAsync(_x3) {\n  return _concatenateChunksAsync.apply(this, arguments);\n}\n\nfunction _concatenateChunksAsync() {\n  _concatenateChunksAsync = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(asyncIterator) {\n    var arrayBuffer, string, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _value, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            arrayBuffer = new ArrayBuffer(0);\n            string = '';\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _context2.prev = 4;\n            _iterator = _asyncIterator(asyncIterator);\n\n          case 6:\n            _context2.next = 8;\n            return _iterator.next();\n\n          case 8:\n            _step = _context2.sent;\n            _iteratorNormalCompletion = _step.done;\n            _context2.next = 12;\n            return _step.value;\n\n          case 12:\n            _value = _context2.sent;\n\n            if (_iteratorNormalCompletion) {\n              _context2.next = 19;\n              break;\n            }\n\n            chunk = _value;\n\n            if (typeof chunk === 'string') {\n              string += chunk;\n            } else {\n              arrayBuffer = concatenateArrayBuffers(arrayBuffer, chunk);\n            }\n\n          case 16:\n            _iteratorNormalCompletion = true;\n            _context2.next = 6;\n            break;\n\n          case 19:\n            _context2.next = 25;\n            break;\n\n          case 21:\n            _context2.prev = 21;\n            _context2.t0 = _context2[\"catch\"](4);\n            _didIteratorError = true;\n            _iteratorError = _context2.t0;\n\n          case 25:\n            _context2.prev = 25;\n            _context2.prev = 26;\n\n            if (!(!_iteratorNormalCompletion && _iterator[\"return\"] != null)) {\n              _context2.next = 30;\n              break;\n            }\n\n            _context2.next = 30;\n            return _iterator[\"return\"]();\n\n          case 30:\n            _context2.prev = 30;\n\n            if (!_didIteratorError) {\n              _context2.next = 33;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 33:\n            return _context2.finish(30);\n\n          case 34:\n            return _context2.finish(25);\n\n          case 35:\n            return _context2.abrupt(\"return\", string || arrayBuffer);\n\n          case 36:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 21, 25, 35], [26,, 30, 34]]);\n  }));\n  return _concatenateChunksAsync.apply(this, arguments);\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function checkFetchResponseStatus(_x) {\n  return _checkFetchResponseStatus.apply(this, arguments);\n}\n\nfunction _checkFetchResponseStatus() {\n  _checkFetchResponseStatus = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(response) {\n    var errorMessage, text;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (response.ok) {\n              _context.next = 12;\n              break;\n            }\n\n            errorMessage = \"fetch failed \".concat(response.status, \" \").concat(response.statusText);\n            _context.prev = 2;\n            _context.next = 5;\n            return response.text().slice(10);\n\n          case 5:\n            text = _context.sent;\n            errorMessage += text;\n            _context.next = 11;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n\n          case 11:\n            throw new Error(errorMessage);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 9]]);\n  }));\n  return _checkFetchResponseStatus.apply(this, arguments);\n}\n\nexport function checkFetchResponseStatusSync(response) {\n  if (!response.ok) {\n    throw new Error(\"fetch failed \".concat(response.status));\n  }\n}","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { isResponse, isReadableStream, isAsyncIterable, isIterable, isIterator, isBlob, isBuffer } from '../../javascript-utils/is-type';\nimport { makeIterator } from '../../iterator-utils/make-iterator/make-iterator';\nimport { concatenateChunksAsync } from '../../iterator-utils/async-iteration';\nimport fetchFileReadable from '../fetch/fetch-file.browser';\nimport { checkFetchResponseStatus } from './check-errors';\nvar ERR_DATA = 'Cannot convert supplied data type';\nexport function getUrlFromData(data, url) {\n  if (isResponse(data)) {\n    url = url || data.url;\n  } else if (isBlob(url)) {\n    url = url.name;\n  }\n\n  return typeof url === 'string' ? url.replace(/\\?.*/, '') : url;\n}\nexport function getArrayBufferOrStringFromDataSync(data, loader) {\n  if (loader.text && typeof data === 'string') {\n    return data;\n  }\n\n  if (data instanceof ArrayBuffer) {\n    var arrayBuffer = data;\n\n    if (loader.text && !loader.binary) {\n      var textDecoder = new TextDecoder('utf8');\n      return textDecoder.decode(arrayBuffer);\n    }\n\n    return arrayBuffer;\n  }\n\n  if (ArrayBuffer.isView(data) || isBuffer(data)) {\n    if (loader.text && !loader.binary) {\n      var _textDecoder = new TextDecoder('utf8');\n\n      return _textDecoder.decode(data);\n    }\n\n    var _arrayBuffer = data.buffer;\n    var byteLength = data.byteLength || data.length;\n\n    if (data.byteOffset !== 0 || byteLength !== _arrayBuffer.byteLength) {\n      _arrayBuffer = _arrayBuffer.slice(data.byteOffset, data.byteOffset + byteLength);\n    }\n\n    return _arrayBuffer;\n  }\n\n  throw new Error(ERR_DATA);\n}\nexport function getArrayBufferOrStringFromData(_x, _x2) {\n  return _getArrayBufferOrStringFromData.apply(this, arguments);\n}\n\nfunction _getArrayBufferOrStringFromData() {\n  _getArrayBufferOrStringFromData = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(data, loader) {\n    var isArrayBuffer, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return data;\n\n          case 2:\n            data = _context3.sent;\n            isArrayBuffer = data instanceof ArrayBuffer || ArrayBuffer.isView(data);\n\n            if (!(typeof data === 'string' || isArrayBuffer)) {\n              _context3.next = 6;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", getArrayBufferOrStringFromDataSync(data, loader));\n\n          case 6:\n            if (!isBlob(data)) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 9;\n            return fetchFileReadable(data);\n\n          case 9:\n            data = _context3.sent;\n\n          case 10:\n            if (!isResponse(data)) {\n              _context3.next = 24;\n              break;\n            }\n\n            response = data;\n            _context3.next = 14;\n            return checkFetchResponseStatus(response);\n\n          case 14:\n            if (!loader.binary) {\n              _context3.next = 20;\n              break;\n            }\n\n            _context3.next = 17;\n            return response.arrayBuffer();\n\n          case 17:\n            _context3.t0 = _context3.sent;\n            _context3.next = 23;\n            break;\n\n          case 20:\n            _context3.next = 22;\n            return response.text();\n\n          case 22:\n            _context3.t0 = _context3.sent;\n\n          case 23:\n            return _context3.abrupt(\"return\", _context3.t0);\n\n          case 24:\n            if (isReadableStream(data)) {\n              data = makeIterator(data);\n            }\n\n            if (!(isIterable(data) || isAsyncIterable(data))) {\n              _context3.next = 27;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", concatenateChunksAsync(data));\n\n          case 27:\n            throw new Error(ERR_DATA);\n\n          case 28:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getArrayBufferOrStringFromData.apply(this, arguments);\n}\n\nexport function getAsyncIteratorFromData(_x3) {\n  return _getAsyncIteratorFromData.apply(this, arguments);\n}\n\nfunction _getAsyncIteratorFromData() {\n  _getAsyncIteratorFromData = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(data) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!isIterator(data)) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", data);\n\n          case 2:\n            if (!isResponse(data)) {\n              _context4.next = 6;\n              break;\n            }\n\n            _context4.next = 5;\n            return checkFetchResponseStatus(data);\n\n          case 5:\n            return _context4.abrupt(\"return\", makeIterator(data.body));\n\n          case 6:\n            if (!(isBlob(data) || isReadableStream(data))) {\n              _context4.next = 8;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", makeIterator(data));\n\n          case 8:\n            if (!isAsyncIterable(data)) {\n              _context4.next = 10;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", data[Symbol.asyncIterator]());\n\n          case 10:\n            return _context4.abrupt(\"return\", getIteratorFromData(data));\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getAsyncIteratorFromData.apply(this, arguments);\n}\n\nexport function getIteratorFromData(data) {\n  if (ArrayBuffer.isView(data)) {\n    return _regeneratorRuntime.mark(function oneChunk() {\n      return _regeneratorRuntime.wrap(function oneChunk$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return data.buffer;\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, oneChunk);\n    })();\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return _regeneratorRuntime.mark(function oneChunk() {\n      return _regeneratorRuntime.wrap(function oneChunk$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return data;\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, oneChunk);\n    })();\n  }\n\n  if (isIterator(data)) {\n    return data;\n  }\n\n  if (isIterable(data)) {\n    return data[Symbol.iterator]();\n  }\n\n  throw new Error(ERR_DATA);\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { fetchFile } from '../fetch/fetch-file';\nexport function getLoaderContext(context, options) {\n  var previousContext = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  if (previousContext) {\n    return previousContext;\n  }\n\n  context = _objectSpread({\n    fetch: context.fetch || fetchFile\n  }, context);\n\n  if (!Array.isArray(context.loaders)) {\n    context.loaders = null;\n  }\n\n  return context;\n}\nexport function getLoaders(loaders, context) {\n  if (!context && !Array.isArray(loaders)) {\n    return loaders;\n  }\n\n  var candidateLoaders;\n\n  if (loaders) {\n    candidateLoaders = Array.isArray(loaders) ? loaders : [loaders];\n  }\n\n  if (context && context.loaders) {\n    var contextLoaders = Array.isArray(context.loaders) ? context.loaders : [context.loaders];\n    candidateLoaders = candidateLoaders ? [].concat(_toConsumableArray(candidateLoaders), _toConsumableArray(contextLoaders)) : contextLoaders;\n  }\n\n  return candidateLoaders && candidateLoaders.length ? candidateLoaders : null;\n}","import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.string.ends-with\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport { assert } from '@loaders.gl/loader-utils';\nvar workerURLCache = new Map();\nexport function getWorkerURL(workerSource) {\n  var workerName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Worker';\n  assert(typeof workerSource === 'string', 'worker source');\n\n  if (workerSource.startsWith('url(') && workerSource.endsWith(')')) {\n    var workerUrl = workerSource.match(/^url\\((.*)\\)$/)[1];\n\n    if (workerUrl && !workerUrl.startsWith('http')) {\n      return workerUrl;\n    }\n\n    workerSource = buildScript(workerUrl);\n  }\n\n  var workerURL = workerURLCache.get(workerSource);\n\n  if (!workerURL) {\n    var blob = new Blob([workerSource], {\n      type: 'application/javascript'\n    });\n    workerURL = URL.createObjectURL(blob);\n    workerURLCache.set(workerSource, workerURL);\n  }\n\n  return workerURL;\n}\n\nfunction buildScript(workerUrl) {\n  return \"try {\\n  importScripts('\".concat(workerUrl, \"');\\n} catch (error) {\\n  console.error(error);\\n}\");\n}","import \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport function getTransferList(object) {\n  var recursive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var transfers = arguments.length > 2 ? arguments[2] : undefined;\n  var transfersSet = transfers || new Set();\n\n  if (!object) {} else if (isTransferable(object)) {\n    transfersSet.add(object);\n  } else if (isTransferable(object.buffer)) {\n    transfersSet.add(object.buffer);\n  } else if (recursive && _typeof(object) === 'object') {\n    for (var key in object) {\n      getTransferList(object[key], recursive, transfersSet);\n    }\n  }\n\n  return transfers === undefined ? Array.from(transfersSet) : null;\n}\n\nfunction isTransferable(object) {\n  if (!object) {\n    return false;\n  }\n\n  if (object instanceof ArrayBuffer) {\n    return true;\n  }\n\n  if (typeof MessagePort !== 'undefined' && object instanceof MessagePort) {\n    return true;\n  }\n\n  if (typeof ImageBitmap !== 'undefined' && object instanceof ImageBitmap) {\n    return true;\n  }\n\n  if (typeof OffscreenCanvas !== 'undefined' && object instanceof OffscreenCanvas) {\n    return true;\n  }\n\n  return false;\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { getWorkerURL } from './get-worker-url';\nimport { getTransferList } from '@loaders.gl/loader-utils';\nvar count = 0;\n\nfunction defaultOnMessage(_ref) {\n  var data = _ref.data,\n      resolve = _ref.resolve;\n  resolve(data);\n}\n\nvar WorkerThread = function () {\n  function WorkerThread(_ref2) {\n    var source = _ref2.source,\n        _ref2$name = _ref2.name,\n        name = _ref2$name === void 0 ? \"web-worker-\".concat(count++) : _ref2$name,\n        onMessage = _ref2.onMessage;\n\n    _classCallCheck(this, WorkerThread);\n\n    var url = getWorkerURL(source, name);\n    this.worker = new Worker(url, {\n      name: name\n    });\n    this.name = name;\n    this.onMessage = onMessage || defaultOnMessage;\n  }\n\n  _createClass(WorkerThread, [{\n    key: \"process\",\n    value: function () {\n      var _process = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(data) {\n        var _this = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this.worker.onmessage = function (event) {\n                    return _this.onMessage({\n                      worker: _this.worker,\n                      data: event.data,\n                      resolve: resolve,\n                      reject: reject\n                    });\n                  };\n\n                  _this.worker.onerror = function (error) {\n                    var message = \"\".concat(_this.name, \": WorkerThread.process() failed\");\n\n                    if (error.message) {\n                      message += \" \".concat(error.message, \" \").concat(error.filename, \":\").concat(error.lineno, \":\").concat(error.colno);\n                    }\n\n                    var betterError = new Error(message);\n                    console.error(error);\n                    reject(betterError);\n                  };\n\n                  var transferList = getTransferList(data);\n\n                  _this.worker.postMessage(data, transferList);\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function process(_x) {\n        return _process.apply(this, arguments);\n      }\n\n      return process;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.worker.terminate();\n      this.worker = null;\n    }\n  }]);\n\n  return WorkerThread;\n}();\n\nexport { WorkerThread as default };","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport WorkerThread from './worker-thread';\n\nvar WorkerPool = function () {\n  function WorkerPool(_ref) {\n    var source = _ref.source,\n        _ref$name = _ref.name,\n        name = _ref$name === void 0 ? 'unnamed' : _ref$name,\n        _ref$maxConcurrency = _ref.maxConcurrency,\n        maxConcurrency = _ref$maxConcurrency === void 0 ? 1 : _ref$maxConcurrency,\n        onMessage = _ref.onMessage,\n        _ref$onDebug = _ref.onDebug,\n        onDebug = _ref$onDebug === void 0 ? function () {} : _ref$onDebug;\n\n    _classCallCheck(this, WorkerPool);\n\n    this.source = source;\n    this.name = name;\n    this.maxConcurrency = maxConcurrency;\n    this.onMessage = onMessage;\n    this.onDebug = onDebug;\n    this.jobQueue = [];\n    this.idleQueue = [];\n    this.count = 0;\n    this.isDestroyed = false;\n  }\n\n  _createClass(WorkerPool, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.idleQueue.forEach(function (worker) {\n        return worker.destroy();\n      });\n      this.isDestroyed = true;\n    }\n  }, {\n    key: \"process\",\n    value: function () {\n      var _process = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(data, jobName) {\n        var _this = this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  _this.jobQueue.push({\n                    data: data,\n                    jobName: jobName,\n                    resolve: resolve,\n                    reject: reject\n                  });\n\n                  _this._startQueuedJob();\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function process(_x, _x2) {\n        return _process.apply(this, arguments);\n      }\n\n      return process;\n    }()\n  }, {\n    key: \"_startQueuedJob\",\n    value: function _startQueuedJob() {\n      var _this2 = this;\n\n      if (!this.jobQueue.length) {\n        return;\n      }\n\n      var worker = this._getAvailableWorker();\n\n      if (!worker) {\n        return;\n      }\n\n      var job = this.jobQueue.shift();\n      this.onDebug({\n        message: 'processing',\n        worker: worker.name,\n        job: job.jobName,\n        backlog: this.jobQueue.length\n      });\n      worker.process(job.data).then(function (result) {\n        return job.resolve(result);\n      })[\"catch\"](function (error) {\n        return job.reject(error);\n      }).then(function () {\n        return _this2._onWorkerDone(worker);\n      });\n    }\n  }, {\n    key: \"_onWorkerDone\",\n    value: function _onWorkerDone(worker) {\n      if (this.isDestroyed) {\n        worker.destroy();\n      } else {\n        this.idleQueue.push(worker);\n\n        this._startQueuedJob();\n      }\n    }\n  }, {\n    key: \"_getAvailableWorker\",\n    value: function _getAvailableWorker() {\n      if (this.idleQueue.length > 0) {\n        return this.idleQueue.shift();\n      }\n\n      if (this.count < this.maxConcurrency) {\n        this.count++;\n        var name = \"\".concat(this.name.toLowerCase(), \" (#\").concat(this.count, \" of \").concat(this.maxConcurrency, \")\");\n        return new WorkerThread({\n          source: this.source,\n          onMessage: this.onMessage,\n          name: name\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return WorkerPool;\n}();\n\nexport { WorkerPool as default };","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport WorkerPool from './worker-pool';\nvar DEFAULT_MAX_CONCURRENCY = 5;\n\nvar WorkerFarm = function () {\n  _createClass(WorkerFarm, null, [{\n    key: \"isSupported\",\n    value: function isSupported() {\n      return typeof Worker !== 'undefined';\n    }\n  }]);\n\n  function WorkerFarm(_ref) {\n    var _ref$maxConcurrency = _ref.maxConcurrency,\n        maxConcurrency = _ref$maxConcurrency === void 0 ? DEFAULT_MAX_CONCURRENCY : _ref$maxConcurrency,\n        onMessage = _ref.onMessage,\n        _ref$onDebug = _ref.onDebug,\n        onDebug = _ref$onDebug === void 0 ? function () {} : _ref$onDebug;\n\n    _classCallCheck(this, WorkerFarm);\n\n    this.maxConcurrency = maxConcurrency;\n    this.onMessage = onMessage;\n    this.onDebug = onDebug;\n    this.workerPools = new Map();\n  }\n\n  _createClass(WorkerFarm, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('maxConcurrency' in props) {\n        this.maxConcurrency = props.maxConcurrency;\n      }\n\n      if ('onDebug' in props) {\n        this.onDebug = props.onDebug;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.workerPools.forEach(function (workerPool) {\n        return workerPool.destroy();\n      });\n    }\n  }, {\n    key: \"process\",\n    value: function () {\n      var _process = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(workerSource, workerName, data) {\n        var workerPool;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                workerPool = this._getWorkerPool(workerSource, workerName);\n                return _context.abrupt(\"return\", workerPool.process(data));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function process(_x, _x2, _x3) {\n        return _process.apply(this, arguments);\n      }\n\n      return process;\n    }()\n  }, {\n    key: \"_getWorkerPool\",\n    value: function _getWorkerPool(workerSource, workerName) {\n      var workerPool = this.workerPools.get(workerName);\n\n      if (!workerPool) {\n        workerPool = new WorkerPool({\n          source: workerSource,\n          name: workerName,\n          onMessage: this.onMessage,\n          maxConcurrency: this.maxConcurrency,\n          onDebug: this.onDebug\n        });\n        this.workerPools.set(workerName, workerPool);\n      }\n\n      return workerPool;\n    }\n  }]);\n\n  return WorkerFarm;\n}();\n\nexport { WorkerFarm as default };","import { assert } from '@loaders.gl/loader-utils';\nimport { toArrayBuffer as bufferToArrayBuffer } from '../node/utils/to-array-buffer.node';\nexport function toArrayBuffer(data) {\n  if (bufferToArrayBuffer) {\n    data = bufferToArrayBuffer(data);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return data;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return data.buffer;\n  }\n\n  if (typeof data === 'string') {\n    var text = data;\n    var uint8Array = new TextEncoder().encode(text);\n    return uint8Array.buffer;\n  }\n\n  return assert(false);\n}","import \"core-js/modules/es6.function.name\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport WorkerFarm from '../../worker-utils/worker-farm';\nimport { toArrayBuffer } from '../../javascript-utils/binary-utils';\nimport { getTransferList } from '@loaders.gl/loader-utils';\nimport { parse } from '../api/parse';\nvar VERSION = typeof \"2.2.2\" !== 'undefined' ? \"2.2.2\" : 'latest';\nexport function canParseWithWorker(loader, data, options, context) {\n  if (!WorkerFarm.isSupported()) {\n    return false;\n  }\n\n  var loaderOptions = options && options[loader.id];\n\n  if (options.worker === 'local' && loaderOptions && loaderOptions.localWorkerUrl || options.worker && loaderOptions && loaderOptions.workerUrl) {\n    return loader.useWorker ? loader.useWorker(options) : true;\n  }\n\n  return false;\n}\nexport default function parseWithWorker(loader, data, options, context) {\n  var _ref = options || {},\n      worker = _ref.worker;\n\n  var loaderOptions = options && options[loader.id] || {};\n  var workerUrl = worker === 'local' ? loaderOptions.localWorkerUrl : loaderOptions.workerUrl;\n  var workerSource = \"url(\".concat(workerUrl, \")\");\n  var workerName = loader.name;\n  var workerFarm = getWorkerFarm(options);\n  options = JSON.parse(JSON.stringify(options));\n  var warning = loader.version !== VERSION ? \"(core version \".concat(VERSION, \")\") : '';\n  return workerFarm.process(workerSource, \"\".concat(workerName, \"-worker@\").concat(loader.version).concat(warning), {\n    arraybuffer: toArrayBuffer(data),\n    options: options,\n    source: \"loaders.gl@\".concat(VERSION),\n    type: 'parse'\n  });\n}\nvar _workerFarm = null;\n\nfunction getWorkerFarm() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var props = {};\n\n  if (options.maxConcurrency) {\n    props.maxConcurrency = options.maxConcurrency;\n  }\n\n  if (options.onDebug) {\n    props.onDebug = options.onDebug;\n  }\n\n  if (!_workerFarm) {\n    _workerFarm = new WorkerFarm({\n      onMessage: onWorkerMessage\n    });\n  }\n\n  _workerFarm.setProps(props);\n\n  return _workerFarm;\n}\n\nfunction onWorkerMessage(_x) {\n  return _onWorkerMessage.apply(this, arguments);\n}\n\nfunction _onWorkerMessage() {\n  _onWorkerMessage = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(_ref2) {\n    var worker, data, resolve, reject, result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            worker = _ref2.worker, data = _ref2.data, resolve = _ref2.resolve, reject = _ref2.reject;\n            _context.t0 = data.type;\n            _context.next = _context.t0 === 'done' ? 4 : _context.t0 === 'parse' ? 6 : _context.t0 === 'error' ? 17 : 19;\n            break;\n\n          case 4:\n            resolve(data.result);\n            return _context.abrupt(\"break\", 19);\n\n          case 6:\n            _context.prev = 6;\n            _context.next = 9;\n            return parse(data.arraybuffer, data.options, data.url);\n\n          case 9:\n            result = _context.sent;\n            worker.postMessage({\n              type: 'parse-done',\n              id: data.id,\n              result: result\n            }, getTransferList(result));\n            _context.next = 16;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t1 = _context[\"catch\"](6);\n            worker.postMessage({\n              type: 'parse-error',\n              id: data.id,\n              message: _context.t1.message\n            });\n\n          case 16:\n            return _context.abrupt(\"break\", 19);\n\n          case 17:\n            reject(data.message);\n            return _context.abrupt(\"break\", 19);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[6, 13]]);\n  }));\n  return _onWorkerMessage.apply(this, arguments);\n}","import \"core-js/modules/es6.regexp.match\";\nvar DATA_URL_PATTERN = /^data:(.*?)(;|,)/;\nvar MIME_TYPE_PATTERN = /^(.*?)(;|,)/;\nexport function parseMIMEType(mimeString) {\n  if (typeof mimeString !== 'string') {\n    return '';\n  }\n\n  var matches = mimeString.match(MIME_TYPE_PATTERN);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return '';\n}\nexport function parseMIMETypeFromURL(dataUrl) {\n  if (typeof dataUrl !== 'string') {\n    return '';\n  }\n\n  var matches = dataUrl.match(DATA_URL_PATTERN);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return '';\n}","import \"core-js/modules/es6.regexp.replace\";\nimport { isResponse, isBlob } from '../../javascript-utils/is-type';\nimport { parseMIMEType, parseMIMETypeFromURL } from './mime-type-utils';\nvar QUERY_STRING_PATTERN = /\\?.*/;\nexport function getResourceUrlAndType(resource) {\n  if (isResponse(resource)) {\n    var contentType = parseMIMEType(resource.headers.get('content-type'));\n    var urlType = parseMIMETypeFromURL(resource.url);\n    return {\n      url: stripQueryString(resource.url || ''),\n      type: contentType || urlType || null\n    };\n  }\n\n  if (isBlob(resource)) {\n    return {\n      url: stripQueryString(resource.url || ''),\n      type: resource.type || ''\n    };\n  }\n\n  if (typeof resource === 'string') {\n    return {\n      url: stripQueryString(resource),\n      type: parseMIMETypeFromURL(resource)\n    };\n  }\n\n  return {\n    url: '',\n    type: ''\n  };\n}\nexport function getResourceContentLength(resource) {\n  if (isResponse(resource)) {\n    return resource.headers['content-length'] || -1;\n  }\n\n  if (isBlob(resource)) {\n    return resource.size;\n  }\n\n  if (typeof resource === 'string') {\n    return resource.length;\n  }\n\n  if (resource instanceof ArrayBuffer) {\n    return resource.byteLength;\n  }\n\n  if (ArrayBuffer.isView(resource)) {\n    return resource.byteLength;\n  }\n\n  return -1;\n}\n\nfunction stripQueryString(url) {\n  return url.replace(QUERY_STRING_PATTERN, '');\n}","import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { normalizeLoader } from '../loader-utils/normalize-loader';\nvar registeredLoaders = [];\nexport function registerLoaders(loaders) {\n  loaders = Array.isArray(loaders) ? loaders : [loaders];\n\n  var _iterator = _createForOfIteratorHelper(loaders),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var loader = _step.value;\n      var normalizedLoader = normalizeLoader(loader);\n\n      if (!registeredLoaders.find(function (registeredLoader) {\n        return normalizedLoader === registeredLoader;\n      })) {\n        registeredLoaders.unshift(normalizedLoader);\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nexport function getRegisteredLoaders() {\n  return registeredLoaders;\n}\nexport function _unregisterLoaders() {\n  registeredLoaders = [];\n}","import \"core-js/modules/es6.typed.data-view\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { normalizeLoader } from '../loader-utils/normalize-loader';\nimport { getResourceUrlAndType } from '../utils/resource-utils';\nimport { getRegisteredLoaders } from './register-loaders';\nvar EXT_PATTERN = /\\.([^.]+)$/;\nexport function selectLoader(data) {\n  var loaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var context = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  if (loaders && !Array.isArray(loaders)) {\n    return normalizeLoader(loaders);\n  }\n\n  loaders = [].concat(_toConsumableArray(loaders || []), _toConsumableArray(getRegisteredLoaders()));\n  normalizeLoaders(loaders);\n\n  var _getResourceUrlAndTyp = getResourceUrlAndType(data),\n      url = _getResourceUrlAndTyp.url,\n      type = _getResourceUrlAndTyp.type;\n\n  var loader = findLoaderByUrl(loaders, url || context.url);\n  loader = loader || findLoaderByContentType(loaders, type);\n  loader = loader || findLoaderByExamingInitialData(loaders, data);\n\n  if (!loader && !options.nothrow) {\n    throw new Error(getNoValidLoaderMessage(data, url, type));\n  }\n\n  return loader;\n}\n\nfunction getNoValidLoaderMessage(data, url, contentType) {\n  var message = 'No valid loader found';\n\n  if (data) {\n    message += \" data: \\\"\".concat(getFirstCharacters(data), \"\\\"\");\n  }\n\n  if (url) {\n    message += \" for \".concat(url);\n  }\n\n  return message;\n}\n\nfunction normalizeLoaders(loaders) {\n  var _iterator = _createForOfIteratorHelper(loaders),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var loader = _step.value;\n      normalizeLoader(loader);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\n\nfunction findLoaderByUrl(loaders, url) {\n  var match = url && url.match(EXT_PATTERN);\n  var extension = match && match[1];\n  return extension && findLoaderByExtension(loaders, extension);\n}\n\nfunction findLoaderByExtension(loaders, extension) {\n  extension = extension.toLowerCase();\n\n  var _iterator2 = _createForOfIteratorHelper(loaders),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var loader = _step2.value;\n\n      var _iterator3 = _createForOfIteratorHelper(loader.extensions),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var loaderExtension = _step3.value;\n\n          if (loaderExtension.toLowerCase() === extension) {\n            return loader;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return null;\n}\n\nfunction findLoaderByContentType(loaders, mimeType) {\n  var _iterator4 = _createForOfIteratorHelper(loaders),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var loader = _step4.value;\n\n      if (loader.mimeTypes && loader.mimeTypes.includes(mimeType)) {\n        return loader;\n      }\n\n      if (mimeType === \"application/x.\".concat(loader.id)) {\n        return loader;\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  return null;\n}\n\nfunction findLoaderByExamingInitialData(loaders, data) {\n  if (!data) {\n    return null;\n  }\n\n  var _iterator5 = _createForOfIteratorHelper(loaders),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var loader = _step5.value;\n\n      if (typeof data === 'string') {\n        if (testText(data, loader)) {\n          return loader;\n        }\n      } else if (ArrayBuffer.isView(data)) {\n        if (testBinary(data.buffer, data.byteOffset, loader)) {\n          return loader;\n        }\n      } else if (data instanceof ArrayBuffer) {\n        var byteOffset = 0;\n\n        if (testBinary(data, byteOffset, loader)) {\n          return loader;\n        }\n      }\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return null;\n}\n\nfunction testText(data, loader) {\n  return loader.testText && loader.testText(data);\n}\n\nfunction testBinary(data, byteOffset, loader) {\n  var type = Array.isArray(loader.test) ? 'array' : _typeof(loader.test);\n\n  switch (type) {\n    case 'function':\n      return loader.test(data, loader);\n\n    case 'string':\n    case 'array':\n      var tests = Array.isArray(loader.test) ? loader.test : [loader.test];\n      return tests.some(function (test) {\n        var magic = getMagicString(data, byteOffset, test.length);\n        return test === magic;\n      });\n\n    default:\n      return false;\n  }\n}\n\nfunction getFirstCharacters(data) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n\n  if (typeof data === 'string') {\n    return data.slice(0, length);\n  } else if (ArrayBuffer.isView(data)) {\n    return getMagicString(data.buffer, data.byteOffset, length);\n  } else if (data instanceof ArrayBuffer) {\n    var byteOffset = 0;\n    return getMagicString(data, byteOffset, length);\n  }\n\n  return '';\n}\n\nfunction getMagicString(arrayBuffer, byteOffset, length) {\n  if (arrayBuffer.byteLength <= byteOffset + length) {\n    return '';\n  }\n\n  var dataView = new DataView(arrayBuffer);\n  var magic = '';\n\n  for (var i = 0; i < length; i++) {\n    magic += String.fromCharCode(dataView.getUint8(byteOffset + i));\n  }\n\n  return magic;\n}","import \"core-js/modules/es6.array.is-array\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { assert, validateLoaderVersion } from '@loaders.gl/loader-utils';\nimport { isLoaderObject } from '../loader-utils/normalize-loader';\nimport { mergeOptions } from '../loader-utils/merge-options';\nimport { getUrlFromData } from '../loader-utils/get-data';\nimport { getArrayBufferOrStringFromData } from '../loader-utils/get-data';\nimport { getLoaders, getLoaderContext } from '../loader-utils/get-loader-context';\nimport parseWithWorker, { canParseWithWorker } from '../loader-utils/parse-with-worker';\nimport { selectLoader } from './select-loader';\nexport function parse(_x, _x2, _x3, _x4) {\n  return _parse.apply(this, arguments);\n}\n\nfunction _parse() {\n  _parse = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(data, loaders, options, context) {\n    var url, autoUrl, candidateLoaders, loader;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (loaders && !Array.isArray(loaders) && !isLoaderObject(loaders)) {\n              context = options;\n              options = loaders;\n              loaders = null;\n            }\n\n            url = '';\n\n            if (typeof context === 'string') {\n              url = context;\n              context = null;\n            }\n\n            options = options || {};\n            autoUrl = getUrlFromData(data, url);\n            candidateLoaders = getLoaders(loaders, context);\n            loader = selectLoader(data, candidateLoaders, options, {\n              url: autoUrl\n            });\n\n            if (loader) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", null);\n\n          case 9:\n            options = mergeOptions(loader, options, autoUrl);\n            context = getLoaderContext({\n              url: autoUrl,\n              parse: parse,\n              loaders: candidateLoaders\n            }, options, context);\n            _context.next = 13;\n            return parseWithLoader(loader, data, options, context);\n\n          case 13:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parse.apply(this, arguments);\n}\n\nfunction parseWithLoader(_x5, _x6, _x7, _x8) {\n  return _parseWithLoader.apply(this, arguments);\n}\n\nfunction _parseWithLoader() {\n  _parseWithLoader = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(loader, data, options, context) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            validateLoaderVersion(loader);\n            _context2.next = 3;\n            return getArrayBufferOrStringFromData(data, loader);\n\n          case 3:\n            data = _context2.sent;\n\n            if (!(loader.parseTextSync && typeof data === 'string')) {\n              _context2.next = 7;\n              break;\n            }\n\n            options.dataType = 'text';\n            return _context2.abrupt(\"return\", loader.parseTextSync(data, options, context, loader));\n\n          case 7:\n            if (!canParseWithWorker(loader, data, options, context)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 10;\n            return parseWithWorker(loader, data, options, context);\n\n          case 10:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 11:\n            if (!loader.parse) {\n              _context2.next = 15;\n              break;\n            }\n\n            _context2.next = 14;\n            return loader.parse(data, options, context, loader);\n\n          case 14:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 15:\n            assert(!loader.parseSync);\n            return _context2.abrupt(\"return\", assert(false));\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parseWithLoader.apply(this, arguments);\n}","import \"core-js/modules/es6.array.is-array\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { isBlob } from '../../javascript-utils/is-type';\nimport { fetchFile } from '../fetch/fetch-file';\nimport { isLoaderObject } from '../loader-utils/normalize-loader';\nimport { parse } from './parse';\nexport function load(_x, _x2, _x3) {\n  return _load.apply(this, arguments);\n}\n\nfunction _load() {\n  _load = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(url, loaders, options) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!Array.isArray(loaders) && !isLoaderObject(loaders)) {\n              options = loaders;\n              loaders = null;\n            }\n\n            data = url;\n\n            if (!(typeof url === 'string')) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 5;\n            return fetchFile(url, options);\n\n          case 5:\n            data = _context.sent;\n            _context.next = 9;\n            break;\n\n          case 8:\n            url = null;\n\n          case 9:\n            if (!isBlob(url)) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.next = 12;\n            return fetchFile(url, options);\n\n          case 12:\n            data = _context.sent;\n            url = null;\n\n          case 14:\n            _context.next = 16;\n            return parse(data, loaders, options, url);\n\n          case 16:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _load.apply(this, arguments);\n}","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-integer\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.typed.uint8-clamped-array\";\nimport \"core-js/modules/es6.object.freeze\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { COORDINATE_SYSTEM } from './constants';\nimport AttributeManager from './attribute/attribute-manager';\nimport UniformTransitionManager from './uniform-transition-manager';\nimport { diffProps as _diffProps, validateProps as _validateProps } from '../lifecycle/props';\nimport { count } from '../utils/count';\nimport log from '../utils/log';\nimport debug from '../debug';\nimport { withParameters, setParameters } from '@luma.gl/core';\nimport assert from '../utils/assert';\nimport { mergeShaders } from '../utils/shader';\nimport { projectPosition as _projectPosition, getWorldPosition } from '../shaderlib/project/project-functions';\nimport typedArrayManager from '../utils/typed-array-manager';\nimport Component from '../lifecycle/component';\nimport LayerState from './layer-state';\nimport { worldToPixels } from '@math.gl/web-mercator';\nimport { load } from '@loaders.gl/core';\nvar TRACE_CHANGE_FLAG = 'layer.changeFlag';\nvar TRACE_INITIALIZE = 'layer.initialize';\nvar TRACE_UPDATE = 'layer.update';\nvar TRACE_FINALIZE = 'layer.finalize';\nvar TRACE_MATCHED = 'layer.matched';\nvar EMPTY_ARRAY = Object.freeze([]);\nvar pickingColorCache = new Uint8ClampedArray(0);\nvar defaultProps = {\n  data: {\n    type: 'data',\n    value: EMPTY_ARRAY,\n    async: true\n  },\n  dataComparator: null,\n  _dataDiff: {\n    type: 'function',\n    value: function value(data) {\n      return data && data.__diff;\n    },\n    compare: false,\n    optional: true\n  },\n  dataTransform: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDataLoad: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  fetch: {\n    type: 'function',\n    value: function value(url, _ref) {\n      var layer = _ref.layer;\n      return load(url, layer.getLoadOptions());\n    },\n    compare: false\n  },\n  updateTriggers: {},\n  visible: true,\n  pickable: false,\n  opacity: {\n    type: 'number',\n    min: 0,\n    max: 1,\n    value: 1\n  },\n  onHover: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onClick: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragStart: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDrag: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  onDragEnd: {\n    type: 'function',\n    value: null,\n    compare: false,\n    optional: true\n  },\n  coordinateSystem: COORDINATE_SYSTEM.DEFAULT,\n  coordinateOrigin: {\n    type: 'array',\n    value: [0, 0, 0],\n    compare: true\n  },\n  modelMatrix: {\n    type: 'array',\n    value: null,\n    compare: true,\n    optional: true\n  },\n  wrapLongitude: false,\n  positionFormat: 'XYZ',\n  colorFormat: 'RGBA',\n  parameters: {},\n  uniforms: {},\n  extensions: [],\n  getPolygonOffset: {\n    type: 'function',\n    value: function value(_ref2) {\n      var layerIndex = _ref2.layerIndex;\n      return [0, -layerIndex * 100];\n    },\n    compare: false\n  },\n  highlightedObjectIndex: null,\n  autoHighlight: false,\n  highlightColor: {\n    type: 'accessor',\n    value: [0, 0, 128, 128]\n  }\n};\n\nvar Layer = function (_Component) {\n  _inherits(Layer, _Component);\n\n  function Layer() {\n    _classCallCheck(this, Layer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Layer).apply(this, arguments));\n  }\n\n  _createClass(Layer, [{\n    key: \"toString\",\n    value: function toString() {\n      var className = this.constructor.layerName || this.constructor.name;\n      return \"\".concat(className, \"({id: '\").concat(this.props.id, \"'})\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(updateObject) {\n      this.setChangeFlags({\n        stateChanged: true\n      });\n      Object.assign(this.state, updateObject);\n      this.setNeedsRedraw();\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw() {\n      var redraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this.internalState) {\n        this.internalState.needsRedraw = redraw;\n      }\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate() {\n      this.context.layerManager.setNeedsUpdate(String(this));\n      this.internalState.needsUpdate = true;\n    }\n  }, {\n    key: \"getNeedsRedraw\",\n    value: function getNeedsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      return this._getNeedsRedraw(opts);\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this.internalState.needsUpdate || this.hasUniformTransition() || this.shouldUpdateState(this._getUpdateParams());\n    }\n  }, {\n    key: \"hasUniformTransition\",\n    value: function hasUniformTransition() {\n      return this.internalState.uniformTransitions.active;\n    }\n  }, {\n    key: \"isPickable\",\n    value: function isPickable() {\n      return this.props.pickable && this.props.visible;\n    }\n  }, {\n    key: \"getModels\",\n    value: function getModels() {\n      return this.state && (this.state.models || (this.state.model ? [this.state.model] : []));\n    }\n  }, {\n    key: \"getAttributeManager\",\n    value: function getAttributeManager() {\n      return this.internalState && this.internalState.attributeManager;\n    }\n  }, {\n    key: \"getCurrentLayer\",\n    value: function getCurrentLayer() {\n      return this.internalState && this.internalState.layer;\n    }\n  }, {\n    key: \"getLoadOptions\",\n    value: function getLoadOptions() {\n      return this.props.loadOptions;\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var viewport = this.context.viewport;\n      var worldPosition = getWorldPosition(xyz, {\n        viewport: viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n\n      var _worldToPixels = worldToPixels(worldPosition, viewport.pixelProjectionMatrix),\n          _worldToPixels2 = _slicedToArray(_worldToPixels, 3),\n          x = _worldToPixels2[0],\n          y = _worldToPixels2[1],\n          z = _worldToPixels2[2];\n\n      return xyz.length === 2 ? [x, y] : [x, y, z];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xy) {\n      var viewport = this.context.viewport;\n      return viewport.unproject(xy);\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      return _projectPosition(xyz, {\n        viewport: this.context.viewport,\n        modelMatrix: this.props.modelMatrix,\n        coordinateOrigin: this.props.coordinateOrigin,\n        coordinateSystem: this.props.coordinateSystem\n      });\n    }\n  }, {\n    key: \"use64bitPositions\",\n    value: function use64bitPositions() {\n      var coordinateSystem = this.props.coordinateSystem;\n      return coordinateSystem === COORDINATE_SYSTEM.DEFAULT || coordinateSystem === COORDINATE_SYSTEM.LNGLAT || coordinateSystem === COORDINATE_SYSTEM.CARTESIAN;\n    }\n  }, {\n    key: \"onHover\",\n    value: function onHover(info, pickingEvent) {\n      if (this.props.onHover) {\n        return this.props.onHover(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(info, pickingEvent) {\n      if (this.props.onClick) {\n        return this.props.onClick(info, pickingEvent);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"nullPickingColor\",\n    value: function nullPickingColor() {\n      return [0, 0, 0];\n    }\n  }, {\n    key: \"encodePickingColor\",\n    value: function encodePickingColor(i) {\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      target[0] = i + 1 & 255;\n      target[1] = i + 1 >> 8 & 255;\n      target[2] = i + 1 >> 8 >> 8 & 255;\n      return target;\n    }\n  }, {\n    key: \"decodePickingColor\",\n    value: function decodePickingColor(color) {\n      assert(color instanceof Uint8Array);\n\n      var _color = _slicedToArray(color, 3),\n          i1 = _color[0],\n          i2 = _color[1],\n          i3 = _color[2];\n\n      var index = i1 + i2 * 256 + i3 * 65536 - 1;\n      return index;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      throw new Error(\"Layer \".concat(this, \" has not defined initializeState\"));\n    }\n  }, {\n    key: \"getShaders\",\n    value: function getShaders(shaders) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.extensions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var extension = _step.value;\n          shaders = mergeShaders(shaders, extension.getShaders.call(this, extension));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return shaders;\n    }\n  }, {\n    key: \"shouldUpdateState\",\n    value: function shouldUpdateState(_ref3) {\n      var oldProps = _ref3.oldProps,\n          props = _ref3.props,\n          context = _ref3.context,\n          changeFlags = _ref3.changeFlags;\n      return changeFlags.propsOrDataChanged;\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref4) {\n      var oldProps = _ref4.oldProps,\n          props = _ref4.props,\n          context = _ref4.context,\n          changeFlags = _ref4.changeFlags;\n      var attributeManager = this.getAttributeManager();\n\n      if (changeFlags.dataChanged && attributeManager) {\n        var dataChanged = changeFlags.dataChanged;\n\n        if (Array.isArray(dataChanged)) {\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = dataChanged[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var dataRange = _step2.value;\n              attributeManager.invalidateAll(dataRange);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        } else {\n          attributeManager.invalidateAll();\n        }\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.getModels()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var model = _step3.value;\n          model[\"delete\"]();\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.finalize();\n      }\n\n      this.internalState.uniformTransitions.clear();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(opts) {\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.getModels()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var model = _step4.value;\n          model.draw(opts);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref5) {\n      var info = _ref5.info,\n          mode = _ref5.mode;\n      var index = info.index;\n\n      if (index >= 0) {\n        if (Array.isArray(this.props.data)) {\n          info.object = this.props.data[index];\n        }\n      }\n\n      return info;\n    }\n  }, {\n    key: \"invalidateAttribute\",\n    value: function invalidateAttribute() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';\n      var diffReason = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      if (name === 'all') {\n        attributeManager.invalidateAll();\n      } else {\n        attributeManager.invalidate(name);\n      }\n    }\n  }, {\n    key: \"updateAttributes\",\n    value: function updateAttributes(changedAttributes) {\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = this.getModels()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var model = _step5.value;\n\n          this._setModelAttributes(model, changedAttributes);\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateAttributes\",\n    value: function _updateAttributes(props) {\n      var attributeManager = this.getAttributeManager();\n\n      if (!attributeManager) {\n        return;\n      }\n\n      var numInstances = this.getNumInstances(props);\n      var startIndices = this.getStartIndices(props);\n      attributeManager.update({\n        data: props.data,\n        numInstances: numInstances,\n        startIndices: startIndices,\n        props: props,\n        transitions: props.transitions,\n        buffers: props.data.attributes,\n        context: this,\n        ignoreUnknownAttributes: true\n      });\n      var changedAttributes = attributeManager.getChangedAttributes({\n        clearChangedFlags: true\n      });\n      this.updateAttributes(changedAttributes);\n    }\n  }, {\n    key: \"_updateAttributeTransition\",\n    value: function _updateAttributeTransition() {\n      var attributeManager = this.getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.updateTransition();\n      }\n    }\n  }, {\n    key: \"_updateUniformTransition\",\n    value: function _updateUniformTransition() {\n      var uniformTransitions = this.internalState.uniformTransitions;\n\n      if (uniformTransitions.active) {\n        var propsInTransition = uniformTransitions.update();\n        var props = Object.create(this.props);\n\n        for (var key in propsInTransition) {\n          Object.defineProperty(props, key, {\n            value: propsInTransition[key]\n          });\n        }\n\n        return props;\n      }\n\n      return this.props;\n    }\n  }, {\n    key: \"calculateInstancePickingColors\",\n    value: function calculateInstancePickingColors(attribute, _ref6) {\n      var numInstances = _ref6.numInstances;\n      var cacheSize = pickingColorCache.length / 3;\n\n      if (cacheSize < numInstances) {\n        pickingColorCache = typedArrayManager.allocate(pickingColorCache, numInstances, {\n          size: 3,\n          copy: true\n        });\n        var newCacheSize = pickingColorCache.length / 3;\n        var pickingColor = [];\n        assert(newCacheSize < 16777215, 'index out of picking color range');\n\n        for (var i = cacheSize; i < newCacheSize; i++) {\n          this.encodePickingColor(i, pickingColor);\n          pickingColorCache[i * 3 + 0] = pickingColor[0];\n          pickingColorCache[i * 3 + 1] = pickingColor[1];\n          pickingColorCache[i * 3 + 2] = pickingColor[2];\n        }\n      }\n\n      attribute.value = pickingColorCache.subarray(0, numInstances * 3);\n    }\n  }, {\n    key: \"_setModelAttributes\",\n    value: function _setModelAttributes(model, changedAttributes) {\n      var attributeManager = this.getAttributeManager();\n      var excludeAttributes = model.userData.excludeAttributes || {};\n      var shaderAttributes = attributeManager.getShaderAttributes(changedAttributes, excludeAttributes);\n      model.setAttributes(shaderAttributes);\n    }\n  }, {\n    key: \"clearPickingColor\",\n    value: function clearPickingColor(color) {\n      var _this$getAttributeMan = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan.pickingColors,\n          instancePickingColors = _this$getAttributeMan.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n      var i = this.decodePickingColor(color);\n      var start = colors.getVertexOffset(i);\n      var end = colors.getVertexOffset(i + 1);\n      colors.buffer.subData({\n        data: new Uint8Array(end - start),\n        offset: start\n      });\n    }\n  }, {\n    key: \"restorePickingColors\",\n    value: function restorePickingColors() {\n      var _this$getAttributeMan2 = this.getAttributeManager().attributes,\n          pickingColors = _this$getAttributeMan2.pickingColors,\n          instancePickingColors = _this$getAttributeMan2.instancePickingColors;\n      var colors = pickingColors || instancePickingColors;\n      colors.updateSubBuffer({\n        startOffset: 0\n      });\n    }\n  }, {\n    key: \"getNumInstances\",\n    value: function getNumInstances(props) {\n      props = props || this.props;\n\n      if (props.numInstances !== undefined) {\n        return props.numInstances;\n      }\n\n      if (this.state && this.state.numInstances !== undefined) {\n        return this.state.numInstances;\n      }\n\n      return count(props.data);\n    }\n  }, {\n    key: \"getStartIndices\",\n    value: function getStartIndices(props) {\n      props = props || this.props;\n\n      if (props.startIndices !== undefined) {\n        return props.startIndices;\n      }\n\n      if (this.state && this.state.startIndices) {\n        return this.state.startIndices;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize() {\n      debug(TRACE_INITIALIZE, this);\n\n      this._initState();\n\n      this.initializeState(this.context);\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = this.props.extensions[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var extension = _step6.value;\n          extension.initializeState.call(this, this.context, extension);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n            _iterator6[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      this.setChangeFlags({\n        dataChanged: true,\n        propsChanged: true,\n        viewportChanged: true,\n        extensionsChanged: true\n      });\n\n      this._updateState();\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var stateNeedsUpdate = this.needsUpdate();\n      debug(TRACE_UPDATE, this, stateNeedsUpdate);\n\n      if (stateNeedsUpdate) {\n        this._updateState();\n      }\n    }\n  }, {\n    key: \"_updateState\",\n    value: function _updateState() {\n      var currentProps = this.props;\n\n      var propsInTransition = this._updateUniformTransition();\n\n      this.internalState.propsInTransition = propsInTransition;\n      this.props = propsInTransition;\n\n      var updateParams = this._getUpdateParams();\n\n      if (this.context.gl) {\n        this.updateState(updateParams);\n      } else {\n        try {\n          this.updateState(updateParams);\n        } catch (error) {}\n      }\n\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = this.props.extensions[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var extension = _step7.value;\n          extension.updateState.call(this, updateParams, extension);\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n\n      this._updateModules(updateParams);\n\n      if (this.isComposite) {\n        this._renderLayers(updateParams);\n      } else {\n        this.setNeedsRedraw();\n\n        this._updateAttributes(this.props);\n\n        if (this.state.model) {\n          this.state.model.setInstanceCount(this.getNumInstances());\n        }\n      }\n\n      this.props = currentProps;\n      this.clearChangeFlags();\n      this.internalState.needsUpdate = false;\n      this.internalState.resetOldProps();\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      debug(TRACE_FINALIZE, this);\n      assert(this.internalState && this.state);\n      this.finalizeState(this.context);\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = this.props.extensions[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var extension = _step8.value;\n          extension.finalizeState.call(this, extension);\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n            _iterator8[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawLayer\",\n    value: function drawLayer(_ref7) {\n      var _this = this;\n\n      var _ref7$moduleParameter = _ref7.moduleParameters,\n          moduleParameters = _ref7$moduleParameter === void 0 ? null : _ref7$moduleParameter,\n          _ref7$uniforms = _ref7.uniforms,\n          uniforms = _ref7$uniforms === void 0 ? {} : _ref7$uniforms,\n          _ref7$parameters = _ref7.parameters,\n          parameters = _ref7$parameters === void 0 ? {} : _ref7$parameters;\n\n      this._updateAttributeTransition();\n\n      var currentProps = this.props;\n      this.props = this.internalState.propsInTransition || currentProps;\n      var opacity = this.props.opacity;\n      uniforms.opacity = Math.pow(opacity, 1 / 2.2);\n\n      if (moduleParameters) {\n        this.setModuleParameters(moduleParameters);\n      }\n\n      var getPolygonOffset = this.props.getPolygonOffset;\n      var offsets = getPolygonOffset && getPolygonOffset(uniforms) || [0, 0];\n      setParameters(this.context.gl, {\n        polygonOffset: offsets\n      });\n      withParameters(this.context.gl, parameters, function () {\n        var opts = {\n          moduleParameters: moduleParameters,\n          uniforms: uniforms,\n          parameters: parameters,\n          context: _this.context\n        };\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n          for (var _iterator9 = _this.props.extensions[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n            var extension = _step9.value;\n            extension.draw.call(_this, opts, extension);\n          }\n        } catch (err) {\n          _didIteratorError9 = true;\n          _iteratorError9 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n              _iterator9[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError9) {\n              throw _iteratorError9;\n            }\n          }\n        }\n\n        _this.draw(opts);\n      });\n      this.props = currentProps;\n    }\n  }, {\n    key: \"getChangeFlags\",\n    value: function getChangeFlags() {\n      return this.internalState.changeFlags;\n    }\n  }, {\n    key: \"setChangeFlags\",\n    value: function setChangeFlags(flags) {\n      var changeFlags = this.internalState.changeFlags;\n\n      for (var key in changeFlags) {\n        if (flags[key] && !changeFlags[key]) {\n          changeFlags[key] = flags[key];\n          debug(TRACE_CHANGE_FLAG, this, key, flags);\n        }\n      }\n\n      var propsOrDataChanged = changeFlags.dataChanged || changeFlags.updateTriggersChanged || changeFlags.propsChanged || changeFlags.extensionsChanged;\n      changeFlags.propsOrDataChanged = propsOrDataChanged;\n      changeFlags.somethingChanged = propsOrDataChanged || flags.viewportChanged || flags.stateChanged;\n    }\n  }, {\n    key: \"clearChangeFlags\",\n    value: function clearChangeFlags() {\n      this.internalState.changeFlags = {\n        dataChanged: false,\n        propsChanged: false,\n        updateTriggersChanged: false,\n        viewportChanged: false,\n        stateChanged: false,\n        extensionsChanged: false,\n        propsOrDataChanged: false,\n        somethingChanged: false\n      };\n    }\n  }, {\n    key: \"diffProps\",\n    value: function diffProps(newProps, oldProps) {\n      var changeFlags = _diffProps(newProps, oldProps);\n\n      if (changeFlags.updateTriggersChanged) {\n        for (var key in changeFlags.updateTriggersChanged) {\n          if (changeFlags.updateTriggersChanged[key]) {\n            this.invalidateAttribute(key);\n          }\n        }\n      }\n\n      if (changeFlags.transitionsChanged) {\n        for (var _key in changeFlags.transitionsChanged) {\n          this.internalState.uniformTransitions.add(_key, oldProps[_key], newProps[_key], newProps.transitions[_key]);\n        }\n      }\n\n      return this.setChangeFlags(changeFlags);\n    }\n  }, {\n    key: \"validateProps\",\n    value: function validateProps() {\n      _validateProps(this.props);\n    }\n  }, {\n    key: \"setModuleParameters\",\n    value: function setModuleParameters(moduleParameters) {\n      var _iteratorNormalCompletion10 = true;\n      var _didIteratorError10 = false;\n      var _iteratorError10 = undefined;\n\n      try {\n        for (var _iterator10 = this.getModels()[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n          var model = _step10.value;\n          model.updateModuleSettings(moduleParameters);\n        }\n      } catch (err) {\n        _didIteratorError10 = true;\n        _iteratorError10 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n            _iterator10[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError10) {\n            throw _iteratorError10;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateModules\",\n    value: function _updateModules(_ref8) {\n      var props = _ref8.props,\n          oldProps = _ref8.oldProps;\n      var autoHighlight = props.autoHighlight,\n          highlightedObjectIndex = props.highlightedObjectIndex,\n          highlightColor = props.highlightColor;\n\n      if (oldProps.autoHighlight !== autoHighlight || oldProps.highlightedObjectIndex !== highlightedObjectIndex || oldProps.highlightColor !== highlightColor) {\n        var parameters = {};\n\n        if (!autoHighlight) {\n          parameters.pickingSelectedColor = null;\n        }\n\n        if (Array.isArray(highlightColor)) {\n          parameters.pickingHighlightColor = highlightColor;\n        }\n\n        if (Number.isInteger(highlightedObjectIndex)) {\n          parameters.pickingSelectedColor = highlightedObjectIndex >= 0 ? this.encodePickingColor(highlightedObjectIndex) : null;\n        }\n\n        this.setModuleParameters(parameters);\n      }\n    }\n  }, {\n    key: \"_getUpdateParams\",\n    value: function _getUpdateParams() {\n      return {\n        props: this.props,\n        oldProps: this.internalState.getOldProps(),\n        context: this.context,\n        changeFlags: this.internalState.changeFlags\n      };\n    }\n  }, {\n    key: \"_getNeedsRedraw\",\n    value: function _getNeedsRedraw(opts) {\n      if (!this.internalState) {\n        return false;\n      }\n\n      var redraw = false;\n      redraw = redraw || this.internalState.needsRedraw && this.id;\n      this.internalState.needsRedraw = this.internalState.needsRedraw && !opts.clearRedrawFlags;\n      var attributeManager = this.getAttributeManager();\n      var attributeManagerNeedsRedraw = attributeManager && attributeManager.getNeedsRedraw(opts);\n      redraw = redraw || attributeManagerNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"_getAttributeManager\",\n    value: function _getAttributeManager() {\n      return new AttributeManager(this.context.gl, {\n        id: this.props.id,\n        stats: this.context.stats,\n        timeline: this.context.timeline\n      });\n    }\n  }, {\n    key: \"_initState\",\n    value: function _initState() {\n      assert(!this.internalState && !this.state);\n      assert(isFinite(this.props.coordinateSystem), \"\".concat(this.id, \": invalid coordinateSystem\"));\n\n      var attributeManager = this._getAttributeManager();\n\n      if (attributeManager) {\n        attributeManager.addInstanced({\n          instancePickingColors: {\n            type: 5121,\n            size: 3,\n            noAlloc: true,\n            update: this.calculateInstancePickingColors\n          }\n        });\n      }\n\n      this.internalState = new LayerState({\n        attributeManager: attributeManager,\n        layer: this\n      });\n      this.clearChangeFlags();\n      this.state = {};\n      Object.defineProperty(this.state, 'attributeManager', {\n        get: function get() {\n          log.deprecated('layer.state.attributeManager', 'layer.getAttributeManager()');\n          return attributeManager;\n        }\n      });\n      this.internalState.layer = this;\n      this.internalState.uniformTransitions = new UniformTransitionManager(this.context.timeline);\n      this.internalState.onAsyncPropUpdated = this._onAsyncPropUpdated.bind(this);\n      this.internalState.setAsyncProps(this.props);\n    }\n  }, {\n    key: \"_transferState\",\n    value: function _transferState(oldLayer) {\n      debug(TRACE_MATCHED, this, this === oldLayer);\n      var state = oldLayer.state,\n          internalState = oldLayer.internalState;\n      assert(state && internalState);\n\n      if (this === oldLayer) {\n        return;\n      }\n\n      this.internalState = internalState;\n      this.internalState.layer = this;\n      this.state = state;\n      this.internalState.setAsyncProps(this.props);\n      this.diffProps(this.props, this.internalState.getOldProps());\n    }\n  }, {\n    key: \"_onAsyncPropUpdated\",\n    value: function _onAsyncPropUpdated() {\n      this.diffProps(this.props, this.internalState.getOldProps());\n      this.setNeedsUpdate();\n    }\n  }, {\n    key: \"isLoaded\",\n    get: function get() {\n      return this.internalState && !this.internalState.isAsyncPropLoading();\n    }\n  }]);\n\n  return Layer;\n}(Component);\n\nexport { Layer as default };\nLayer.layerName = 'Layer';\nLayer.defaultProps = defaultProps;","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.assign\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { uid, assert } from '@luma.gl/webgl';\nexport var DRAW_MODE = {\n  POINTS: 0x0000,\n  LINES: 0x0001,\n  LINE_LOOP: 0x0002,\n  LINE_STRIP: 0x0003,\n  TRIANGLES: 0x0004,\n  TRIANGLE_STRIP: 0x0005,\n  TRIANGLE_FAN: 0x0006\n};\n\nvar Geometry = function () {\n  _createClass(Geometry, null, [{\n    key: \"DRAW_MODE\",\n    get: function get() {\n      return DRAW_MODE;\n    }\n  }]);\n\n  function Geometry() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Geometry);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? uid('geometry') : _props$id,\n        _props$drawMode = props.drawMode,\n        drawMode = _props$drawMode === void 0 ? DRAW_MODE.TRIANGLES : _props$drawMode,\n        _props$attributes = props.attributes,\n        attributes = _props$attributes === void 0 ? {} : _props$attributes,\n        _props$indices = props.indices,\n        indices = _props$indices === void 0 ? null : _props$indices,\n        _props$vertexCount = props.vertexCount,\n        vertexCount = _props$vertexCount === void 0 ? null : _props$vertexCount;\n    this.id = id;\n    this.drawMode = drawMode | 0;\n    this.attributes = {};\n    this.userData = {};\n\n    this._setAttributes(attributes, indices);\n\n    this.vertexCount = vertexCount || this._calculateVertexCount(this.attributes, this.indices);\n  }\n\n  _createClass(Geometry, [{\n    key: \"getVertexCount\",\n    value: function getVertexCount() {\n      return this.vertexCount;\n    }\n  }, {\n    key: \"getAttributes\",\n    value: function getAttributes() {\n      return this.indices ? _objectSpread({\n        indices: this.indices\n      }, this.attributes) : this.attributes;\n    }\n  }, {\n    key: \"_print\",\n    value: function _print(attributeName) {\n      return \"Geometry \".concat(this.id, \" attribute \").concat(attributeName);\n    }\n  }, {\n    key: \"_setAttributes\",\n    value: function _setAttributes(attributes, indices) {\n      if (indices) {\n        this.indices = ArrayBuffer.isView(indices) ? {\n          value: indices,\n          size: 1\n        } : indices;\n      }\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        attribute = ArrayBuffer.isView(attribute) ? {\n          value: attribute\n        } : attribute;\n        assert(ArrayBuffer.isView(attribute.value), \"\".concat(this._print(attributeName), \": must be typed array or object with value as typed array\"));\n\n        if ((attributeName === 'POSITION' || attributeName === 'positions') && !attribute.size) {\n          attribute.size = 3;\n        }\n\n        if (attributeName === 'indices') {\n          assert(!this.indices);\n          this.indices = attribute;\n        } else {\n          this.attributes[attributeName] = attribute;\n        }\n      }\n\n      if (this.indices && this.indices.isIndexed !== undefined) {\n        this.indices = Object.assign({}, this.indices);\n        delete this.indices.isIndexed;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_calculateVertexCount\",\n    value: function _calculateVertexCount(attributes, indices) {\n      if (indices) {\n        return indices.value.length;\n      }\n\n      var vertexCount = Infinity;\n\n      for (var attributeName in attributes) {\n        var attribute = attributes[attributeName];\n        var value = attribute.value,\n            size = attribute.size,\n            constant = attribute.constant;\n\n        if (!constant && value && size >= 1) {\n          vertexCount = Math.min(vertexCount, value.length / size);\n        }\n      }\n\n      assert(Number.isFinite(vertexCount));\n      return vertexCount;\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.drawMode;\n    }\n  }]);\n\n  return Geometry;\n}();\n\nexport { Geometry as default };","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.max-safe-integer\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { Layer, project32, picking } from '@deck.gl/core';\nimport { Model, Geometry } from '@luma.gl/core';\nimport vs from './scatterplot-layer-vertex.glsl';\nimport fs from './scatterplot-layer-fragment.glsl';\nvar DEFAULT_COLOR = [0, 0, 0, 255];\nvar defaultProps = {\n  radiusScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  radiusMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  radiusMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  lineWidthUnits: 'meters',\n  lineWidthScale: {\n    type: 'number',\n    min: 0,\n    value: 1\n  },\n  lineWidthMinPixels: {\n    type: 'number',\n    min: 0,\n    value: 0\n  },\n  lineWidthMaxPixels: {\n    type: 'number',\n    min: 0,\n    value: Number.MAX_SAFE_INTEGER\n  },\n  stroked: false,\n  filled: true,\n  getPosition: {\n    type: 'accessor',\n    value: function value(x) {\n      return x.position;\n    }\n  },\n  getRadius: {\n    type: 'accessor',\n    value: 1\n  },\n  getFillColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getLineColor: {\n    type: 'accessor',\n    value: DEFAULT_COLOR\n  },\n  getLineWidth: {\n    type: 'accessor',\n    value: 1\n  },\n  strokeWidth: {\n    deprecatedFor: 'getLineWidth'\n  },\n  outline: {\n    deprecatedFor: 'stroked'\n  },\n  getColor: {\n    deprecatedFor: ['getFillColor', 'getLineColor']\n  }\n};\n\nvar ScatterplotLayer = function (_Layer) {\n  _inherits(ScatterplotLayer, _Layer);\n\n  function ScatterplotLayer() {\n    _classCallCheck(this, ScatterplotLayer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ScatterplotLayer).apply(this, arguments));\n  }\n\n  _createClass(ScatterplotLayer, [{\n    key: \"getShaders\",\n    value: function getShaders(id) {\n      return _get(_getPrototypeOf(ScatterplotLayer.prototype), \"getShaders\", this).call(this, {\n        vs: vs,\n        fs: fs,\n        modules: [project32, picking]\n      });\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      this.getAttributeManager().addInstanced({\n        instancePositions: {\n          size: 3,\n          type: 5130,\n          fp64: this.use64bitPositions(),\n          transition: true,\n          accessor: 'getPosition'\n        },\n        instanceRadius: {\n          size: 1,\n          transition: true,\n          accessor: 'getRadius',\n          defaultValue: 1\n        },\n        instanceFillColors: {\n          size: this.props.colorFormat.length,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getFillColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineColors: {\n          size: this.props.colorFormat.length,\n          transition: true,\n          normalized: true,\n          type: 5121,\n          accessor: 'getLineColor',\n          defaultValue: [0, 0, 0, 255]\n        },\n        instanceLineWidths: {\n          size: 1,\n          transition: true,\n          accessor: 'getLineWidth',\n          defaultValue: 1\n        }\n      });\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(_ref) {\n      var props = _ref.props,\n          oldProps = _ref.oldProps,\n          changeFlags = _ref.changeFlags;\n\n      _get(_getPrototypeOf(ScatterplotLayer.prototype), \"updateState\", this).call(this, {\n        props: props,\n        oldProps: oldProps,\n        changeFlags: changeFlags\n      });\n\n      if (changeFlags.extensionsChanged) {\n        var gl = this.context.gl;\n\n        if (this.state.model) {\n          this.state.model[\"delete\"]();\n        }\n\n        this.setState({\n          model: this._getModel(gl)\n        });\n        this.getAttributeManager().invalidateAll();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var viewport = this.context.viewport;\n      var _this$props = this.props,\n          radiusScale = _this$props.radiusScale,\n          radiusMinPixels = _this$props.radiusMinPixels,\n          radiusMaxPixels = _this$props.radiusMaxPixels,\n          stroked = _this$props.stroked,\n          filled = _this$props.filled,\n          lineWidthUnits = _this$props.lineWidthUnits,\n          lineWidthScale = _this$props.lineWidthScale,\n          lineWidthMinPixels = _this$props.lineWidthMinPixels,\n          lineWidthMaxPixels = _this$props.lineWidthMaxPixels;\n      var widthMultiplier = lineWidthUnits === 'pixels' ? viewport.metersPerPixel : 1;\n      this.state.model.setUniforms(uniforms).setUniforms({\n        stroked: stroked ? 1 : 0,\n        filled: filled,\n        radiusScale: radiusScale,\n        radiusMinPixels: radiusMinPixels,\n        radiusMaxPixels: radiusMaxPixels,\n        lineWidthScale: lineWidthScale * widthMultiplier,\n        lineWidthMinPixels: lineWidthMinPixels,\n        lineWidthMaxPixels: lineWidthMaxPixels\n      }).draw();\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      var positions = [-1, -1, 0, -1, 1, 0, 1, 1, 0, 1, -1, 0];\n      return new Model(gl, Object.assign(this.getShaders(), {\n        id: this.props.id,\n        geometry: new Geometry({\n          drawMode: 6,\n          vertexCount: 4,\n          attributes: {\n            positions: {\n              size: 3,\n              value: new Float32Array(positions)\n            }\n          }\n        }),\n        isInstanced: true\n      }));\n    }\n  }]);\n\n  return ScatterplotLayer;\n}(Layer);\n\nexport { ScatterplotLayer as default };\nScatterplotLayer.layerName = 'ScatterplotLayer';\nScatterplotLayer.defaultProps = defaultProps;","export default \"#define SHADER_NAME scatterplot-layer-vertex-shader\\n\\nattribute vec3 positions;\\n\\nattribute vec3 instancePositions;\\nattribute vec3 instancePositions64Low;\\nattribute float instanceRadius;\\nattribute float instanceLineWidths;\\nattribute vec4 instanceFillColors;\\nattribute vec4 instanceLineColors;\\nattribute vec3 instancePickingColors;\\n\\nuniform float opacity;\\nuniform float radiusScale;\\nuniform float radiusMinPixels;\\nuniform float radiusMaxPixels;\\nuniform float lineWidthScale;\\nuniform float lineWidthMinPixels;\\nuniform float lineWidthMaxPixels;\\nuniform float stroked;\\nuniform bool filled;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying vec2 unitPosition;\\nvarying float innerUnitRadius;\\nvarying float outerRadiusPixels;\\n\\nvoid main(void) {\\n  geometry.worldPosition = instancePositions;\\n  outerRadiusPixels = clamp(\\n    project_size_to_pixel(radiusScale * instanceRadius),\\n    radiusMinPixels, radiusMaxPixels\\n  );\\n  float lineWidthPixels = clamp(\\n    project_size_to_pixel(lineWidthScale * instanceLineWidths),\\n    lineWidthMinPixels, lineWidthMaxPixels\\n  );\\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\\n  unitPosition = positions.xy;\\n  geometry.uv = unitPosition;\\n  geometry.pickingColor = instancePickingColors;\\n\\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\\n  \\n  vec3 offset = positions * project_pixel_size(outerRadiusPixels);\\n  DECKGL_FILTER_SIZE(offset, geometry);\\n  gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\\n}\\n\";","export default \"#define SHADER_NAME scatterplot-layer-fragment-shader\\n\\nprecision highp float;\\n\\nuniform bool filled;\\nuniform float stroked;\\n\\nvarying vec4 vFillColor;\\nvarying vec4 vLineColor;\\nvarying vec2 unitPosition;\\nvarying float innerUnitRadius;\\nvarying float outerRadiusPixels;\\n\\nvoid main(void) {\\n  geometry.uv = unitPosition;\\n\\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\\n  float inCircle = smoothedge(distToCenter, outerRadiusPixels);\\n\\n  if (inCircle == 0.0) {\\n    discard;\\n  }\\n\\n  if (stroked > 0.5) {\\n    float isLine = smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter);\\n    if (filled) {\\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\\n    } else {\\n      if (isLine == 0.0) {\\n        discard;\\n      }\\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\\n    }\\n  } else if (filled) {\\n    gl_FragColor = vFillColor;\\n  } else {\\n    discard;\\n  }\\n\\n  gl_FragColor.a *= inCircle;\\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\\n}\\n\";","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.repeat\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar channelHandles = 1;\nvar animationHandles = 1;\nexport var Timeline = function () {\n  function Timeline() {\n    _classCallCheck(this, Timeline);\n\n    this.time = 0;\n    this.channels = new Map();\n    this.animations = new Map();\n    this.playing = false;\n    this.lastEngineTime = -1;\n  }\n\n  _createClass(Timeline, [{\n    key: \"addChannel\",\n    value: function addChannel(props) {\n      var _props$delay = props.delay,\n          delay = _props$delay === void 0 ? 0 : _props$delay,\n          _props$duration = props.duration,\n          duration = _props$duration === void 0 ? Number.POSITIVE_INFINITY : _props$duration,\n          _props$rate = props.rate,\n          rate = _props$rate === void 0 ? 1 : _props$rate,\n          _props$repeat = props.repeat,\n          repeat = _props$repeat === void 0 ? 1 : _props$repeat;\n      var handle = channelHandles++;\n      var channel = {\n        time: 0,\n        delay: delay,\n        duration: duration,\n        rate: rate,\n        repeat: repeat\n      };\n\n      this._setChannelTime(channel, this.time);\n\n      this.channels.set(handle, channel);\n      return handle;\n    }\n  }, {\n    key: \"removeChannel\",\n    value: function removeChannel(handle) {\n      this.channels[\"delete\"](handle);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.animations[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              animationHandle = _step$value[0],\n              animation = _step$value[1];\n\n          if (animation.channel === handle) {\n            this.detachAnimation(animationHandle);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isFinished\",\n    value: function isFinished(handle) {\n      var channel = this.channels.get(handle);\n\n      if (channel === undefined) {\n        return false;\n      }\n\n      return this.time >= channel.delay + channel.duration * channel.repeat;\n    }\n  }, {\n    key: \"getTime\",\n    value: function getTime(handle) {\n      if (handle === undefined) {\n        return this.time;\n      }\n\n      var channel = this.channels.get(handle);\n\n      if (channel === undefined) {\n        return -1;\n      }\n\n      return channel.time;\n    }\n  }, {\n    key: \"setTime\",\n    value: function setTime(time) {\n      this.time = Math.max(0, time);\n      var channels = this.channels.values();\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = channels[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var channel = _step2.value;\n\n          this._setChannelTime(channel, this.time);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var animations = this.animations.values();\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = animations[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var animationData = _step3.value;\n          var animation = animationData.animation,\n              _channel = animationData.channel;\n          animation.setTime(this.getTime(_channel));\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.playing = true;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.playing = false;\n      this.lastEngineTime = -1;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setTime(0);\n    }\n  }, {\n    key: \"attachAnimation\",\n    value: function attachAnimation(animation, channelHandle) {\n      var animationHandle = animationHandles++;\n      this.animations.set(animationHandle, {\n        animation: animation,\n        channel: channelHandle\n      });\n      animation.setTime(this.getTime(channelHandle));\n      return animationHandle;\n    }\n  }, {\n    key: \"detachAnimation\",\n    value: function detachAnimation(handle) {\n      this.animations[\"delete\"](handle);\n    }\n  }, {\n    key: \"update\",\n    value: function update(engineTime) {\n      if (this.playing) {\n        if (this.lastEngineTime === -1) {\n          this.lastEngineTime = engineTime;\n        }\n\n        this.setTime(this.time + (engineTime - this.lastEngineTime));\n        this.lastEngineTime = engineTime;\n      }\n    }\n  }, {\n    key: \"_setChannelTime\",\n    value: function _setChannelTime(channel, time) {\n      var offsetTime = time - channel.delay;\n      var totalDuration = channel.duration * channel.repeat;\n\n      if (offsetTime >= totalDuration) {\n        channel.time = channel.duration * channel.rate;\n      } else {\n        channel.time = Math.max(0, offsetTime) % channel.duration;\n        channel.time *= channel.rate;\n      }\n    }\n  }]);\n\n  return Timeline;\n}();","import \"core-js/modules/es6.math.log2\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.bind\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport log from '../utils/log';\nimport { createMat4, extractCameraVectors, getFrustumPlanes as _getFrustumPlanes } from '../utils/math-utils';\nimport { Matrix4, Vector3, equals as _equals } from 'math.gl';\nimport * as mat4 from 'gl-matrix/mat4';\nimport { getDistanceScales as _getDistanceScales, getMeterZoom, lngLatToWorld, worldToLngLat, worldToPixels, pixelsToWorld } from '@math.gl/web-mercator';\nimport { PROJECTION_MODE } from '../lib/constants';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nvar IDENTITY = createMat4();\nvar ZERO_VECTOR = [0, 0, 0];\nvar DEFAULT_ZOOM = 0;\nvar DEFAULT_DISTANCE_SCALES = {\n  unitsPerMeter: [1, 1, 1],\n  metersPerUnit: [1, 1, 1]\n};\n\nvar Viewport = function () {\n  function Viewport() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Viewport);\n\n    var _opts$id = opts.id,\n        id = _opts$id === void 0 ? null : _opts$id,\n        _opts$x = opts.x,\n        x = _opts$x === void 0 ? 0 : _opts$x,\n        _opts$y = opts.y,\n        y = _opts$y === void 0 ? 0 : _opts$y,\n        _opts$width = opts.width,\n        width = _opts$width === void 0 ? 1 : _opts$width,\n        _opts$height = opts.height,\n        height = _opts$height === void 0 ? 1 : _opts$height;\n    this.id = id || this.constructor.displayName || 'viewport';\n    this.x = x;\n    this.y = y;\n    this.width = width || 1;\n    this.height = height || 1;\n    this._frustumPlanes = {};\n\n    this._initViewMatrix(opts);\n\n    this._initProjectionMatrix(opts);\n\n    this._initPixelMatrices();\n\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    this.projectFlat = this.projectFlat.bind(this);\n    this.unprojectFlat = this.unprojectFlat.bind(this);\n  }\n\n  _createClass(Viewport, [{\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof Viewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && viewport.scale === this.scale && _equals(viewport.projectionMatrix, this.projectionMatrix) && _equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$topLeft = _ref.topLeft,\n          topLeft = _ref$topLeft === void 0 ? true : _ref$topLeft;\n\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n\n      var _coord = _slicedToArray(coord, 2),\n          x = _coord[0],\n          y = _coord[1];\n\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$topLeft = _ref2.topLeft,\n          topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft,\n          targetZ = _ref2.targetZ;\n\n      var _xyz = _slicedToArray(xyz, 3),\n          x = _xyz[0],\n          y = _xyz[1],\n          z = _xyz[2];\n\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n          _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n          X = _this$unprojectPositi2[0],\n          Y = _this$unprojectPositi2[1],\n          Z = _this$unprojectPositi2[2];\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _this$projectFlat = this.projectFlat(xyz),\n          _this$projectFlat2 = _slicedToArray(_this$projectFlat, 2),\n          X = _this$projectFlat2[0],\n          Y = _this$projectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _this$unprojectFlat = this.unprojectFlat(xyz),\n          _this$unprojectFlat2 = _slicedToArray(_this$unprojectFlat, 2),\n          X = _this$unprojectFlat2[0],\n          Y = _this$unprojectFlat2[1];\n\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(xyz) {\n      if (this.isGeospatial) {\n        return lngLatToWorld(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xyz) {\n      if (this.isGeospatial) {\n        return worldToLngLat(xyz);\n      }\n\n      return xyz;\n    }\n  }, {\n    key: \"getDistanceScales\",\n    value: function getDistanceScales() {\n      var coordinateOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (coordinateOrigin) {\n        return _getDistanceScales({\n          longitude: coordinateOrigin[0],\n          latitude: coordinateOrigin[1],\n          highPrecision: true\n        });\n      }\n\n      return this.distanceScales;\n    }\n  }, {\n    key: \"containsPixel\",\n    value: function containsPixel(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height;\n      return x < this.x + this.width && this.x < x + width && y < this.y + this.height && this.y < y + height;\n    }\n  }, {\n    key: \"getFrustumPlanes\",\n    value: function getFrustumPlanes() {\n      if (this._frustumPlanes.near) {\n        return this._frustumPlanes;\n      }\n\n      var _this$projectionProps = this.projectionProps,\n          near = _this$projectionProps.near,\n          far = _this$projectionProps.far,\n          fovyRadians = _this$projectionProps.fovyRadians,\n          aspect = _this$projectionProps.aspect;\n      Object.assign(this._frustumPlanes, _getFrustumPlanes({\n        aspect: aspect,\n        near: near,\n        far: far,\n        fovyRadians: fovyRadians,\n        position: this.cameraPosition,\n        direction: this.cameraDirection,\n        up: this.cameraUp,\n        right: this.cameraRight\n      }));\n      return this._frustumPlanes;\n    }\n  }, {\n    key: \"getCameraPosition\",\n    value: function getCameraPosition() {\n      return this.cameraPosition;\n    }\n  }, {\n    key: \"getCameraDirection\",\n    value: function getCameraDirection() {\n      return this.cameraDirection;\n    }\n  }, {\n    key: \"getCameraUp\",\n    value: function getCameraUp() {\n      return this.cameraUp;\n    }\n  }, {\n    key: \"_createProjectionMatrix\",\n    value: function _createProjectionMatrix(_ref4) {\n      var orthographic = _ref4.orthographic,\n          fovyRadians = _ref4.fovyRadians,\n          aspect = _ref4.aspect,\n          focalDistance = _ref4.focalDistance,\n          near = _ref4.near,\n          far = _ref4.far;\n      return orthographic ? new Matrix4().orthographic({\n        fovy: fovyRadians,\n        aspect: aspect,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      }) : new Matrix4().perspective({\n        fovy: fovyRadians,\n        aspect: aspect,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"_initViewMatrix\",\n    value: function _initViewMatrix(opts) {\n      var _opts$viewMatrix = opts.viewMatrix,\n          viewMatrix = _opts$viewMatrix === void 0 ? IDENTITY : _opts$viewMatrix,\n          _opts$longitude = opts.longitude,\n          longitude = _opts$longitude === void 0 ? null : _opts$longitude,\n          _opts$latitude = opts.latitude,\n          latitude = _opts$latitude === void 0 ? null : _opts$latitude,\n          _opts$zoom = opts.zoom,\n          zoom = _opts$zoom === void 0 ? null : _opts$zoom,\n          _opts$position = opts.position,\n          position = _opts$position === void 0 ? null : _opts$position,\n          _opts$modelMatrix = opts.modelMatrix,\n          modelMatrix = _opts$modelMatrix === void 0 ? null : _opts$modelMatrix,\n          _opts$focalDistance = opts.focalDistance,\n          focalDistance = _opts$focalDistance === void 0 ? 1 : _opts$focalDistance,\n          _opts$distanceScales = opts.distanceScales,\n          distanceScales = _opts$distanceScales === void 0 ? null : _opts$distanceScales;\n      this.isGeospatial = Number.isFinite(latitude) && Number.isFinite(longitude);\n      this.zoom = zoom;\n\n      if (!Number.isFinite(this.zoom)) {\n        this.zoom = this.isGeospatial ? getMeterZoom({\n          latitude: latitude\n        }) + Math.log2(focalDistance) : DEFAULT_ZOOM;\n      }\n\n      var scale = Math.pow(2, this.zoom);\n      this.scale = scale;\n      this.distanceScales = this.isGeospatial ? _getDistanceScales({\n        latitude: latitude,\n        longitude: longitude\n      }) : distanceScales || DEFAULT_DISTANCE_SCALES;\n      this.focalDistance = focalDistance;\n      this.distanceScales.metersPerUnit = new Vector3(this.distanceScales.metersPerUnit);\n      this.distanceScales.unitsPerMeter = new Vector3(this.distanceScales.unitsPerMeter);\n      this.position = ZERO_VECTOR;\n      this.meterOffset = ZERO_VECTOR;\n\n      if (position) {\n        this.position = position;\n        this.modelMatrix = modelMatrix;\n        this.meterOffset = modelMatrix ? modelMatrix.transformVector(position) : position;\n      }\n\n      if (this.isGeospatial) {\n        this.longitude = longitude;\n        this.latitude = latitude;\n        this.center = this._getCenterInWorld({\n          longitude: longitude,\n          latitude: latitude\n        });\n      } else {\n        this.center = position ? this.projectPosition(position) : [0, 0, 0];\n      }\n\n      this.viewMatrixUncentered = viewMatrix;\n      this.viewMatrix = new Matrix4().multiplyRight(this.viewMatrixUncentered).translate(new Vector3(this.center || ZERO_VECTOR).negate());\n    }\n  }, {\n    key: \"_getCenterInWorld\",\n    value: function _getCenterInWorld(_ref5) {\n      var longitude = _ref5.longitude,\n          latitude = _ref5.latitude;\n      var meterOffset = this.meterOffset,\n          distanceScales = this.distanceScales;\n      var center2d = this.projectFlat([longitude, latitude]);\n      var center = new Vector3(center2d[0], center2d[1], 0);\n\n      if (meterOffset) {\n        var commonPosition = new Vector3(meterOffset).scale(distanceScales.unitsPerMeter);\n        center.add(commonPosition);\n      }\n\n      return center;\n    }\n  }, {\n    key: \"_initProjectionMatrix\",\n    value: function _initProjectionMatrix(opts) {\n      var _opts$projectionMatri = opts.projectionMatrix,\n          projectionMatrix = _opts$projectionMatri === void 0 ? null : _opts$projectionMatri,\n          _opts$orthographic = opts.orthographic,\n          orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n          fovyRadians = opts.fovyRadians,\n          _opts$fovy = opts.fovy,\n          fovy = _opts$fovy === void 0 ? 75 : _opts$fovy,\n          _opts$near = opts.near,\n          near = _opts$near === void 0 ? 0.1 : _opts$near,\n          _opts$far = opts.far,\n          far = _opts$far === void 0 ? 1000 : _opts$far,\n          _opts$focalDistance2 = opts.focalDistance,\n          focalDistance = _opts$focalDistance2 === void 0 ? 1 : _opts$focalDistance2;\n      this.projectionProps = {\n        orthographic: orthographic,\n        fovyRadians: fovyRadians || fovy * DEGREES_TO_RADIANS,\n        aspect: this.width / this.height,\n        focalDistance: focalDistance,\n        near: near,\n        far: far\n      };\n      this.projectionMatrix = projectionMatrix || this._createProjectionMatrix(this.projectionProps);\n    }\n  }, {\n    key: \"_initPixelMatrices\",\n    value: function _initPixelMatrices() {\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, this.projectionMatrix);\n      mat4.multiply(vpm, vpm, this.viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      this.viewMatrixInverse = mat4.invert([], this.viewMatrix) || this.viewMatrix;\n\n      var _extractCameraVectors = extractCameraVectors({\n        viewMatrix: this.viewMatrix,\n        viewMatrixInverse: this.viewMatrixInverse\n      }),\n          eye = _extractCameraVectors.eye,\n          direction = _extractCameraVectors.direction,\n          up = _extractCameraVectors.up,\n          right = _extractCameraVectors.right;\n\n      this.cameraPosition = eye;\n      this.cameraDirection = direction;\n      this.cameraUp = up;\n      this.cameraRight = right;\n      var viewportMatrix = createMat4();\n      var pixelProjectionMatrix = createMat4();\n      mat4.scale(viewportMatrix, viewportMatrix, [this.width / 2, -this.height / 2, 1]);\n      mat4.translate(viewportMatrix, viewportMatrix, [1, -1, 0]);\n      mat4.multiply(pixelProjectionMatrix, viewportMatrix, this.viewProjectionMatrix);\n      this.pixelProjectionMatrix = pixelProjectionMatrix;\n      this.viewportMatrix = viewportMatrix;\n      this.pixelUnprojectionMatrix = mat4.invert(createMat4(), this.pixelProjectionMatrix);\n\n      if (!this.pixelUnprojectionMatrix) {\n        log.warn('Pixel project matrix not invertible')();\n      }\n    }\n  }, {\n    key: \"metersPerPixel\",\n    get: function get() {\n      return this.distanceScales.metersPerUnit[2] / this.scale;\n    }\n  }, {\n    key: \"projectionMode\",\n    get: function get() {\n      if (this.isGeospatial) {\n        return this.zoom < 12 ? PROJECTION_MODE.WEB_MERCATOR : PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET;\n      }\n\n      return PROJECTION_MODE.IDENTITY;\n    }\n  }]);\n\n  return Viewport;\n}();\n\nexport { Viewport as default };\nViewport.displayName = 'Viewport';","var vs = \"\\nstruct VertexGeometry {\\n  vec4 position;\\n  vec3 worldPosition;\\n  vec3 worldPositionAlt;\\n  vec3 normal;\\n  vec2 uv;\\n  vec3 pickingColor;\\n} geometry;\\n\";\nvar fs = \"\\n#define SMOOTH_EDGE_RADIUS 0.5\\n\\nstruct FragmentGeometry {\\n  vec2 uv;\\n} geometry;\\n\\nfloat smoothedge(float edge, float x) {\\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\\n}\\n\";\nexport default {\n  name: 'geometry',\n  vs: vs,\n  fs: fs\n};","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { ProgramManager } from '@luma.gl/core';\nimport { gouraudLighting, phongLighting } from '@luma.gl/core';\nimport geometry from './misc/geometry';\nimport project from './project/project';\nimport project32 from './project32/project32';\nimport shadow from './shadow/shadow';\nimport picking from './picking/picking';\nvar DEFAULT_MODULES = [geometry, project];\nvar SHADER_HOOKS = ['vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)', 'vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)', 'vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)', 'fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)'];\nexport function createProgramManager(gl) {\n  var programManager = ProgramManager.getDefaultProgramManager(gl);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = DEFAULT_MODULES[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var shaderModule = _step.value;\n      programManager.addDefaultModule(shaderModule);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = SHADER_HOOKS[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var shaderHook = _step2.value;\n      programManager.addShaderHook(shaderHook);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return programManager;\n}\nexport { picking, project, project32, gouraudLighting, phongLighting, shadow };","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport assert from '../utils/assert';\nimport { Timeline } from '@luma.gl/core';\nimport Layer from './layer';\nimport { LIFECYCLE } from '../lifecycle/constants';\nimport log from '../utils/log';\nimport debug from '../debug';\nimport { flatten } from '../utils/flatten';\nimport { Stats } from 'probe.gl';\nimport Viewport from '../viewports/viewport';\nimport { createProgramManager } from '../shaderlib';\nvar TRACE_SET_LAYERS = 'layerManager.setLayers';\nvar TRACE_ACTIVATE_VIEWPORT = 'layerManager.activateViewport';\nvar INITIAL_CONTEXT = Object.seal({\n  layerManager: null,\n  deck: null,\n  gl: null,\n  stats: null,\n  shaderCache: null,\n  pickingFBO: null,\n  mousePosition: null,\n  userData: {}\n});\n\nvar layerName = function layerName(layer) {\n  return layer instanceof Layer ? \"\".concat(layer) : !layer ? 'null' : 'invalid';\n};\n\nvar LayerManager = function () {\n  function LayerManager(gl) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        deck = _ref.deck,\n        stats = _ref.stats,\n        _ref$viewport = _ref.viewport,\n        viewport = _ref$viewport === void 0 ? null : _ref$viewport,\n        _ref$timeline = _ref.timeline,\n        timeline = _ref$timeline === void 0 ? null : _ref$timeline;\n\n    _classCallCheck(this, LayerManager);\n\n    this.lastRenderedLayers = [];\n    this.layers = [];\n    this.context = Object.assign({}, INITIAL_CONTEXT, {\n      layerManager: this,\n      deck: deck,\n      gl: gl,\n      programManager: gl && createProgramManager(gl),\n      stats: stats || new Stats({\n        id: 'deck.gl'\n      }),\n      viewport: viewport || new Viewport({\n        id: 'DEFAULT-INITIAL-VIEWPORT'\n      }),\n      timeline: timeline || new Timeline()\n    });\n    this._needsRedraw = 'Initial render';\n    this._needsUpdate = false;\n    this._debug = false;\n    this._onError = null;\n    this.activateViewport = this.activateViewport.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(LayerManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.layers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var layer = _step.value;\n\n          this._finalizeLayer(layer);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.layers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var layer = _step2.value;\n          var layerNeedsRedraw = layer.getNeedsRedraw(opts);\n          redraw = redraw || layerNeedsRedraw;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"needsUpdate\",\n    value: function needsUpdate() {\n      return this._needsUpdate;\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw(reason) {\n      this._needsRedraw = this._needsRedraw || reason;\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate(reason) {\n      this._needsUpdate = this._needsUpdate || reason;\n    }\n  }, {\n    key: \"getLayers\",\n    value: function getLayers() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$layerIds = _ref2.layerIds,\n          layerIds = _ref2$layerIds === void 0 ? null : _ref2$layerIds;\n\n      return layerIds ? this.layers.filter(function (layer) {\n        return layerIds.find(function (layerId) {\n          return layer.id.indexOf(layerId) === 0;\n        });\n      }) : this.layers;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('debug' in props) {\n        this._debug = props.debug;\n      }\n\n      if ('userData' in props) {\n        this.context.userData = props.userData;\n      }\n\n      if ('layers' in props) {\n        this.setLayers(props.layers);\n      }\n\n      if ('onError' in props) {\n        this._onError = props.onError;\n      }\n    }\n  }, {\n    key: \"setLayers\",\n    value: function setLayers(newLayers) {\n      var forceUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var shouldUpdate = forceUpdate || newLayers !== this.lastRenderedLayers;\n      debug(TRACE_SET_LAYERS, this, shouldUpdate, newLayers);\n\n      if (!shouldUpdate) {\n        return this;\n      }\n\n      this.lastRenderedLayers = newLayers;\n      newLayers = flatten(newLayers, Boolean);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = newLayers[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var layer = _step3.value;\n          layer.context = this.context;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      this._updateLayers(this.layers, newLayers);\n\n      return this;\n    }\n  }, {\n    key: \"updateLayers\",\n    value: function updateLayers() {\n      var reason = this.needsUpdate();\n\n      if (reason) {\n        this.setNeedsRedraw(\"updating layers: \".concat(reason));\n        var forceUpdate = true;\n        this.setLayers(this.lastRenderedLayers, forceUpdate);\n      }\n    }\n  }, {\n    key: \"activateViewport\",\n    value: function activateViewport(viewport) {\n      assert(viewport, 'LayerManager: viewport not set');\n      var oldViewport = this.context.viewport;\n      var viewportChanged = !oldViewport || !viewport.equals(oldViewport);\n\n      if (viewportChanged) {\n        debug(TRACE_ACTIVATE_VIEWPORT, this, viewport);\n        this.context.viewport = viewport;\n        var changeFlags = {\n          viewportChanged: true\n        };\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = this.layers[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var layer = _step4.value;\n            layer.setChangeFlags(changeFlags);\n\n            this._updateLayer(layer);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n              _iterator4[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_handleError\",\n    value: function _handleError(stage, error, layer) {\n      if (this._onError) {\n        this._onError(error, layer);\n      } else {\n        log.error(\"error during \".concat(stage, \" of \").concat(layerName(layer)), error)();\n      }\n    }\n  }, {\n    key: \"_updateLayers\",\n    value: function _updateLayers(oldLayers, newLayers) {\n      var oldLayerMap = {};\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = oldLayers[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var oldLayer = _step5.value;\n\n          if (oldLayerMap[oldLayer.id]) {\n            log.warn(\"Multiple old layers with same id \".concat(layerName(oldLayer)))();\n          } else {\n            oldLayerMap[oldLayer.id] = oldLayer;\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      var generatedLayers = [];\n\n      this._updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers);\n\n      this._finalizeOldLayers(oldLayerMap);\n\n      var needsUpdate = false;\n\n      for (var _i = 0, _generatedLayers = generatedLayers; _i < _generatedLayers.length; _i++) {\n        var layer = _generatedLayers[_i];\n\n        if (layer.hasUniformTransition()) {\n          needsUpdate = true;\n          break;\n        }\n      }\n\n      this._needsUpdate = needsUpdate;\n      this.layers = generatedLayers;\n    }\n  }, {\n    key: \"_updateSublayersRecursively\",\n    value: function _updateSublayersRecursively(newLayers, oldLayerMap, generatedLayers) {\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = newLayers[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var newLayer = _step6.value;\n          newLayer.context = this.context;\n          var oldLayer = oldLayerMap[newLayer.id];\n\n          if (oldLayer === null) {\n            log.warn(\"Multiple new layers with same id \".concat(layerName(newLayer)))();\n          }\n\n          oldLayerMap[newLayer.id] = null;\n          var sublayers = null;\n\n          try {\n            if (this._debug && oldLayer !== newLayer) {\n              newLayer.validateProps();\n            }\n\n            if (!oldLayer) {\n              this._initializeLayer(newLayer);\n            } else {\n              this._transferLayerState(oldLayer, newLayer);\n\n              this._updateLayer(newLayer);\n            }\n\n            generatedLayers.push(newLayer);\n            sublayers = newLayer.isComposite && newLayer.getSubLayers();\n          } catch (err) {\n            this._handleError('matching', err, newLayer);\n          }\n\n          if (sublayers) {\n            this._updateSublayersRecursively(sublayers, oldLayerMap, generatedLayers);\n          }\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n            _iterator6[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_finalizeOldLayers\",\n    value: function _finalizeOldLayers(oldLayerMap) {\n      for (var layerId in oldLayerMap) {\n        var layer = oldLayerMap[layerId];\n\n        if (layer) {\n          this._finalizeLayer(layer);\n        }\n      }\n    }\n  }, {\n    key: \"_initializeLayer\",\n    value: function _initializeLayer(layer) {\n      try {\n        layer._initialize();\n\n        layer.lifecycle = LIFECYCLE.INITIALIZED;\n      } catch (err) {\n        this._handleError('initialization', err, layer);\n      }\n    }\n  }, {\n    key: \"_transferLayerState\",\n    value: function _transferLayerState(oldLayer, newLayer) {\n      newLayer._transferState(oldLayer);\n\n      newLayer.lifecycle = LIFECYCLE.MATCHED;\n\n      if (newLayer !== oldLayer) {\n        oldLayer.lifecycle = LIFECYCLE.AWAITING_GC;\n      }\n    }\n  }, {\n    key: \"_updateLayer\",\n    value: function _updateLayer(layer) {\n      try {\n        layer._update();\n      } catch (err) {\n        this._handleError('update', err, layer);\n      }\n    }\n  }, {\n    key: \"_finalizeLayer\",\n    value: function _finalizeLayer(layer) {\n      this._needsRedraw = this._needsRedraw || \"finalized \".concat(layerName(layer));\n      layer.lifecycle = LIFECYCLE.AWAITING_FINALIZATION;\n\n      try {\n        layer._finalize();\n\n        layer.lifecycle = LIFECYCLE.FINALIZED;\n      } catch (err) {\n        this._handleError('finalization', err, layer);\n      }\n    }\n  }]);\n\n  return LayerManager;\n}();\n\nexport { LayerManager as default };","import \"core-js/modules/es6.array.is-array\";\nexport function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  for (var key in a) {\n    var aValue = a[key];\n    var bValue = b[key];\n    var equals = aValue === bValue || Array.isArray(aValue) && Array.isArray(bValue) && deepEqual(aValue, bValue);\n\n    if (!equals) {\n      return false;\n    }\n  }\n\n  return true;\n}","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.object.seal\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport assert from '../utils/assert';\nimport { deepEqual } from '../utils/deep-equal';\nimport log from '../utils/log';\nimport { flatten } from '../utils/flatten';\n\nvar ViewManager = function () {\n  function ViewManager() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewManager);\n\n    this.views = [];\n    this.width = 100;\n    this.height = 100;\n    this.viewState = {};\n    this.controllers = {};\n    this.timeline = props.timeline;\n    this._viewports = [];\n    this._viewportMap = {};\n    this._isUpdating = false;\n    this._needsRedraw = 'Initial render';\n    this._needsUpdate = true;\n    this._eventManager = props.eventManager;\n    this._eventCallbacks = {\n      onViewStateChange: props.onViewStateChange,\n      onInteractiveStateChange: props.onInteractiveStateChange\n    };\n    Object.seal(this);\n    this.setProps(props);\n  }\n\n  _createClass(ViewManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var key in this.controllers) {\n        if (this.controllers[key]) {\n          this.controllers[key].finalize();\n        }\n      }\n\n      this.controllers = {};\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"setNeedsUpdate\",\n    value: function setNeedsUpdate(reason) {\n      this._needsUpdate = this._needsUpdate || reason;\n      this._needsRedraw = this._needsRedraw || reason;\n    }\n  }, {\n    key: \"updateViewStates\",\n    value: function updateViewStates() {\n      for (var viewId in this.controllers) {\n        var controller = this.controllers[viewId];\n\n        if (controller) {\n          controller.updateTransition();\n        }\n      }\n    }\n  }, {\n    key: \"getViewports\",\n    value: function getViewports(rect) {\n      if (rect) {\n        return this._viewports.filter(function (viewport) {\n          return viewport.containsPixel(rect);\n        });\n      }\n\n      return this._viewports;\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      var viewMap = {};\n      this.views.forEach(function (view) {\n        viewMap[view.id] = view;\n      });\n      return viewMap;\n    }\n  }, {\n    key: \"getView\",\n    value: function getView(viewOrViewId) {\n      return typeof viewOrViewId === 'string' ? this.views.find(function (view) {\n        return view.id === viewOrViewId;\n      }) : viewOrViewId;\n    }\n  }, {\n    key: \"getViewState\",\n    value: function getViewState(viewId) {\n      var view = this.getView(viewId);\n      var viewState = view && this.viewState[view.getViewStateId()] || this.viewState;\n      return view ? view.filterViewState(viewState) : viewState;\n    }\n  }, {\n    key: \"getViewport\",\n    value: function getViewport(viewId) {\n      return this._viewportMap[viewId];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz, opts) {\n      var viewports = this.getViewports();\n      var pixel = {\n        x: xyz[0],\n        y: xyz[1]\n      };\n\n      for (var i = viewports.length - 1; i >= 0; --i) {\n        var viewport = viewports[i];\n\n        if (viewport.containsPixel(pixel)) {\n          var p = xyz.slice();\n          p[0] -= viewport.x;\n          p[1] -= viewport.y;\n          return viewport.unproject(p, opts);\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('views' in props) {\n        this._setViews(props.views);\n      }\n\n      if ('viewState' in props) {\n        this._setViewState(props.viewState);\n      }\n\n      if ('width' in props || 'height' in props) {\n        this._setSize(props.width, props.height);\n      }\n\n      if (!this._isUpdating) {\n        this._update();\n      }\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      this._isUpdating = true;\n\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        this._rebuildViewports();\n      }\n\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        this._rebuildViewports();\n      }\n\n      this._isUpdating = false;\n    }\n  }, {\n    key: \"_setSize\",\n    value: function _setSize(width, height) {\n      assert(Number.isFinite(width) && Number.isFinite(height));\n\n      if (width !== this.width || height !== this.height) {\n        this.width = width;\n        this.height = height;\n        this.setNeedsUpdate('Size changed');\n      }\n    }\n  }, {\n    key: \"_setViews\",\n    value: function _setViews(views) {\n      views = flatten(views, Boolean);\n\n      var viewsChanged = this._diffViews(views, this.views);\n\n      if (viewsChanged) {\n        this.setNeedsUpdate('views changed');\n      }\n\n      this.views = views;\n    }\n  }, {\n    key: \"_setViewState\",\n    value: function _setViewState(viewState) {\n      if (viewState) {\n        var viewStateChanged = !deepEqual(viewState, this.viewState);\n\n        if (viewStateChanged) {\n          this.setNeedsUpdate('viewState changed');\n        }\n\n        this.viewState = viewState;\n      } else {\n        log.warn('missing `viewState` or `initialViewState`')();\n      }\n    }\n  }, {\n    key: \"_onViewStateChange\",\n    value: function _onViewStateChange(viewId, event) {\n      event.viewId = viewId;\n\n      this._eventCallbacks.onViewStateChange(event);\n    }\n  }, {\n    key: \"_createController\",\n    value: function _createController(props) {\n      var Controller = props.type;\n      var controller = new Controller(Object.assign({\n        timeline: this.timeline,\n        eventManager: this._eventManager,\n        onViewStateChange: this._onViewStateChange.bind(this, props.id),\n        onStateChange: this._eventCallbacks.onInteractiveStateChange\n      }, props));\n      return controller;\n    }\n  }, {\n    key: \"_updateController\",\n    value: function _updateController(view, viewState, viewport, controller) {\n      if (view.controller) {\n        var controllerProps = Object.assign({}, view.controller, viewState, {\n          id: view.id,\n          x: viewport.x,\n          y: viewport.y,\n          width: viewport.width,\n          height: viewport.height\n        });\n\n        if (controller) {\n          controller.setProps(controllerProps);\n        } else {\n          controller = this._createController(controllerProps);\n        }\n\n        return controller;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_rebuildViewports\",\n    value: function _rebuildViewports() {\n      var width = this.width,\n          height = this.height,\n          views = this.views;\n      var oldControllers = this.controllers;\n      this._viewports = [];\n      this.controllers = {};\n\n      for (var i = views.length; i--;) {\n        var view = views[i];\n        var viewState = this.getViewState(view);\n        var viewport = view.makeViewport({\n          width: width,\n          height: height,\n          viewState: viewState\n        });\n        this.controllers[view.id] = this._updateController(view, viewState, viewport, oldControllers[view.id]);\n\n        this._viewports.unshift(viewport);\n      }\n\n      for (var id in oldControllers) {\n        if (oldControllers[id] && !this.controllers[id]) {\n          oldControllers[id].finalize();\n        }\n      }\n\n      this._buildViewportMap();\n    }\n  }, {\n    key: \"_buildViewportMap\",\n    value: function _buildViewportMap() {\n      var _this = this;\n\n      this._viewportMap = {};\n\n      this._viewports.forEach(function (viewport) {\n        if (viewport.id) {\n          _this._viewportMap[viewport.id] = _this._viewportMap[viewport.id] || viewport;\n        }\n      });\n    }\n  }, {\n    key: \"_diffViews\",\n    value: function _diffViews(newViews, oldViews) {\n      if (newViews.length !== oldViews.length) {\n        return true;\n      }\n\n      return newViews.some(function (_, i) {\n        return !newViews[i].equals(oldViews[i]);\n      });\n    }\n  }]);\n\n  return ViewManager;\n}();\n\nexport { ViewManager as default };","import \"core-js/modules/es6.regexp.match\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar PERCENT_OR_PIXELS_REGEX = /([0-9]+\\.?[0-9]*)(%|px)/;\nexport function parsePosition(value) {\n  switch (_typeof(value)) {\n    case 'number':\n      return {\n        position: value,\n        relative: false\n      };\n\n    case 'string':\n      var match = value.match(PERCENT_OR_PIXELS_REGEX);\n\n      if (match && match.length >= 3) {\n        var relative = match[2] === '%';\n        var position = parseFloat(match[1]);\n        return {\n          position: relative ? position / 100 : position,\n          relative: relative\n        };\n      }\n\n    default:\n      throw new Error(\"Could not parse position string \".concat(value));\n  }\n}\nexport function getPosition(position, extent) {\n  return position.relative ? Math.round(position.position * extent) : position.position;\n}","import \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport Viewport from '../viewports/viewport';\nimport { parsePosition, getPosition } from '../utils/positions';\nimport { deepEqual } from '../utils/deep-equal';\nimport assert from '../utils/assert';\n\nvar View = function () {\n  function View() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, View);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? null : _props$id,\n        _props$x = props.x,\n        x = _props$x === void 0 ? 0 : _props$x,\n        _props$y = props.y,\n        y = _props$y === void 0 ? 0 : _props$y,\n        _props$width = props.width,\n        width = _props$width === void 0 ? '100%' : _props$width,\n        _props$height = props.height,\n        height = _props$height === void 0 ? '100%' : _props$height,\n        _props$projectionMatr = props.projectionMatrix,\n        projectionMatrix = _props$projectionMatr === void 0 ? null : _props$projectionMatr,\n        _props$fovy = props.fovy,\n        fovy = _props$fovy === void 0 ? 50 : _props$fovy,\n        _props$near = props.near,\n        near = _props$near === void 0 ? 0.1 : _props$near,\n        _props$far = props.far,\n        far = _props$far === void 0 ? 1000 : _props$far,\n        _props$modelMatrix = props.modelMatrix,\n        modelMatrix = _props$modelMatrix === void 0 ? null : _props$modelMatrix,\n        _props$viewportInstan = props.viewportInstance,\n        viewportInstance = _props$viewportInstan === void 0 ? null : _props$viewportInstan,\n        _props$type = props.type,\n        type = _props$type === void 0 ? Viewport : _props$type;\n    assert(!viewportInstance || viewportInstance instanceof Viewport);\n    this.viewportInstance = viewportInstance;\n    this.id = id || this.constructor.displayName || 'view';\n    this.type = type;\n    this.props = Object.assign({}, props, {\n      id: this.id,\n      projectionMatrix: projectionMatrix,\n      fovy: fovy,\n      near: near,\n      far: far,\n      modelMatrix: modelMatrix\n    });\n\n    this._parseDimensions({\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n\n    this.equals = this.equals.bind(this);\n    Object.seal(this);\n  }\n\n  _createClass(View, [{\n    key: \"equals\",\n    value: function equals(view) {\n      if (this === view) {\n        return true;\n      }\n\n      if (this.viewportInstance) {\n        return view.viewportInstance && this.viewportInstance.equals(view.viewportInstance);\n      }\n\n      var viewChanged = deepEqual(this.props, view.props);\n      return viewChanged;\n    }\n  }, {\n    key: \"makeViewport\",\n    value: function makeViewport(_ref) {\n      var width = _ref.width,\n          height = _ref.height,\n          viewState = _ref.viewState;\n\n      if (this.viewportInstance) {\n        return this.viewportInstance;\n      }\n\n      viewState = this.filterViewState(viewState);\n      var viewportDimensions = this.getDimensions({\n        width: width,\n        height: height\n      });\n      var props = Object.assign({\n        viewState: viewState\n      }, viewState, this.props, viewportDimensions);\n      return this._getViewport(props);\n    }\n  }, {\n    key: \"getViewStateId\",\n    value: function getViewStateId() {\n      switch (_typeof(this.props.viewState)) {\n        case 'string':\n          return this.props.viewState;\n\n        case 'object':\n          return this.props.viewState && this.props.viewState.id;\n\n        default:\n          return this.id;\n      }\n    }\n  }, {\n    key: \"filterViewState\",\n    value: function filterViewState(viewState) {\n      if (this.props.viewState && _typeof(this.props.viewState) === 'object') {\n        if (!this.props.viewState.id) {\n          return this.props.viewState;\n        }\n\n        var newViewState = Object.assign({}, viewState);\n\n        for (var key in this.props.viewState) {\n          if (key !== 'id') {\n            newViewState[key] = this.props.viewState[key];\n          }\n        }\n\n        return newViewState;\n      }\n\n      return viewState;\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions(_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height;\n      return {\n        x: getPosition(this._x, width),\n        y: getPosition(this._y, height),\n        width: getPosition(this._width, width),\n        height: getPosition(this._height, height)\n      };\n    }\n  }, {\n    key: \"_getControllerProps\",\n    value: function _getControllerProps(defaultOpts) {\n      var opts = this.props.controller;\n\n      if (!opts) {\n        return null;\n      }\n\n      if (opts === true) {\n        return defaultOpts;\n      }\n\n      if (typeof opts === 'function') {\n        opts = {\n          type: opts\n        };\n      }\n\n      return Object.assign({}, defaultOpts, opts);\n    }\n  }, {\n    key: \"_getViewport\",\n    value: function _getViewport(props) {\n      var ViewportType = this.type;\n      return new ViewportType(props);\n    }\n  }, {\n    key: \"_parseDimensions\",\n    value: function _parseDimensions(_ref3) {\n      var x = _ref3.x,\n          y = _ref3.y,\n          width = _ref3.width,\n          height = _ref3.height;\n      this._x = parsePosition(x);\n      this._y = parsePosition(y);\n      this._width = parsePosition(width);\n      this._height = parsePosition(height);\n    }\n  }]);\n\n  return View;\n}();\n\nexport { View as default };","import \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.string.repeat\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport Viewport from './viewport';\nimport { pixelsToWorld, getViewMatrix, addMetersToLngLat as _addMetersToLngLat, getProjectionParameters, fitBounds as _fitBounds } from '@math.gl/web-mercator';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { Matrix4 } from 'math.gl';\n\nvar WebMercatorViewport = function (_Viewport) {\n  _inherits(WebMercatorViewport, _Viewport);\n\n  function WebMercatorViewport() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, WebMercatorViewport);\n\n    var _opts$latitude = opts.latitude,\n        latitude = _opts$latitude === void 0 ? 0 : _opts$latitude,\n        _opts$longitude = opts.longitude,\n        longitude = _opts$longitude === void 0 ? 0 : _opts$longitude,\n        _opts$zoom = opts.zoom,\n        zoom = _opts$zoom === void 0 ? 11 : _opts$zoom,\n        _opts$pitch = opts.pitch,\n        pitch = _opts$pitch === void 0 ? 0 : _opts$pitch,\n        _opts$bearing = opts.bearing,\n        bearing = _opts$bearing === void 0 ? 0 : _opts$bearing,\n        _opts$nearZMultiplier = opts.nearZMultiplier,\n        nearZMultiplier = _opts$nearZMultiplier === void 0 ? 0.1 : _opts$nearZMultiplier,\n        _opts$farZMultiplier = opts.farZMultiplier,\n        farZMultiplier = _opts$farZMultiplier === void 0 ? 1.01 : _opts$farZMultiplier,\n        _opts$orthographic = opts.orthographic,\n        orthographic = _opts$orthographic === void 0 ? false : _opts$orthographic,\n        _opts$repeat = opts.repeat,\n        repeat = _opts$repeat === void 0 ? false : _opts$repeat,\n        _opts$worldOffset = opts.worldOffset,\n        worldOffset = _opts$worldOffset === void 0 ? 0 : _opts$worldOffset;\n    var width = opts.width,\n        height = opts.height,\n        _opts$altitude = opts.altitude,\n        altitude = _opts$altitude === void 0 ? 1.5 : _opts$altitude;\n    var scale = Math.pow(2, zoom);\n    width = width || 1;\n    height = height || 1;\n    altitude = Math.max(0.75, altitude);\n\n    var _getProjectionParamet = getProjectionParameters({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    }),\n        fov = _getProjectionParamet.fov,\n        aspect = _getProjectionParamet.aspect,\n        focalDistance = _getProjectionParamet.focalDistance,\n        near = _getProjectionParamet.near,\n        far = _getProjectionParamet.far;\n\n    var viewMatrixUncentered = getViewMatrix({\n      height: height,\n      pitch: pitch,\n      bearing: bearing,\n      scale: scale,\n      altitude: altitude\n    });\n\n    if (worldOffset) {\n      var viewOffset = new Matrix4().translate([512 * worldOffset, 0, 0]);\n      viewMatrixUncentered = viewOffset.multiplyLeft(viewMatrixUncentered);\n    }\n\n    var viewportOpts = Object.assign({}, opts, {\n      width: width,\n      height: height,\n      viewMatrix: viewMatrixUncentered,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom,\n      orthographic: orthographic,\n      fovyRadians: fov,\n      aspect: aspect,\n      focalDistance: orthographic ? focalDistance : 1,\n      near: near,\n      far: far\n    });\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WebMercatorViewport).call(this, viewportOpts));\n    _this.latitude = latitude;\n    _this.longitude = longitude;\n    _this.zoom = zoom;\n    _this.pitch = pitch;\n    _this.bearing = bearing;\n    _this.altitude = altitude;\n    _this.orthographic = orthographic;\n    _this._subViewports = repeat ? [] : null;\n    Object.freeze(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(WebMercatorViewport, [{\n    key: \"addMetersToLngLat\",\n    value: function addMetersToLngLat(lngLatZ, xyz) {\n      return _addMetersToLngLat(lngLatZ, xyz);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref) {\n      var lngLat = _ref.lngLat,\n          pos = _ref.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = this.projectFlat(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return this.unprojectFlat(newCenter);\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n          height = this.height;\n\n      var _fitBounds2 = _fitBounds(Object.assign({\n        width: width,\n        height: height,\n        bounds: bounds\n      }, options)),\n          longitude = _fitBounds2.longitude,\n          latitude = _fitBounds2.latitude,\n          zoom = _fitBounds2.zoom;\n\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"subViewports\",\n    get: function get() {\n      if (this._subViewports && !this._subViewports.length) {\n        var topLeft = this.unproject([0, 0]);\n        var topRight = this.unproject([this.width, 0]);\n        var bottomLeft = this.unproject([0, this.height]);\n        var bottomRight = this.unproject([this.width, this.height]);\n        var minLon = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n        var maxLon = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n        var minOffset = Math.floor((minLon + 180) / 360);\n        var maxOffset = Math.ceil((maxLon - 180) / 360);\n\n        for (var x = minOffset; x <= maxOffset; x++) {\n          var offsetViewport = x ? new WebMercatorViewport(_objectSpread({}, this, {\n            worldOffset: x\n          })) : this;\n\n          this._subViewports.push(offsetViewport);\n        }\n      }\n\n      return this._subViewports;\n    }\n  }]);\n\n  return WebMercatorViewport;\n}(Viewport);\n\nexport { WebMercatorViewport as default };\nWebMercatorViewport.displayName = 'WebMercatorViewport';","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { equals } from 'math.gl';\nimport assert from '../utils/assert';\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, TransitionInterpolator);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        compare: opts,\n        extract: opts,\n        required: opts\n      };\n    }\n\n    var _opts = opts,\n        compare = _opts.compare,\n        extract = _opts.extract,\n        required = _opts.required;\n    this._propsToCompare = compare;\n    this._propsToExtract = extract;\n    this._requiredProps = required;\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = (this._propsToCompare || Object.keys(nextProps))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          if (!(key in currentProps) || !(key in nextProps) || !equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var result;\n\n      if (this._propsToExtract) {\n        var startViewStateProps = {};\n        var endViewStateProps = {};\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this._propsToExtract[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var key = _step2.value;\n            startViewStateProps[key] = startProps[key];\n            endViewStateProps[key] = endProps[key];\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        result = {\n          start: startViewStateProps,\n          end: endViewStateProps\n        };\n      } else {\n        result = {\n          start: startProps,\n          end: endProps\n        };\n      }\n\n      this._checkRequiredProps(result.start);\n\n      this._checkRequiredProps(result.end);\n\n      return result;\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      return endProps;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }, {\n    key: \"_checkRequiredProps\",\n    value: function _checkRequiredProps(props) {\n      if (!this._requiredProps) {\n        return;\n      }\n\n      this._requiredProps.forEach(function (propName) {\n        var value = props[propName];\n        assert(Number.isFinite(value) || Array.isArray(value), \"\".concat(propName, \" is required for transition\"));\n      });\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport TransitionInterpolator from './transition-interpolator';\nimport { lerp } from 'math.gl';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  function LinearInterpolator() {\n    var transitionProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : VIEWPORT_TRANSITION_PROPS;\n\n    _classCallCheck(this, LinearInterpolator);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LinearInterpolator).call(this, transitionProps));\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      for (var key in endProps) {\n        viewport[key] = lerp(startProps[key], endProps[key], t);\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport LinearInterpolator from '../transitions/linear-interpolator';\nimport Transition from '../transitions/transition';\n\nvar noop = function noop() {};\n\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager(ControllerState) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, TransitionManager);\n\n    this.ControllerState = ControllerState;\n    this.props = Object.assign({}, DEFAULT_PROPS, props);\n    this.propsInTransition = null;\n    this.transition = new Transition(props.timeline);\n    this.onViewStateChange = props.onViewStateChange;\n    this._onTransitionUpdate = this._onTransitionUpdate.bind(this);\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.transition.cancel();\n    }\n  }, {\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this.propsInTransition;\n    }\n  }, {\n    key: \"processViewStateChange\",\n    value: function processViewStateChange(nextProps) {\n      var transitionTriggered = false;\n      var currentProps = this.props;\n      nextProps = Object.assign({}, DEFAULT_PROPS, nextProps);\n      this.props = nextProps;\n\n      if (this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return transitionTriggered;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var _this$transition$sett = this.transition.settings,\n            interruption = _this$transition$sett.interruption,\n            endProps = _this$transition$sett.endProps;\n        var startProps = Object.assign({}, currentProps, interruption === TRANSITION_EVENTS.SNAP_TO_END ? endProps : this.propsInTransition || currentProps);\n\n        this._triggerTransition(startProps, nextProps);\n\n        transitionTriggered = true;\n      } else {\n        this.transition.cancel();\n      }\n\n      return transitionTriggered;\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      this.transition.update();\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.transition.inProgress) {\n        return this.transition.settings.interpolator.arePropsEqual(props, this.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (this.transition.inProgress) {\n        return this.transition.settings.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      } else if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      var startViewstate = new this.ControllerState(startProps);\n      var endViewStateProps = new this.ControllerState(endProps).shortestPathFrom(startViewstate);\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endViewStateProps);\n      this.propsInTransition = {};\n      this.duration = duration;\n      this.transition.start({\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        onStart: endProps.onTransitionStart,\n        onUpdate: this._onTransitionUpdate,\n        onInterrupt: this._onTransitionEnd(endProps.onTransitionInterrupt),\n        onEnd: this._onTransitionEnd(endProps.onTransitionEnd)\n      });\n      this.updateTransition();\n    }\n  }, {\n    key: \"_onTransitionEnd\",\n    value: function _onTransitionEnd(callback) {\n      var _this = this;\n\n      return function (transition) {\n        _this.propsInTransition = null;\n        callback(transition);\n      };\n    }\n  }, {\n    key: \"_onTransitionUpdate\",\n    value: function _onTransitionUpdate(transition) {\n      var time = transition.time,\n          _transition$settings = transition.settings,\n          interpolator = _transition$settings.interpolator,\n          startProps = _transition$settings.startProps,\n          endProps = _transition$settings.endProps,\n          duration = _transition$settings.duration,\n          easing = _transition$settings.easing;\n      var t = easing(time / duration);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      this.propsInTransition = new this.ControllerState(Object.assign({}, this.props, viewport)).getViewportProps();\n\n      if (this.onViewStateChange) {\n        this.onViewStateChange({\n          viewState: this.propsInTransition,\n          interactionState: {\n            inTransition: true\n          },\n          oldViewState: this.props\n        });\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\nexport { TransitionManager as default };\nTransitionManager.defaultProps = DEFAULT_PROPS;","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.bind\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport TransitionManager from './transition-manager';\nimport log from '../utils/log';\nimport assert from '../utils/assert';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nvar ZOOM_ACCEL = 0.01;\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar Controller = function () {\n  function Controller(ControllerState) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Controller);\n\n    assert(ControllerState);\n    this.ControllerState = ControllerState;\n    this.controllerState = null;\n    this.controllerStateProps = null;\n    this.eventManager = null;\n    this.transitionManager = new TransitionManager(ControllerState, options);\n    this._events = null;\n    this._state = {\n      isDragging: false\n    };\n    this._customEvents = [];\n    this.onViewStateChange = null;\n    this.onStateChange = null;\n    this.invertPan = false;\n    this.handleEvent = this.handleEvent.bind(this);\n    this.setProps(options);\n  }\n\n  _createClass(Controller, [{\n    key: \"finalize\",\n    value: function finalize() {\n      for (var eventName in this._events) {\n        if (this._events[eventName]) {\n          this.eventManager.off(eventName, this.handleEvent);\n        }\n      }\n\n      this.transitionManager.finalize();\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var ControllerState = this.ControllerState;\n      this.controllerState = new ControllerState(Object.assign({}, this.controllerStateProps, this._state));\n\n      switch (event.type) {\n        case 'panstart':\n          return this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _this$controllerState = this.controllerStateProps,\n          x = _this$controllerState.x,\n          y = _this$controllerState.y;\n      var offsetCenter = event.offsetCenter;\n      return [offsetCenter.x - x, offsetCenter.y - y];\n    }\n  }, {\n    key: \"isPointInBounds\",\n    value: function isPointInBounds(pos, event) {\n      var _this$controllerState2 = this.controllerStateProps,\n          width = _this$controllerState2.width,\n          height = _this$controllerState2.height;\n\n      if (event && event.handled) {\n        return false;\n      }\n\n      var inside = pos[0] >= 0 && pos[0] <= width && pos[1] >= 0 && pos[1] <= height;\n\n      if (inside && event) {\n        event.stopPropagation();\n      }\n\n      return inside;\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._state.isDragging;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('onViewportChange' in props) {\n        log.removed('onViewportChange')();\n      }\n\n      if ('onViewStateChange' in props) {\n        this.onViewStateChange = props.onViewStateChange;\n      }\n\n      if ('onStateChange' in props) {\n        this.onStateChange = props.onStateChange;\n      }\n\n      this.controllerStateProps = props;\n\n      if ('eventManager' in props && this.eventManager !== props.eventManager) {\n        this.eventManager = props.eventManager;\n        this._events = {};\n        this.toggleEvents(this._customEvents, true);\n      }\n\n      this.transitionManager.processViewStateChange(this.controllerStateProps);\n      var _props$scrollZoom = props.scrollZoom,\n          scrollZoom = _props$scrollZoom === void 0 ? true : _props$scrollZoom,\n          _props$dragPan = props.dragPan,\n          dragPan = _props$dragPan === void 0 ? true : _props$dragPan,\n          _props$dragRotate = props.dragRotate,\n          dragRotate = _props$dragRotate === void 0 ? true : _props$dragRotate,\n          _props$doubleClickZoo = props.doubleClickZoom,\n          doubleClickZoom = _props$doubleClickZoo === void 0 ? true : _props$doubleClickZoo,\n          _props$touchZoom = props.touchZoom,\n          touchZoom = _props$touchZoom === void 0 ? true : _props$touchZoom,\n          _props$touchRotate = props.touchRotate,\n          touchRotate = _props$touchRotate === void 0 ? false : _props$touchRotate,\n          _props$keyboard = props.keyboard,\n          keyboard = _props$keyboard === void 0 ? true : _props$keyboard;\n      var isInteractive = Boolean(this.onViewStateChange);\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && scrollZoom);\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && (dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && (touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && doubleClickZoom);\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && keyboard);\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"updateTransition\",\n    value: function updateTransition() {\n      this.transitionManager.updateTransition();\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this._events[eventName] !== enabled) {\n            _this._events[eventName] = enabled;\n\n            if (enabled) {\n              _this.eventManager.on(eventName, _this.handleEvent);\n            } else {\n              _this.eventManager.off(eventName, _this.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newControllerState) {\n      var extraProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var interactionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var viewState = Object.assign({}, newControllerState.getViewportProps(), extraProps);\n      var changed = this.controllerState !== newControllerState;\n\n      if (changed) {\n        var oldViewState = this.controllerState ? this.controllerState.getViewportProps() : null;\n\n        if (this.onViewStateChange) {\n          this.onViewStateChange({\n            viewState: viewState,\n            interactionState: interactionState,\n            oldViewState: oldViewState\n          });\n        }\n      }\n\n      Object.assign(this._state, newControllerState.getInteractiveState(), interactionState);\n\n      if (this.onStateChange) {\n        this.onStateChange(this._state);\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState.panStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var alternateMode = this.isFunctionKeyPressed(event) || event.rightButton;\n      alternateMode = this.invertPan ? !alternateMode : alternateMode;\n      return alternateMode ? this._onPanMove(event) : this._onPanRotate(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      var newControllerState = this.controllerState.panEnd().rotateEnd();\n      this.updateViewport(newControllerState, null, {\n        isDragging: false,\n        isPanning: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newControllerState = this.controllerState.pan({\n        pos: pos\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var deltaX = event.deltaX,\n          deltaY = event.deltaY;\n\n      var _this$controllerState3 = this.controllerState.getViewportProps(),\n          width = _this$controllerState3.width,\n          height = _this$controllerState3.height;\n\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = deltaY / height;\n      var newControllerState = this.controllerState.rotate({\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      event.preventDefault();\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * ZOOM_ACCEL)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newControllerState = this.controllerState.zoom({\n        pos: pos,\n        scale: scale\n      });\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isZooming: true,\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._state.startPinchRotation = event.rotation;\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var newControllerState = this.controllerState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newControllerState = newControllerState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        var startPinchRotation = this._state.startPinchRotation;\n        newControllerState = newControllerState.rotate({\n          deltaScaleX: -(rotation - startPinchRotation) / 180\n        });\n      }\n\n      this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: this.touchZoom,\n        isZooming: this.touchZoom,\n        isRotating: this.touchRotate\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      var newControllerState = this.controllerState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newControllerState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n\n      if (!this.isPointInBounds(pos, event)) {\n        return false;\n      }\n\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newControllerState = this.controllerState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newControllerState, this._getTransitionProps(), {\n        isZooming: true,\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var controllerState = this.controllerState;\n      var newControllerState;\n      var interactionState = {};\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          newControllerState = funcKey ? controllerState.zoomOut().zoomOut() : controllerState.zoomOut();\n          interactionState.isZooming = true;\n          break;\n\n        case 187:\n          newControllerState = funcKey ? controllerState.zoomIn().zoomIn() : controllerState.zoomIn();\n          interactionState.isZooming = true;\n          break;\n\n        case 37:\n          if (funcKey) {\n            newControllerState = controllerState.rotateLeft();\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveLeft();\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newControllerState = controllerState.rotateRight();\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveRight();\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newControllerState = controllerState.rotateUp();\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveUp();\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newControllerState = controllerState.rotateDown();\n            interactionState.isRotating = true;\n          } else {\n            newControllerState = controllerState.moveDown();\n            interactionState.isPanning = true;\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      this.updateViewport(newControllerState, this._getTransitionProps(), interactionState);\n      return true;\n    }\n  }, {\n    key: \"_getTransitionProps\",\n    value: function _getTransitionProps() {\n      return NO_TRANSITION_PROPS;\n    }\n  }, {\n    key: \"events\",\n    set: function set(customEvents) {\n      this.toggleEvents(this._customEvents, false);\n      this.toggleEvents(customEvents, true);\n      this._customEvents = customEvents;\n      this.setProps(this.controllerStateProps);\n    }\n  }]);\n\n  return Controller;\n}();\n\nexport { Controller as default };","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport assert from '../utils/assert';\n\nvar ViewState = function () {\n  function ViewState(opts) {\n    _classCallCheck(this, ViewState);\n\n    assert(Number.isFinite(opts.width), '`width` must be supplied');\n    assert(Number.isFinite(opts.height), '`height` must be supplied');\n    this._viewportProps = this._applyConstraints(opts);\n  }\n\n  _createClass(ViewState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"shortestPathFrom\",\n    value: function shortestPathFrom(viewState) {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      return props;\n    }\n  }]);\n\n  return ViewState;\n}();\n\nexport { ViewState as default };","import \"core-js/modules/es6.math.log2\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { clamp } from 'math.gl';\nimport Controller from './controller';\nimport ViewState from './view-state';\nimport WebMercatorViewport, { normalizeViewportProps } from '@math.gl/web-mercator';\nimport assert from '../utils/assert';\nimport LinearInterpolator from '../transitions/linear-interpolator';\nimport { TRANSITION_EVENTS } from './transition-manager';\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\nvar LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 20,\n  minPitch: 0,\n  maxPitch: 60\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\n\nvar MapState = function (_ViewState) {\n  _inherits(MapState, _ViewState);\n\n  function MapState() {\n    var _this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    _classCallCheck(this, MapState);\n\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MapState).call(this, {\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch\n    }));\n    _this._interactiveState = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n    return _this;\n  }\n\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getInteractiveState\",\n    value: function getInteractiveState() {\n      return this._interactiveState;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._interactiveState.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedState({\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var _ref5$deltaScaleX = _ref5.deltaScaleX,\n          deltaScaleX = _ref5$deltaScaleX === void 0 ? 0 : _ref5$deltaScaleX,\n          _ref5$deltaScaleY = _ref5.deltaScaleY,\n          deltaScaleY = _ref5$deltaScaleY === void 0 ? 0 : _ref5$deltaScaleY;\n      var _this$_interactiveSta = this._interactiveState,\n          startBearing = _this$_interactiveSta.startBearing,\n          startPitch = _this$_interactiveSta.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var _this$_calculateNewPi = this._calculateNewPitchAndBearing({\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY,\n        startBearing: startBearing,\n        startPitch: startPitch\n      }),\n          pitch = _this$_calculateNewPi.pitch,\n          bearing = _this$_calculateNewPi.bearing;\n\n      return this._getUpdatedState({\n        bearing: bearing,\n        pitch: pitch\n      });\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      var _this$_interactiveSta2 = this._interactiveState,\n          startZoom = _this$_interactiveSta2.startZoom,\n          startZoomLngLat = _this$_interactiveSta2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom\n      });\n\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"zoomIn\",\n    value: function zoomIn() {\n      return this._zoomFromCenter(2);\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      return this._zoomFromCenter(0.5);\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft() {\n      return this._panFromCenter([100, 0]);\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight() {\n      return this._panFromCenter([-100, 0]);\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      return this._panFromCenter([0, 100]);\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      return this._panFromCenter([0, -100]);\n    }\n  }, {\n    key: \"rotateLeft\",\n    value: function rotateLeft() {\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing - 15\n      });\n    }\n  }, {\n    key: \"rotateRight\",\n    value: function rotateRight() {\n      return this._getUpdatedState({\n        bearing: this._viewportProps.bearing + 15\n      });\n    }\n  }, {\n    key: \"rotateUp\",\n    value: function rotateUp() {\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch + 10\n      });\n    }\n  }, {\n    key: \"rotateDown\",\n    value: function rotateDown() {\n      return this._getUpdatedState({\n        pitch: this._viewportProps.pitch - 10\n      });\n    }\n  }, {\n    key: \"shortestPathFrom\",\n    value: function shortestPathFrom(viewState) {\n      var fromProps = viewState.getViewportProps();\n      var props = Object.assign({}, this._viewportProps);\n      var bearing = props.bearing,\n          longitude = props.longitude;\n\n      if (Math.abs(bearing - fromProps.bearing) > 180) {\n        props.bearing = bearing < 0 ? bearing + 360 : bearing - 360;\n      }\n\n      if (Math.abs(longitude - fromProps.longitude) > 180) {\n        props.longitude = longitude < 0 ? longitude + 360 : longitude - 360;\n      }\n\n      return props;\n    }\n  }, {\n    key: \"_zoomFromCenter\",\n    value: function _zoomFromCenter(scale) {\n      var _this$_viewportProps = this._viewportProps,\n          width = _this$_viewportProps.width,\n          height = _this$_viewportProps.height;\n      return this.zoom({\n        pos: [width / 2, height / 2],\n        scale: scale\n      });\n    }\n  }, {\n    key: \"_panFromCenter\",\n    value: function _panFromCenter(offset) {\n      var _this$_viewportProps2 = this._viewportProps,\n          width = _this$_viewportProps2.width,\n          height = _this$_viewportProps2.height;\n      return this.pan({\n        startPos: [width / 2, height / 2],\n        pos: [width / 2 + offset[0], height / 2 + offset[1]]\n      });\n    }\n  }, {\n    key: \"_getUpdatedState\",\n    value: function _getUpdatedState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._interactiveState, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps3 = this._viewportProps,\n          maxZoom = _this$_viewportProps3.maxZoom,\n          minZoom = _this$_viewportProps3.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps4 = this._viewportProps,\n          minPitch = _this$_viewportProps4.minPitch,\n          maxPitch = _this$_viewportProps4.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }]);\n\n  return MapState;\n}(ViewState);\n\nvar MapController = function (_Controller) {\n  _inherits(MapController, _Controller);\n\n  function MapController(props) {\n    var _this2;\n\n    _classCallCheck(this, MapController);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(MapController).call(this, MapState, props));\n    _this2.invertPan = true;\n    return _this2;\n  }\n\n  _createClass(MapController, [{\n    key: \"_getTransitionProps\",\n    value: function _getTransitionProps() {\n      return LINEAR_TRANSITION_PROPS;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var deltaX = event.deltaX,\n          deltaY = event.deltaY;\n\n      var _this$getCenter = this.getCenter(event),\n          _this$getCenter2 = _slicedToArray(_this$getCenter, 2),\n          centerY = _this$getCenter2[1];\n\n      var startY = centerY - deltaY;\n\n      var _this$controllerState = this.controllerState.getViewportProps(),\n          width = _this$controllerState.width,\n          height = _this$controllerState.height;\n\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      var newControllerState = this.controllerState.rotate({\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      });\n      return this.updateViewport(newControllerState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isRotating: true\n      });\n    }\n  }]);\n\n  return MapController;\n}(Controller);\n\nexport { MapController as default };\nexport var testExports = {\n  MapState: MapState\n};","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport View from './view';\nimport WebMercatorViewport from '../viewports/web-mercator-viewport';\nimport MapController from '../controllers/map-controller';\n\nvar MapView = function (_View) {\n  _inherits(MapView, _View);\n\n  function MapView(props) {\n    _classCallCheck(this, MapView);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MapView).call(this, Object.assign({}, props, {\n      type: WebMercatorViewport\n    })));\n  }\n\n  _createClass(MapView, [{\n    key: \"controller\",\n    get: function get() {\n      return this._getControllerProps({\n        type: MapController\n      });\n    }\n  }]);\n\n  return MapView;\n}(View);\n\nexport { MapView as default };\nMapView.displayName = 'MapView';","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nvar DEFAULT_LIGHT_COLOR = [255, 255, 255];\nvar DEFAULT_LIGHT_INTENSITY = 1.0;\nvar idCount = 0;\nexport var AmbientLight = function AmbientLight() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  _classCallCheck(this, AmbientLight);\n\n  var _props$color = props.color,\n      color = _props$color === void 0 ? DEFAULT_LIGHT_COLOR : _props$color;\n  var _props$intensity = props.intensity,\n      intensity = _props$intensity === void 0 ? DEFAULT_LIGHT_INTENSITY : _props$intensity;\n  this.id = props.id || \"ambient-\".concat(idCount++);\n  this.color = color;\n  this.intensity = intensity;\n  this.type = 'ambient';\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { Vector3 } from 'math.gl';\nvar DEFAULT_LIGHT_COLOR = [255, 255, 255];\nvar DEFAULT_LIGHT_INTENSITY = 1.0;\nvar DEFAULT_LIGHT_DIRECTION = [0.0, 0.0, -1.0];\nvar idCount = 0;\nexport var DirectionalLight = function () {\n  function DirectionalLight() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DirectionalLight);\n\n    var _props$color = props.color,\n        color = _props$color === void 0 ? DEFAULT_LIGHT_COLOR : _props$color;\n    var _props$intensity = props.intensity,\n        intensity = _props$intensity === void 0 ? DEFAULT_LIGHT_INTENSITY : _props$intensity;\n    var _props$direction = props.direction,\n        direction = _props$direction === void 0 ? DEFAULT_LIGHT_DIRECTION : _props$direction;\n\n    var _props$_shadow = props._shadow,\n        _shadow = _props$_shadow === void 0 ? false : _props$_shadow;\n\n    this.id = props.id || \"directional-\".concat(idCount++);\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'directional';\n    this.direction = new Vector3(direction).normalize().toArray();\n    this.shadow = _shadow;\n  }\n\n  _createClass(DirectionalLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight() {\n      return this;\n    }\n  }]);\n\n  return DirectionalLight;\n}();","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nvar Effect = function () {\n  function Effect() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Effect);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? 'effect' : _props$id;\n    this.id = id;\n    this.props = {};\n    Object.assign(this.props, props);\n  }\n\n  _createClass(Effect, [{\n    key: \"preRender\",\n    value: function preRender() {}\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {}\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {}\n  }]);\n\n  return Effect;\n}();\n\nexport { Effect as default };","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Pass from './pass';\nimport { clear, setParameters, withParameters, cssToDeviceRatio } from '@luma.gl/core';\nimport log from '../utils/log';\n\nvar LayersPass = function (_Pass) {\n  _inherits(LayersPass, _Pass);\n\n  function LayersPass() {\n    _classCallCheck(this, LayersPass);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LayersPass).apply(this, arguments));\n  }\n\n  _createClass(LayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      var gl = this.gl;\n      setParameters(gl, {\n        framebuffer: props.target\n      });\n      return this._drawLayers(props);\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(props) {\n      var viewports = props.viewports,\n          views = props.views,\n          onViewportActive = props.onViewportActive,\n          _props$clearCanvas = props.clearCanvas,\n          clearCanvas = _props$clearCanvas === void 0 ? true : _props$clearCanvas;\n      var gl = this.gl;\n\n      if (clearCanvas) {\n        clearGLCanvas(gl);\n      }\n\n      var renderStats = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = viewports[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var viewportOrDescriptor = _step.value;\n          var viewport = viewportOrDescriptor.viewport || viewportOrDescriptor;\n          var view = views && views[viewport.id];\n          onViewportActive(viewport);\n          props.view = view;\n          var subViewports = viewport.subViewports || [viewport];\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = subViewports[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var subViewport = _step2.value;\n              props.viewport = subViewport;\n\n              var stats = this._drawLayersInViewport(gl, props);\n\n              renderStats.push(stats);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return renderStats;\n    }\n  }, {\n    key: \"_drawLayersInViewport\",\n    value: function _drawLayersInViewport(gl, _ref) {\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          onError = _ref.onError,\n          viewport = _ref.viewport,\n          view = _ref.view,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'unknown' : _ref$pass,\n          effects = _ref.effects,\n          moduleParameters = _ref.moduleParameters;\n      var glViewport = getGLViewport(gl, {\n        viewport: viewport\n      });\n\n      if (view && view.props.clear) {\n        var clearOpts = view.props.clear === true ? {\n          color: true,\n          depth: true\n        } : view.props.clear;\n        withParameters(gl, {\n          scissorTest: true,\n          scissor: glViewport\n        }, function () {\n          return clear(gl, clearOpts);\n        });\n      }\n\n      var renderStatus = {\n        totalCount: layers.length,\n        visibleCount: 0,\n        compositeCount: 0,\n        pickableCount: 0\n      };\n      setParameters(gl, {\n        viewport: glViewport\n      });\n      var indexResolver = layerIndexResolver();\n\n      for (var layerIndex = 0; layerIndex < layers.length; layerIndex++) {\n        var layer = layers[layerIndex];\n\n        var shouldDrawLayer = this._shouldDrawLayer(layer, viewport, pass, layerFilter);\n\n        var layerRenderIndex = indexResolver(layer, shouldDrawLayer);\n\n        if (shouldDrawLayer && layer.props.pickable) {\n          renderStatus.pickableCount++;\n        }\n\n        if (layer.isComposite) {\n          renderStatus.compositeCount++;\n        }\n\n        if (shouldDrawLayer) {\n          renderStatus.visibleCount++;\n\n          var _moduleParameters = this._getModuleParameters(layer, effects, pass, moduleParameters);\n\n          var layerParameters = this.getLayerParameters(layer, layerIndex);\n          _moduleParameters.viewport = viewport;\n\n          try {\n            layer.drawLayer({\n              moduleParameters: _moduleParameters,\n              uniforms: {\n                layerIndex: layerRenderIndex\n              },\n              parameters: layerParameters\n            });\n          } catch (err) {\n            if (onError) {\n              onError(err, layer);\n            } else {\n              log.error(\"error during drawing of \".concat(layer), err)();\n            }\n          }\n        }\n      }\n\n      return renderStatus;\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return true;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer, effects) {\n      return null;\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      return layer.props.parameters;\n    }\n  }, {\n    key: \"_shouldDrawLayer\",\n    value: function _shouldDrawLayer(layer, viewport, pass, layerFilter) {\n      var shouldDrawLayer = this.shouldDrawLayer(layer) && !layer.isComposite && layer.props.visible;\n\n      if (shouldDrawLayer && layerFilter) {\n        shouldDrawLayer = layerFilter({\n          layer: layer,\n          viewport: viewport,\n          isPicking: pass.startsWith('picking'),\n          renderPass: pass\n        });\n      }\n\n      return shouldDrawLayer;\n    }\n  }, {\n    key: \"_getModuleParameters\",\n    value: function _getModuleParameters(layer, effects, pass, overrides) {\n      var moduleParameters = Object.assign(Object.create(layer.props), {\n        viewport: layer.context.viewport,\n        mousePosition: layer.context.mousePosition,\n        pickingActive: 0,\n        devicePixelRatio: cssToDeviceRatio(this.gl)\n      });\n\n      if (effects) {\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = effects[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var effect = _step3.value;\n            Object.assign(moduleParameters, effect.getModuleParameters(layer));\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n              _iterator3[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n      }\n\n      return Object.assign(moduleParameters, this.getModuleParameters(layer, effects), overrides);\n    }\n  }]);\n\n  return LayersPass;\n}(Pass);\n\nexport { LayersPass as default };\nexport function layerIndexResolver() {\n  var startIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var layerIndices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var resolvers = {};\n  return function (layer, isDrawn) {\n    var indexOverride = layer.props._offset;\n    var layerId = layer.id;\n    var parentId = layer.parent && layer.parent.id;\n    var index;\n\n    if (parentId in resolvers) {\n      var resolver = resolvers[parentId] = resolvers[parentId] || layerIndexResolver(layerIndices[parentId], layerIndices);\n      index = resolver(layer, isDrawn);\n      resolvers[layerId] = resolver;\n    } else if (Number.isFinite(indexOverride)) {\n      index = indexOverride + (layerIndices[parentId] || 0);\n      resolvers[layerId] = null;\n    } else {\n      index = startIndex;\n    }\n\n    if (isDrawn && index >= startIndex) {\n      startIndex = index + 1;\n    }\n\n    layerIndices[layerId] = index;\n    return index;\n  };\n}\n\nfunction getGLViewport(gl, _ref2) {\n  var viewport = _ref2.viewport;\n  var height = gl.canvas ? gl.canvas.clientHeight || gl.canvas.height : 100;\n  var dimensions = viewport;\n  var pixelRatio = cssToDeviceRatio(gl);\n  return [dimensions.x * pixelRatio, (height - dimensions.y - dimensions.height) * pixelRatio, dimensions.width * pixelRatio, dimensions.height * pixelRatio];\n}\n\nfunction clearGLCanvas(gl) {\n  var width = gl.drawingBufferWidth;\n  var height = gl.drawingBufferHeight;\n  setParameters(gl, {\n    viewport: [0, 0, width, height]\n  });\n  gl.clear(16384 | 256);\n}","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nvar Pass = function () {\n  function Pass(gl) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Pass);\n\n    var _props$id = props.id,\n        id = _props$id === void 0 ? 'pass' : _props$id;\n    this.id = id;\n    this.gl = gl;\n    this.props = {};\n    Object.assign(this.props, props);\n  }\n\n  _createClass(Pass, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      Object.assign(this.props, props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {}\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {}\n  }]);\n\n  return Pass;\n}();\n\nexport { Pass as default };","import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { default as LayersPass } from './layers-pass';\nimport { Framebuffer, Texture2D, Renderbuffer, withParameters, cssToDeviceRatio } from '@luma.gl/core';\n\nvar ShadowPass = function (_LayersPass) {\n  _inherits(ShadowPass, _LayersPass);\n\n  function ShadowPass(gl, props) {\n    var _parameters, _attachments;\n\n    var _this;\n\n    _classCallCheck(this, ShadowPass);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShadowPass).call(this, gl, props));\n    _this.shadowMap = new Texture2D(gl, {\n      width: 1,\n      height: 1,\n      parameters: (_parameters = {}, _defineProperty(_parameters, 10241, 9729), _defineProperty(_parameters, 10240, 9729), _defineProperty(_parameters, 10242, 33071), _defineProperty(_parameters, 10243, 33071), _parameters)\n    });\n    _this.depthBuffer = new Renderbuffer(gl, {\n      format: 33189,\n      width: 1,\n      height: 1\n    });\n    _this.fbo = new Framebuffer(gl, {\n      id: 'shadowmap',\n      width: 1,\n      height: 1,\n      attachments: (_attachments = {}, _defineProperty(_attachments, 36064, _this.shadowMap), _defineProperty(_attachments, 36096, _this.depthBuffer), _attachments)\n    });\n    return _this;\n  }\n\n  _createClass(ShadowPass, [{\n    key: \"render\",\n    value: function render(params) {\n      var _this2 = this;\n\n      var target = this.fbo;\n      withParameters(this.gl, {\n        depthRange: [0, 1],\n        depthTest: true,\n        blend: false,\n        clearColor: [1, 1, 1, 1]\n      }, function () {\n        var viewport = params.viewports[0];\n        var pixelRatio = cssToDeviceRatio(_this2.gl);\n        var width = viewport.width * pixelRatio;\n        var height = viewport.height * pixelRatio;\n\n        if (width !== target.width || height !== target.height) {\n          target.resize({\n            width: width,\n            height: height\n          });\n        }\n\n        _get(_getPrototypeOf(ShadowPass.prototype), \"render\", _this2).call(_this2, _objectSpread({}, params, {\n          target: target,\n          pass: 'shadow'\n        }));\n      });\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.shadowEnabled !== false;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        drawToShadowMap: true\n      };\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.fbo) {\n        this.fbo[\"delete\"]();\n        this.fbo = null;\n      }\n\n      if (this.shadowMap) {\n        this.shadowMap[\"delete\"]();\n        this.shadowMap = null;\n      }\n\n      if (this.depthBuffer) {\n        this.depthBuffer[\"delete\"]();\n        this.depthBuffer = null;\n      }\n    }\n  }]);\n\n  return ShadowPass;\n}(LayersPass);\n\nexport { ShadowPass as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { COORDINATE_SYSTEM, PROJECTION_MODE } from '../../lib/constants';\nimport project from '../project/project';\nimport { Vector3, Matrix4 } from 'math.gl';\nimport memoize from '../../utils/memoize';\nimport { pixelsToWorld } from '@math.gl/web-mercator';\nvar vs = \"\\nconst int max_lights = 2;\\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\\nuniform vec4 shadow_uProjectCenters[max_lights];\\nuniform bool shadow_uDrawShadowMap;\\nuniform bool shadow_uUseShadowMap;\\nuniform int shadow_uLightId;\\nuniform float shadow_uLightCount;\\n\\nvarying vec3 shadow_vPosition[max_lights];\\n\\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\\n  if (shadow_uDrawShadowMap) {\\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\\n  }\\n  if (shadow_uUseShadowMap) {\\n    for (int i = 0; i < max_lights; i++) {\\n      if(i < int(shadow_uLightCount)) {\\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\\n      }\\n    }\\n  }\\n  return gl_Position;\\n}\\n\";\nvar fs = \"\\nconst int max_lights = 2;\\nuniform bool shadow_uDrawShadowMap;\\nuniform bool shadow_uUseShadowMap;\\nuniform sampler2D shadow_uShadowMap0;\\nuniform sampler2D shadow_uShadowMap1;\\nuniform vec4 shadow_uColor;\\nuniform float shadow_uLightCount;\\n\\nvarying vec3 shadow_vPosition[max_lights];\\n\\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\\n\\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\\n\\n  float z = dot(rgbaDepth, bitUnpackShift);\\n  return smoothstep(0.001, 0.01, position.z - z);\\n}\\n\\nvec4 shadow_filterShadowColor(vec4 color) {\\n  if (shadow_uDrawShadowMap) {\\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\\n    return rgbaDepth;\\n  }\\n  if (shadow_uUseShadowMap) {\\n    float shadowAlpha = 0.0;\\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\\n    if(shadow_uLightCount > 1.0) {\\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\\n    }\\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\\n\\n    return vec4(\\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\\n      blendedAlpha\\n    );\\n  }\\n  return color;\\n}\\n\";\nvar getMemoizedViewportCenterPosition = memoize(getViewportCenterPosition);\nvar getMemoizedViewProjectionMatrices = memoize(getViewProjectionMatrices);\nvar DEFAULT_SHADOW_COLOR = [0, 0, 0, 1.0];\nvar VECTOR_TO_POINT_MATRIX = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0];\n\nfunction screenToCommonSpace(xyz, pixelUnprojectionMatrix) {\n  var _xyz = _slicedToArray(xyz, 3),\n      x = _xyz[0],\n      y = _xyz[1],\n      z = _xyz[2];\n\n  var coord = pixelsToWorld([x, y, z], pixelUnprojectionMatrix);\n\n  if (Number.isFinite(z)) {\n    return coord;\n  }\n\n  return [coord[0], coord[1], 0];\n}\n\nfunction getViewportCenterPosition(_ref) {\n  var viewport = _ref.viewport,\n      center = _ref.center;\n  return new Matrix4(viewport.viewProjectionMatrix).invert().transform(center);\n}\n\nfunction getViewProjectionMatrices(_ref2) {\n  var viewport = _ref2.viewport,\n      shadowMatrices = _ref2.shadowMatrices;\n  var projectionMatrices = [];\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var farZ = viewport.isGeospatial ? undefined : 1;\n  var corners = [[0, 0, farZ], [viewport.width, 0, farZ], [0, viewport.height, farZ], [viewport.width, viewport.height, farZ], [0, 0, -1], [viewport.width, 0, -1], [0, viewport.height, -1], [viewport.width, viewport.height, -1]].map(function (pixel) {\n    return screenToCommonSpace(pixel, pixelUnprojectionMatrix);\n  });\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var shadowMatrix = _step.value;\n      var viewMatrix = shadowMatrix.clone().translate(new Vector3(viewport.center).negate());\n      var positions = corners.map(function (corner) {\n        return viewMatrix.transform(corner);\n      });\n      var projectionMatrix = new Matrix4().ortho({\n        left: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[0];\n        }))),\n        right: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[0];\n        }))),\n        bottom: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[1];\n        }))),\n        top: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return position[1];\n        }))),\n        near: Math.min.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return -position[2];\n        }))),\n        far: Math.max.apply(Math, _toConsumableArray(positions.map(function (position) {\n          return -position[2];\n        })))\n      });\n      projectionMatrices.push(projectionMatrix.multiplyRight(shadowMatrix));\n    };\n\n    for (var _iterator = shadowMatrices[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return projectionMatrices;\n}\n\nfunction createShadowUniforms() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var uniforms = {\n    shadow_uDrawShadowMap: Boolean(opts.drawToShadowMap),\n    shadow_uUseShadowMap: opts.shadowMaps ? opts.shadowMaps.length > 0 : false,\n    shadow_uColor: opts.shadowColor || DEFAULT_SHADOW_COLOR,\n    shadow_uLightId: opts.shadowLightId || 0,\n    shadow_uLightCount: opts.shadowMatrices.length\n  };\n  var center = getMemoizedViewportCenterPosition({\n    viewport: opts.viewport,\n    center: context.project_uCenter\n  });\n  var projectCenters = [];\n  var viewProjectionMatrices = getMemoizedViewProjectionMatrices({\n    shadowMatrices: opts.shadowMatrices,\n    viewport: opts.viewport\n  }).slice();\n\n  for (var i = 0; i < opts.shadowMatrices.length; i++) {\n    var viewProjectionMatrix = viewProjectionMatrices[i];\n    var viewProjectionMatrixCentered = viewProjectionMatrix.clone().translate(new Vector3(opts.viewport.center).negate());\n\n    if (context.project_uCoordinateSystem === COORDINATE_SYSTEM.LNGLAT && context.project_uProjectionMode === PROJECTION_MODE.WEB_MERCATOR) {\n      viewProjectionMatrices[i] = viewProjectionMatrixCentered;\n      projectCenters[i] = center;\n    } else {\n      viewProjectionMatrices[i] = viewProjectionMatrix.clone().multiplyRight(VECTOR_TO_POINT_MATRIX);\n      projectCenters[i] = viewProjectionMatrixCentered.transform(center);\n    }\n  }\n\n  for (var _i = 0; _i < viewProjectionMatrices.length; _i++) {\n    uniforms[\"shadow_uViewProjectionMatrices[\".concat(_i, \"]\")] = viewProjectionMatrices[_i];\n    uniforms[\"shadow_uProjectCenters[\".concat(_i, \"]\")] = projectCenters[_i];\n\n    if (opts.shadowMaps && opts.shadowMaps.length > 0) {\n      uniforms[\"shadow_uShadowMap\".concat(_i)] = opts.shadowMaps[_i];\n    } else {\n      uniforms[\"shadow_uShadowMap\".concat(_i)] = opts.dummyShadowMap;\n    }\n  }\n\n  return uniforms;\n}\n\nexport default {\n  name: 'shadow',\n  dependencies: [project],\n  vs: vs,\n  fs: fs,\n  inject: {\n    'vs:DECKGL_FILTER_GL_POSITION': \"\\n    position = shadow_setVertexPosition(geometry.position);\\n    \",\n    'fs:DECKGL_FILTER_COLOR': \"\\n    color = shadow_filterShadowColor(color);\\n    \"\n  },\n  getUniforms: function getUniforms() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (opts.drawToShadowMap || opts.shadowMaps && opts.shadowMaps.length > 0) {\n      var shadowUniforms = {};\n      var _opts$shadowEnabled = opts.shadowEnabled,\n          shadowEnabled = _opts$shadowEnabled === void 0 ? true : _opts$shadowEnabled;\n\n      if (shadowEnabled && opts.shadowMatrices && opts.shadowMatrices.length > 0) {\n        Object.assign(shadowUniforms, createShadowUniforms(opts, context));\n      } else {\n        Object.assign(shadowUniforms, {\n          shadow_uDrawShadowMap: false,\n          shadow_uUseShadowMap: false\n        });\n      }\n\n      return shadowUniforms;\n    }\n\n    return {};\n  }\n};","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.some\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { Texture2D, ProgramManager } from '@luma.gl/core';\nimport { AmbientLight } from './ambient-light';\nimport { DirectionalLight } from './directional-light';\nimport Effect from '../../lib/effect';\nimport { Matrix4, Vector3 } from 'math.gl';\nimport ShadowPass from '../../passes/shadow-pass';\nimport { default as shadow } from '../../shaderlib/shadow/shadow';\nvar DEFAULT_AMBIENT_LIGHT_PROPS = {\n  color: [255, 255, 255],\n  intensity: 1.0\n};\nvar DEFAULT_DIRECTIONAL_LIGHT_PROPS = [{\n  color: [255, 255, 255],\n  intensity: 1.0,\n  direction: [-1, 3, -1]\n}, {\n  color: [255, 255, 255],\n  intensity: 0.9,\n  direction: [1, -8, -2.5]\n}];\nvar DEFAULT_SHADOW_COLOR = [0, 0, 0, 200 / 255];\n\nvar LightingEffect = function (_Effect) {\n  _inherits(LightingEffect, _Effect);\n\n  function LightingEffect(props) {\n    var _this;\n\n    _classCallCheck(this, LightingEffect);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LightingEffect).call(this, props));\n    _this.ambientLight = null;\n    _this.directionalLights = [];\n    _this.pointLights = [];\n    _this.shadowColor = DEFAULT_SHADOW_COLOR;\n    _this.shadowPasses = [];\n    _this.shadowMaps = [];\n    _this.dummyShadowMap = null;\n    _this.shadow = false;\n    _this.programManager = null;\n\n    for (var key in props) {\n      var lightSource = props[key];\n\n      switch (lightSource.type) {\n        case 'ambient':\n          _this.ambientLight = lightSource;\n          break;\n\n        case 'directional':\n          _this.directionalLights.push(lightSource);\n\n          break;\n\n        case 'point':\n          _this.pointLights.push(lightSource);\n\n          break;\n\n        default:\n      }\n    }\n\n    _this._applyDefaultLights();\n\n    _this.shadow = _this.directionalLights.some(function (light) {\n      return light.shadow;\n    });\n    return _this;\n  }\n\n  _createClass(LightingEffect, [{\n    key: \"preRender\",\n    value: function preRender(gl, _ref) {\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          views = _ref.views;\n      if (!this.shadow) return;\n      this.shadowMatrices = this._createLightMatrix();\n\n      if (this.shadowPasses.length === 0) {\n        this._createShadowPasses(gl);\n      }\n\n      if (!this.programManager) {\n        this.programManager = ProgramManager.getDefaultProgramManager(gl);\n\n        if (shadow) {\n          this.programManager.addDefaultModule(shadow);\n        }\n      }\n\n      if (!this.dummyShadowMap) {\n        this.dummyShadowMap = new Texture2D(gl, {\n          width: 1,\n          height: 1\n        });\n      }\n\n      for (var i = 0; i < this.shadowPasses.length; i++) {\n        var shadowPass = this.shadowPasses[i];\n        shadowPass.render({\n          layers: layers,\n          layerFilter: layerFilter,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          views: views,\n          moduleParameters: {\n            shadowLightId: i,\n            dummyShadowMap: this.dummyShadowMap,\n            shadowMatrices: this.shadowMatrices\n          }\n        });\n      }\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters(layer) {\n      var parameters = this.shadow ? {\n        shadowMaps: this.shadowMaps,\n        dummyShadowMap: this.dummyShadowMap,\n        shadowColor: this.shadowColor,\n        shadowMatrices: this.shadowMatrices\n      } : {};\n      parameters.lightSources = {\n        ambientLight: this.ambientLight,\n        directionalLights: this.directionalLights.map(function (directionalLight) {\n          return directionalLight.getProjectedLight({\n            layer: layer\n          });\n        }),\n        pointLights: this.pointLights.map(function (pointLight) {\n          return pointLight.getProjectedLight({\n            layer: layer\n          });\n        })\n      };\n      return parameters;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.shadowPasses[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var shadowPass = _step.value;\n          shadowPass[\"delete\"]();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.shadowPasses.length = 0;\n      this.shadowMaps.length = 0;\n\n      if (this.dummyShadowMap) {\n        this.dummyShadowMap[\"delete\"]();\n        this.dummyShadowMap = null;\n      }\n\n      if (this.shadow && this.programManager) {\n        this.programManager.removeDefaultModule(shadow);\n        this.programManager = null;\n      }\n    }\n  }, {\n    key: \"_createLightMatrix\",\n    value: function _createLightMatrix() {\n      var lightMatrices = [];\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.directionalLights[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var light = _step2.value;\n          var viewMatrix = new Matrix4().lookAt({\n            eye: new Vector3(light.direction).negate()\n          });\n          lightMatrices.push(viewMatrix);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return lightMatrices;\n    }\n  }, {\n    key: \"_createShadowPasses\",\n    value: function _createShadowPasses(gl) {\n      for (var i = 0; i < this.directionalLights.length; i++) {\n        var shadowPass = new ShadowPass(gl);\n        this.shadowPasses[i] = shadowPass;\n        this.shadowMaps[i] = shadowPass.shadowMap;\n      }\n    }\n  }, {\n    key: \"_applyDefaultLights\",\n    value: function _applyDefaultLights() {\n      var ambientLight = this.ambientLight,\n          pointLights = this.pointLights,\n          directionalLights = this.directionalLights;\n\n      if (!ambientLight && pointLights.length === 0 && directionalLights.length === 0) {\n        this.ambientLight = new AmbientLight(DEFAULT_AMBIENT_LIGHT_PROPS);\n        this.directionalLights.push(new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[0]), new DirectionalLight(DEFAULT_DIRECTIONAL_LIGHT_PROPS[1]));\n      }\n    }\n  }]);\n\n  return LightingEffect;\n}(Effect);\n\nexport { LightingEffect as default };","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { deepEqual } from '../utils/deep-equal';\nimport { default as LightingEffect } from '../effects/lighting/lighting-effect';\nvar DEFAULT_LIGHTING_EFFECT = new LightingEffect();\n\nvar EffectManager = function () {\n  function EffectManager() {\n    _classCallCheck(this, EffectManager);\n\n    this.effects = [];\n    this._internalEffects = [];\n    this._needsRedraw = 'Initial render';\n    this.setEffects();\n  }\n\n  _createClass(EffectManager, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('effects' in props) {\n        if (props.effects.length !== this.effects.length || !deepEqual(props.effects, this.effects)) {\n          this.setEffects(props.effects);\n          this._needsRedraw = 'effects changed';\n        }\n      }\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"getEffects\",\n    value: function getEffects() {\n      return this._internalEffects;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.cleanup();\n    }\n  }, {\n    key: \"setEffects\",\n    value: function setEffects() {\n      var effects = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.cleanup();\n      this.effects = effects;\n\n      this._createInternalEffects();\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.effects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var effect = _step.value;\n          effect.cleanup();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this._internalEffects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _effect = _step2.value;\n\n          _effect.cleanup();\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      this.effects.length = 0;\n      this._internalEffects.length = 0;\n    }\n  }, {\n    key: \"_createInternalEffects\",\n    value: function _createInternalEffects() {\n      this._internalEffects = this.effects.slice();\n\n      if (!this.effects.some(function (effect) {\n        return effect instanceof LightingEffect;\n      })) {\n        this._internalEffects.push(DEFAULT_LIGHTING_EFFECT);\n      }\n    }\n  }]);\n\n  return EffectManager;\n}();\n\nexport { EffectManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport LayersPass from './layers-pass';\n\nvar DrawLayersPass = function (_LayersPass) {\n  _inherits(DrawLayersPass, _LayersPass);\n\n  function DrawLayersPass() {\n    _classCallCheck(this, DrawLayersPass);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DrawLayersPass).apply(this, arguments));\n  }\n\n  return DrawLayersPass;\n}(LayersPass);\n\nexport { DrawLayersPass as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport LayersPass from './layers-pass';\nimport { withParameters } from '@luma.gl/core';\nvar PICKING_PARAMETERS = {\n  blendFunc: [1, 0, 32771, 0],\n  blendEquation: 32774\n};\n\nvar PickLayersPass = function (_LayersPass) {\n  _inherits(PickLayersPass, _LayersPass);\n\n  function PickLayersPass() {\n    _classCallCheck(this, PickLayersPass);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PickLayersPass).apply(this, arguments));\n  }\n\n  _createClass(PickLayersPass, [{\n    key: \"render\",\n    value: function render(props) {\n      if (props.pickingFBO) {\n        this._drawPickingBuffer(props);\n      } else {\n        _get(_getPrototypeOf(PickLayersPass.prototype), \"render\", this).call(this, props);\n      }\n    }\n  }, {\n    key: \"_drawPickingBuffer\",\n    value: function _drawPickingBuffer(_ref) {\n      var _this = this;\n\n      var layers = _ref.layers,\n          layerFilter = _ref.layerFilter,\n          viewports = _ref.viewports,\n          onViewportActive = _ref.onViewportActive,\n          pickingFBO = _ref.pickingFBO,\n          _ref$deviceRect = _ref.deviceRect,\n          x = _ref$deviceRect.x,\n          y = _ref$deviceRect.y,\n          width = _ref$deviceRect.width,\n          height = _ref$deviceRect.height,\n          _ref$pass = _ref.pass,\n          pass = _ref$pass === void 0 ? 'picking' : _ref$pass,\n          redrawReason = _ref.redrawReason,\n          pickZ = _ref.pickZ;\n      var gl = this.gl;\n      this.pickZ = pickZ;\n      return withParameters(gl, _objectSpread({\n        scissorTest: true,\n        scissor: [x, y, width, height],\n        clearColor: [0, 0, 0, 0],\n        depthMask: true,\n        depthTest: true,\n        depthRange: [0, 1],\n        colorMask: [true, true, true, true]\n      }, PICKING_PARAMETERS, {\n        blend: !pickZ\n      }), function () {\n        _get(_getPrototypeOf(PickLayersPass.prototype), \"render\", _this).call(_this, {\n          target: pickingFBO,\n          layers: layers,\n          layerFilter: layerFilter,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          pass: pass,\n          redrawReason: redrawReason\n        });\n      });\n    }\n  }, {\n    key: \"shouldDrawLayer\",\n    value: function shouldDrawLayer(layer) {\n      return layer.props.pickable;\n    }\n  }, {\n    key: \"getModuleParameters\",\n    value: function getModuleParameters() {\n      return {\n        pickingActive: 1,\n        pickingAttribute: this.pickZ,\n        lightSources: {}\n      };\n    }\n  }, {\n    key: \"getLayerParameters\",\n    value: function getLayerParameters(layer, layerIndex) {\n      var pickParameters = this.pickZ ? {\n        blend: false\n      } : _objectSpread({}, PICKING_PARAMETERS, {\n        blend: true,\n        blendColor: [0, 0, 0, (layerIndex + 1) / 255]\n      });\n      return Object.assign({}, layer.props.parameters, pickParameters);\n    }\n  }]);\n\n  return PickLayersPass;\n}(LayersPass);\n\nexport { PickLayersPass as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport debug from '../debug';\nimport DrawLayersPass from '../passes/draw-layers-pass';\nimport PickLayersPass from '../passes/pick-layers-pass';\nimport { Framebuffer } from '@luma.gl/core';\nvar TRACE_RENDER_LAYERS = 'deckRenderer.renderLayers';\n\nvar DeckRenderer = function () {\n  function DeckRenderer(gl) {\n    _classCallCheck(this, DeckRenderer);\n\n    this.gl = gl;\n    this.layerFilter = null;\n    this.drawPickingColors = false;\n    this.drawLayersPass = new DrawLayersPass(gl);\n    this.pickLayersPass = new PickLayersPass(gl);\n    this.renderCount = 0;\n    this._needsRedraw = 'Initial render';\n    this.renderBuffers = [];\n    this.lastPostProcessEffect = null;\n    this._onError = null;\n  }\n\n  _createClass(DeckRenderer, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('layerFilter' in props && this.layerFilter !== props.layerFilter) {\n        this.layerFilter = props.layerFilter;\n        this._needsRedraw = 'layerFilter changed';\n      }\n\n      if ('drawPickingColors' in props && this.drawPickingColors !== props.drawPickingColors) {\n        this.drawPickingColors = props.drawPickingColors;\n        this._needsRedraw = 'drawPickingColors changed';\n      }\n\n      if ('onError' in props) {\n        this._onError = props.onError;\n      }\n    }\n  }, {\n    key: \"renderLayers\",\n    value: function renderLayers(opts) {\n      var layerPass = this.drawPickingColors ? this.pickLayersPass : this.drawLayersPass;\n      opts.layerFilter = this.layerFilter;\n      opts.onError = this._onError;\n      opts.effects = opts.effects || [];\n      opts.target = opts.target || Framebuffer.getDefaultFramebuffer(this.gl);\n\n      this._preRender(opts.effects, opts);\n\n      var outputBuffer = this.lastPostProcessEffect ? this.renderBuffers[0] : opts.target;\n      var renderStats = layerPass.render(_objectSpread({}, opts, {\n        target: outputBuffer\n      }));\n\n      this._postRender(opts.effects, opts);\n\n      this.renderCount++;\n      debug(TRACE_RENDER_LAYERS, this, renderStats, opts);\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      return redraw;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var renderBuffers = this.renderBuffers;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = renderBuffers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var buffer = _step.value;\n          buffer[\"delete\"]();\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      renderBuffers.length = 0;\n    }\n  }, {\n    key: \"_preRender\",\n    value: function _preRender(effects, opts) {\n      var lastPostProcessEffect = null;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = effects[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var effect = _step2.value;\n          effect.preRender(this.gl, opts);\n\n          if (effect.postRender) {\n            lastPostProcessEffect = effect;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      if (lastPostProcessEffect) {\n        this._resizeRenderBuffers();\n      }\n\n      this.lastPostProcessEffect = lastPostProcessEffect;\n    }\n  }, {\n    key: \"_resizeRenderBuffers\",\n    value: function _resizeRenderBuffers() {\n      var renderBuffers = this.renderBuffers;\n\n      if (renderBuffers.length === 0) {\n        renderBuffers.push(new Framebuffer(this.gl), new Framebuffer(this.gl));\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = renderBuffers[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var buffer = _step3.value;\n          buffer.resize();\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_postRender\",\n    value: function _postRender(effects, opts) {\n      var renderBuffers = this.renderBuffers;\n      var params = {\n        inputBuffer: renderBuffers[0],\n        swapBuffer: renderBuffers[1],\n        target: null\n      };\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = effects[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var effect = _step4.value;\n\n          if (effect.postRender) {\n            if (effect === this.lastPostProcessEffect) {\n              params.target = opts.target;\n              effect.postRender(this.gl, params);\n              break;\n            }\n\n            var buffer = effect.postRender(this.gl, params);\n            params.inputBuffer = buffer;\n            params.swapBuffer = buffer === renderBuffers[0] ? renderBuffers[1] : renderBuffers[0];\n          }\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  }]);\n\n  return DeckRenderer;\n}();\n\nexport { DeckRenderer as default };","import \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport log from '../../utils/log';\nvar NO_PICKED_OBJECT = {\n  pickedColor: null,\n  pickedLayer: null,\n  pickedObjectIndex: -1\n};\nexport function getClosestObject(_ref) {\n  var pickedColors = _ref.pickedColors,\n      layers = _ref.layers,\n      deviceX = _ref.deviceX,\n      deviceY = _ref.deviceY,\n      deviceRadius = _ref.deviceRadius,\n      deviceRect = _ref.deviceRect;\n\n  if (pickedColors) {\n    var x = deviceRect.x,\n        y = deviceRect.y,\n        width = deviceRect.width,\n        height = deviceRect.height;\n    var minSquareDistanceToCenter = deviceRadius * deviceRadius;\n    var closestPixelIndex = -1;\n    var i = 0;\n\n    for (var row = 0; row < height; row++) {\n      var dy = row + y - deviceY;\n      var dy2 = dy * dy;\n\n      if (dy2 > minSquareDistanceToCenter) {\n        i += 4 * width;\n      } else {\n        for (var col = 0; col < width; col++) {\n          var pickedLayerIndex = pickedColors[i + 3] - 1;\n\n          if (pickedLayerIndex >= 0) {\n            var dx = col + x - deviceX;\n            var d2 = dx * dx + dy2;\n\n            if (d2 <= minSquareDistanceToCenter) {\n              minSquareDistanceToCenter = d2;\n              closestPixelIndex = i;\n            }\n          }\n\n          i += 4;\n        }\n      }\n    }\n\n    if (closestPixelIndex >= 0) {\n      var _pickedLayerIndex = pickedColors[closestPixelIndex + 3] - 1;\n\n      var pickedColor = pickedColors.slice(closestPixelIndex, closestPixelIndex + 4);\n      var pickedLayer = layers[_pickedLayerIndex];\n\n      if (pickedLayer) {\n        var pickedObjectIndex = pickedLayer.decodePickingColor(pickedColor);\n\n        var _dy = Math.floor(closestPixelIndex / 4 / width);\n\n        var _dx = closestPixelIndex / 4 - _dy * width;\n\n        return {\n          pickedColor: pickedColor,\n          pickedLayer: pickedLayer,\n          pickedObjectIndex: pickedObjectIndex,\n          pickedX: x + _dx,\n          pickedY: y + _dy\n        };\n      }\n\n      log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n    }\n  }\n\n  return NO_PICKED_OBJECT;\n}\nexport function getUniqueObjects(_ref2) {\n  var pickedColors = _ref2.pickedColors,\n      layers = _ref2.layers;\n  var uniqueColors = new Map();\n\n  if (pickedColors) {\n    for (var i = 0; i < pickedColors.length; i += 4) {\n      var pickedLayerIndex = pickedColors[i + 3] - 1;\n\n      if (pickedLayerIndex >= 0) {\n        var pickedColor = pickedColors.slice(i, i + 4);\n        var colorKey = pickedColor.join(',');\n\n        if (!uniqueColors.has(colorKey)) {\n          var pickedLayer = layers[pickedLayerIndex];\n\n          if (pickedLayer) {\n            uniqueColors.set(colorKey, {\n              pickedColor: pickedColor,\n              pickedLayer: pickedLayer,\n              pickedObjectIndex: pickedLayer.decodePickingColor(pickedColor)\n            });\n          } else {\n            log.error('Picked non-existent layer. Is picking buffer corrupt?')();\n          }\n        }\n      }\n    }\n  }\n\n  return Array.from(uniqueColors.values());\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.array.find\";\nexport function processPickInfo(_ref) {\n  var pickInfo = _ref.pickInfo,\n      lastPickedInfo = _ref.lastPickedInfo,\n      mode = _ref.mode,\n      layers = _ref.layers,\n      viewports = _ref.viewports,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      pixelRatio = _ref.pixelRatio;\n  var pickedColor = pickInfo.pickedColor,\n      pickedLayer = pickInfo.pickedLayer,\n      pickedObjectIndex = pickInfo.pickedObjectIndex;\n  var affectedLayers = pickedLayer ? [pickedLayer] : [];\n\n  if (mode === 'hover') {\n    var lastPickedObjectIndex = lastPickedInfo.index;\n    var lastPickedLayerId = lastPickedInfo.layerId;\n    var pickedLayerId = pickedLayer && pickedLayer.props.id;\n\n    if (pickedLayerId !== lastPickedLayerId || pickedObjectIndex !== lastPickedObjectIndex) {\n      if (pickedLayerId !== lastPickedLayerId) {\n        var lastPickedLayer = layers.find(function (layer) {\n          return layer.props.id === lastPickedLayerId;\n        });\n\n        if (lastPickedLayer) {\n          affectedLayers.unshift(lastPickedLayer);\n        }\n      }\n\n      lastPickedInfo.layerId = pickedLayerId;\n      lastPickedInfo.index = pickedObjectIndex;\n      lastPickedInfo.info = null;\n    }\n  }\n\n  var viewport = getViewportFromCoordinates({\n    viewports: viewports\n  });\n  var coordinate = viewport && viewport.unproject([x, y], {\n    targetZ: z\n  });\n  var baseInfo = {\n    color: null,\n    layer: null,\n    index: -1,\n    picked: false,\n    x: x,\n    y: y,\n    pixel: [x, y],\n    coordinate: coordinate,\n    lngLat: coordinate,\n    devicePixel: [pickInfo.pickedX, pickInfo.pickedY],\n    pixelRatio: pixelRatio\n  };\n  var infos = new Map();\n  infos.set(null, baseInfo);\n  affectedLayers.forEach(function (layer) {\n    var info = Object.assign({}, baseInfo);\n\n    if (layer === pickedLayer) {\n      info.color = pickedColor;\n      info.index = pickedObjectIndex;\n      info.picked = true;\n    }\n\n    info = getLayerPickingInfo({\n      layer: layer,\n      info: info,\n      mode: mode\n    });\n\n    if (layer === pickedLayer && mode === 'hover') {\n      lastPickedInfo.info = info;\n    }\n\n    if (info) {\n      infos.set(info.layer.id, info);\n    }\n\n    if (mode === 'hover' && layer.props.autoHighlight) {\n      var pickingModuleParameters = {\n        pickingSelectedColor: pickedLayer === layer ? pickedColor : null\n      };\n      var highlightColor = layer.props.highlightColor;\n\n      if (pickedLayer === layer && typeof highlightColor === 'function') {\n        pickingModuleParameters.pickingHighlightColor = highlightColor(info);\n      }\n\n      layer.setModuleParameters(pickingModuleParameters);\n      layer.setNeedsRedraw();\n    }\n  });\n  return infos;\n}\nexport function getLayerPickingInfo(_ref2) {\n  var layer = _ref2.layer,\n      info = _ref2.info,\n      mode = _ref2.mode;\n\n  while (layer && info) {\n    var sourceLayer = info.layer || layer;\n    info.layer = layer;\n    info = layer.getPickingInfo({\n      info: info,\n      mode: mode,\n      sourceLayer: sourceLayer\n    });\n    layer = layer.parent;\n  }\n\n  return info;\n}\n\nfunction getViewportFromCoordinates(_ref3) {\n  var viewports = _ref3.viewports;\n  var viewport = viewports[0];\n  return viewport;\n}","import \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.find\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { Framebuffer, Texture2D, isWebGL2, readPixelsToArray, cssToDeviceRatio, cssToDevicePixels } from '@luma.gl/core';\nimport assert from '../utils/assert';\nimport log from '../utils/log';\nimport PickLayersPass from '../passes/pick-layers-pass';\nimport { getClosestObject, getUniqueObjects } from './picking/query-object';\nimport { processPickInfo, getLayerPickingInfo } from './picking/pick-info';\n\nvar DeckPicker = function () {\n  function DeckPicker(gl) {\n    _classCallCheck(this, DeckPicker);\n\n    this.gl = gl;\n    this.pickingFBO = null;\n    this.pickLayersPass = new PickLayersPass(gl);\n    this.layerFilter = null;\n    this.lastPickedInfo = {\n      index: -1,\n      layerId: null,\n      info: null\n    };\n    this._onError = null;\n  }\n\n  _createClass(DeckPicker, [{\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('layerFilter' in props) {\n        this.layerFilter = props.layerFilter;\n      }\n\n      if ('onError' in props) {\n        this._onError = props.onError;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      if (this.pickingFBO) {\n        this.pickingFBO[\"delete\"]();\n      }\n\n      if (this.depthFBO) {\n        this.depthFBO.color[\"delete\"]();\n        this.depthFBO[\"delete\"]();\n      }\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      return this._pickClosestObject(opts);\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this._pickVisibleObjects(opts);\n    }\n  }, {\n    key: \"getLastPickedObject\",\n    value: function getLastPickedObject(_ref) {\n      var x = _ref.x,\n          y = _ref.y,\n          layers = _ref.layers,\n          viewports = _ref.viewports;\n      var lastPickedInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.lastPickedInfo.info;\n      var lastPickedLayerId = lastPickedInfo && lastPickedInfo.layer && lastPickedInfo.layer.id;\n      var layer = lastPickedLayerId ? layers.find(function (l) {\n        return l.id === lastPickedLayerId;\n      }) : null;\n      var coordinate = viewports[0] && viewports[0].unproject([x, y]);\n      var info = {\n        x: x,\n        y: y,\n        coordinate: coordinate,\n        lngLat: coordinate,\n        layer: layer\n      };\n\n      if (layer) {\n        return Object.assign({}, lastPickedInfo, info);\n      }\n\n      return Object.assign(info, {\n        color: null,\n        object: null,\n        index: -1\n      });\n    }\n  }, {\n    key: \"_resizeBuffer\",\n    value: function _resizeBuffer() {\n      var gl = this.gl;\n\n      if (!this.pickingFBO) {\n        this.pickingFBO = new Framebuffer(gl);\n\n        if (Framebuffer.isSupported(gl, {\n          colorBufferFloat: true\n        })) {\n          this.depthFBO = new Framebuffer(gl);\n          this.depthFBO.attach(_defineProperty({}, 36064, new Texture2D(gl, {\n            format: isWebGL2(gl) ? 34836 : 6408,\n            type: 5126\n          })));\n        }\n      }\n\n      this.pickingFBO.resize({\n        width: gl.canvas.width,\n        height: gl.canvas.height\n      });\n\n      if (this.depthFBO) {\n        this.depthFBO.resize({\n          width: gl.canvas.width,\n          height: gl.canvas.height\n        });\n      }\n\n      return this.pickingFBO;\n    }\n  }, {\n    key: \"_getPickable\",\n    value: function _getPickable(layers) {\n      var pickableLayers = layers.filter(function (layer) {\n        return layer.isPickable() && !layer.isComposite;\n      });\n\n      if (pickableLayers.length > 255) {\n        log.warn('Too many pickable layers, only picking the first 255')();\n        return pickableLayers.slice(0, 255);\n      }\n\n      return pickableLayers;\n    }\n  }, {\n    key: \"_pickClosestObject\",\n    value: function _pickClosestObject(_ref2) {\n      var layers = _ref2.layers,\n          viewports = _ref2.viewports,\n          x = _ref2.x,\n          y = _ref2.y,\n          _ref2$radius = _ref2.radius,\n          radius = _ref2$radius === void 0 ? 0 : _ref2$radius,\n          _ref2$depth = _ref2.depth,\n          depth = _ref2$depth === void 0 ? 1 : _ref2$depth,\n          _ref2$mode = _ref2.mode,\n          mode = _ref2$mode === void 0 ? 'query' : _ref2$mode,\n          unproject3D = _ref2.unproject3D,\n          onViewportActive = _ref2.onViewportActive;\n      layers = this._getPickable(layers);\n\n      this._resizeBuffer();\n\n      var pixelRatio = cssToDeviceRatio(this.gl);\n      var devicePixelRange = cssToDevicePixels(this.gl, [x, y], true);\n      var devicePixel = [devicePixelRange.x + Math.floor(devicePixelRange.width / 2), devicePixelRange.y + Math.floor(devicePixelRange.height / 2)];\n      var deviceRadius = Math.round(radius * pixelRatio);\n      var _this$pickingFBO = this.pickingFBO,\n          width = _this$pickingFBO.width,\n          height = _this$pickingFBO.height;\n\n      var deviceRect = this._getPickingRect({\n        deviceX: devicePixel[0],\n        deviceY: devicePixel[1],\n        deviceRadius: deviceRadius,\n        deviceWidth: width,\n        deviceHeight: height\n      });\n\n      var infos;\n      var result = [];\n      var affectedLayers = {};\n\n      for (var i = 0; i < depth; i++) {\n        var pickedColors = deviceRect && this._drawAndSample({\n          layers: layers,\n          viewports: viewports,\n          onViewportActive: onViewportActive,\n          deviceRect: deviceRect,\n          pass: \"picking:\".concat(mode),\n          redrawReason: mode\n        });\n\n        var pickInfo = getClosestObject({\n          pickedColors: pickedColors,\n          layers: layers,\n          deviceX: devicePixel[0],\n          deviceY: devicePixel[1],\n          deviceRadius: deviceRadius,\n          deviceRect: deviceRect\n        });\n        var z = void 0;\n\n        if (pickInfo.pickedLayer && unproject3D && this.depthFBO) {\n          var zValues = this._drawAndSample({\n            layers: [pickInfo.pickedLayer],\n            viewports: viewports,\n            onViewportActive: onViewportActive,\n            deviceRect: {\n              x: pickInfo.pickedX,\n              y: pickInfo.pickedY,\n              width: 1,\n              height: 1\n            },\n            pass: \"picking:\".concat(mode),\n            redrawReason: 'pick-z',\n            pickZ: true\n          });\n\n          z = zValues[0] * viewports[0].distanceScales.metersPerUnit[2] + viewports[0].position[2];\n        }\n\n        if (pickInfo.pickedColor && i + 1 < depth) {\n          var layerId = pickInfo.pickedColor[3] - 1;\n          affectedLayers[layerId] = true;\n          layers[layerId].clearPickingColor(pickInfo.pickedColor);\n        }\n\n        infos = processPickInfo({\n          pickInfo: pickInfo,\n          lastPickedInfo: this.lastPickedInfo,\n          mode: mode,\n          layers: layers,\n          viewports: viewports,\n          x: x,\n          y: y,\n          z: z,\n          pixelRatio: pixelRatio\n        });\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = infos.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var info = _step.value;\n\n            if (info.layer) {\n              result.push(info);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (!pickInfo.pickedColor) {\n          break;\n        }\n      }\n\n      for (var _layerId in affectedLayers) {\n        layers[_layerId].restorePickingColors();\n      }\n\n      return {\n        result: result,\n        emptyInfo: infos && infos.get(null)\n      };\n    }\n  }, {\n    key: \"_pickVisibleObjects\",\n    value: function _pickVisibleObjects(_ref3) {\n      var layers = _ref3.layers,\n          viewports = _ref3.viewports,\n          x = _ref3.x,\n          y = _ref3.y,\n          _ref3$width = _ref3.width,\n          width = _ref3$width === void 0 ? 1 : _ref3$width,\n          _ref3$height = _ref3.height,\n          height = _ref3$height === void 0 ? 1 : _ref3$height,\n          _ref3$mode = _ref3.mode,\n          mode = _ref3$mode === void 0 ? 'query' : _ref3$mode,\n          onViewportActive = _ref3.onViewportActive;\n      layers = this._getPickable(layers);\n\n      this._resizeBuffer();\n\n      var pixelRatio = cssToDeviceRatio(this.gl);\n      var leftTop = cssToDevicePixels(this.gl, [x, y], true);\n      var deviceLeft = leftTop.x;\n      var deviceTop = leftTop.y + leftTop.height;\n      var rightBottom = cssToDevicePixels(this.gl, [x + width, y + height], true);\n      var deviceRight = rightBottom.x + rightBottom.width;\n      var deviceBottom = rightBottom.y;\n      var deviceRect = {\n        x: deviceLeft,\n        y: deviceBottom,\n        width: deviceRight - deviceLeft,\n        height: deviceTop - deviceBottom\n      };\n\n      var pickedColors = this._drawAndSample({\n        layers: layers,\n        viewports: viewports,\n        onViewportActive: onViewportActive,\n        deviceRect: deviceRect,\n        pass: \"picking:\".concat(mode),\n        redrawReason: mode\n      });\n\n      var pickInfos = getUniqueObjects({\n        pickedColors: pickedColors,\n        layers: layers\n      });\n      var uniqueInfos = new Map();\n      pickInfos.forEach(function (pickInfo) {\n        var info = {\n          color: pickInfo.pickedColor,\n          layer: null,\n          index: pickInfo.pickedObjectIndex,\n          picked: true,\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          pixelRatio: pixelRatio\n        };\n        info = getLayerPickingInfo({\n          layer: pickInfo.pickedLayer,\n          info: info,\n          mode: mode\n        });\n\n        if (!uniqueInfos.has(info.object)) {\n          uniqueInfos.set(info.object, info);\n        }\n      });\n      return Array.from(uniqueInfos.values());\n    }\n  }, {\n    key: \"_drawAndSample\",\n    value: function _drawAndSample(_ref4) {\n      var layers = _ref4.layers,\n          viewports = _ref4.viewports,\n          onViewportActive = _ref4.onViewportActive,\n          deviceRect = _ref4.deviceRect,\n          pass = _ref4.pass,\n          redrawReason = _ref4.redrawReason,\n          pickZ = _ref4.pickZ;\n      assert(deviceRect.width > 0 && deviceRect.height > 0);\n\n      if (layers.length < 1) {\n        return null;\n      }\n\n      var pickingFBO = pickZ ? this.depthFBO : this.pickingFBO;\n      this.pickLayersPass.render({\n        layers: layers,\n        layerFilter: this.layerFilter,\n        onError: this._onError,\n        viewports: viewports,\n        onViewportActive: onViewportActive,\n        pickingFBO: pickingFBO,\n        deviceRect: deviceRect,\n        pass: pass,\n        redrawReason: redrawReason,\n        pickZ: pickZ\n      });\n      var x = deviceRect.x,\n          y = deviceRect.y,\n          width = deviceRect.width,\n          height = deviceRect.height;\n      var pickedColors = new (pickZ ? Float32Array : Uint8Array)(width * height * 4);\n      readPixelsToArray(pickingFBO, {\n        sourceX: x,\n        sourceY: y,\n        sourceWidth: width,\n        sourceHeight: height,\n        target: pickedColors\n      });\n      return pickedColors;\n    }\n  }, {\n    key: \"_getPickingRect\",\n    value: function _getPickingRect(_ref5) {\n      var deviceX = _ref5.deviceX,\n          deviceY = _ref5.deviceY,\n          deviceRadius = _ref5.deviceRadius,\n          deviceWidth = _ref5.deviceWidth,\n          deviceHeight = _ref5.deviceHeight;\n      var x = Math.max(0, deviceX - deviceRadius);\n      var y = Math.max(0, deviceY - deviceRadius);\n      var width = Math.min(deviceWidth, deviceX + deviceRadius + 1) - x;\n      var height = Math.min(deviceHeight, deviceY + deviceRadius + 1) - y;\n\n      if (width <= 0 || height <= 0) {\n        return null;\n      }\n\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    }\n  }]);\n\n  return DeckPicker;\n}();\n\nexport { DeckPicker as default };","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar defaultStyle = {\n  zIndex: 1,\n  position: 'absolute',\n  pointerEvents: 'none',\n  color: '#a0a7b4',\n  backgroundColor: '#29323c',\n  padding: '10px',\n  top: 0,\n  left: 0,\n  display: 'none'\n};\n\nvar Tooltip = function () {\n  function Tooltip(canvas) {\n    _classCallCheck(this, Tooltip);\n\n    var canvasParent = canvas.parentElement;\n\n    if (canvasParent) {\n      this.el = document.createElement('div');\n      this.el.className = 'deck-tooltip';\n      Object.assign(this.el.style, defaultStyle);\n      canvasParent.appendChild(this.el);\n    }\n  }\n\n  _createClass(Tooltip, [{\n    key: \"setTooltip\",\n    value: function setTooltip(displayInfo, x, y) {\n      var el = this.el;\n\n      if (typeof displayInfo === 'string') {\n        el.innerText = displayInfo;\n      } else if (!displayInfo) {\n        el.style.display = 'none';\n        return;\n      } else {\n        if ('text' in displayInfo) {\n          el.innerText = displayInfo.text;\n        }\n\n        if ('html' in displayInfo) {\n          el.innerHTML = displayInfo.html;\n        }\n\n        if ('className' in displayInfo) {\n          el.className = displayInfo.className;\n        }\n\n        Object.assign(el.style, displayInfo.style);\n      }\n\n      el.style.display = 'block';\n      el.style.transform = \"translate(\".concat(x, \"px, \").concat(y, \"px)\");\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.el) {\n        this.el.remove();\n      }\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexport { Tooltip as default };","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}","import { global, isBrowser } from '../utils/globals';\nvar _parseImageNode = global._parseImageNode;\nvar IMAGE_SUPPORTED = typeof Image !== 'undefined';\nvar IMAGE_BITMAP_SUPPORTED = typeof ImageBitmap !== 'undefined';\nvar NODE_IMAGE_SUPPORTED = Boolean(_parseImageNode);\nvar DATA_SUPPORTED = isBrowser ? true : NODE_IMAGE_SUPPORTED;\nexport function isImageTypeSupported(type) {\n  switch (type) {\n    case 'auto':\n      return IMAGE_BITMAP_SUPPORTED || IMAGE_SUPPORTED || DATA_SUPPORTED;\n\n    case 'imagebitmap':\n      return IMAGE_BITMAP_SUPPORTED;\n\n    case 'image':\n      return IMAGE_SUPPORTED;\n\n    case 'data':\n      return DATA_SUPPORTED;\n\n    case 'html':\n      return IMAGE_SUPPORTED;\n\n    case 'ndarray':\n      return DATA_SUPPORTED;\n\n    default:\n      throw new Error(\"@loaders.gl/images: image \".concat(type, \" not supported in this environment\"));\n  }\n}\nexport function getDefaultImageType() {\n  if (IMAGE_BITMAP_SUPPORTED) {\n    return 'imagebitmap';\n  }\n\n  if (IMAGE_SUPPORTED) {\n    return 'image';\n  }\n\n  if (DATA_SUPPORTED) {\n    return 'data';\n  }\n\n  throw new Error(\"Install '@loaders.gl/polyfills' to parse images under Node.js\");\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assert from '../utils/assert';\nexport function isImage(image) {\n  return Boolean(getImageTypeOrNull(image));\n}\nexport function deleteImage(image) {\n  switch (getImageType(image)) {\n    case 'imagebitmap':\n      image.close();\n      break;\n\n    default:\n  }\n}\nexport function getImageType(image) {\n  var format = getImageTypeOrNull(image);\n\n  if (!format) {\n    throw new Error('Not an image');\n  }\n\n  return format;\n}\nexport function getImageData(image) {\n  switch (getImageType(image)) {\n    case 'data':\n      return image;\n\n    case 'image':\n    case 'imagebitmap':\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0);\n      var imageData = context.getImageData(0, 0, image.width, image.height);\n      return imageData;\n\n    default:\n      return assert(false);\n  }\n}\nexport { getImageData as getImageSize };\n\nfunction getImageTypeOrNull(image) {\n  if (typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n    return 'imagebitmap';\n  }\n\n  if (typeof Image !== 'undefined' && image instanceof Image) {\n    return 'image';\n  }\n\n  if (image && _typeof(image) === 'object' && image.data && image.width && image.height) {\n    return 'data';\n  }\n\n  return null;\n}","import \"core-js/modules/es6.typed.uint8-array\";\nvar SVG_DATA_URL_PATTERN = /^data:image\\/svg\\+xml/;\nvar SVG_URL_PATTERN = /\\.svg((\\?|#).*)?$/;\nexport function isSVG(url) {\n  return url && (SVG_DATA_URL_PATTERN.test(url) || SVG_URL_PATTERN.test(url));\n}\nexport function getBlobOrSVGDataUrl(arrayBuffer, url) {\n  if (isSVG(url)) {\n    var textDecoder = new TextDecoder();\n    var xmlText = textDecoder.decode(arrayBuffer);\n    var src = \"data:image/svg+xml;base64,\".concat(btoa(xmlText));\n    return src;\n  }\n\n  return getBlob(arrayBuffer, url);\n}\nexport function getBlob(arrayBuffer, url) {\n  if (isSVG(url)) {\n    throw new Error('SVG cannot be parsed directly to imagebitmap');\n  }\n\n  return new Blob([new Uint8Array(arrayBuffer)]);\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { getBlobOrSVGDataUrl } from './svg-utils';\nexport default function parseToImage(_x, _x2, _x3) {\n  return _parseToImage.apply(this, arguments);\n}\n\nfunction _parseToImage() {\n  _parseToImage = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(arrayBuffer, options, url) {\n    var blobOrDataUrl, URL, objectUrl;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            blobOrDataUrl = getBlobOrSVGDataUrl(arrayBuffer, url);\n            URL = self.URL || self.webkitURL;\n            objectUrl = typeof blobOrDataUrl !== 'string' && URL.createObjectURL(blobOrDataUrl);\n            _context.prev = 3;\n            _context.next = 6;\n            return loadToImage(objectUrl || blobOrDataUrl, options);\n\n          case 6:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 7:\n            _context.prev = 7;\n\n            if (objectUrl) {\n              URL.revokeObjectURL(objectUrl);\n            }\n\n            return _context.finish(7);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3,, 7, 10]]);\n  }));\n  return _parseToImage.apply(this, arguments);\n}\n\nexport function loadToImage(_x4, _x5) {\n  return _loadToImage.apply(this, arguments);\n}\n\nfunction _loadToImage() {\n  _loadToImage = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(url, options) {\n    var image;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            image = new Image();\n            image.src = url;\n\n            if (!(options.image && options.image.decode && image.decode)) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 5;\n            return image.decode();\n\n          case 5:\n            return _context2.abrupt(\"return\", image);\n\n          case 6:\n            _context2.next = 8;\n            return new Promise(function (resolve, reject) {\n              try {\n                image.onload = function () {\n                  return resolve(image);\n                };\n\n                image.onerror = function (err) {\n                  return reject(new Error(\"Could not load image \".concat(url, \": \").concat(err)));\n                };\n              } catch (error) {\n                reject(error);\n              }\n            });\n\n          case 8:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadToImage.apply(this, arguments);\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { isSVG, getBlob } from './svg-utils';\nimport parseToImage from './parse-to-image';\nvar EMPTY_OBJECT = {};\nvar imagebitmapOptionsSupported = true;\nexport default function parseToImageBitmap(_x, _x2, _x3) {\n  return _parseToImageBitmap.apply(this, arguments);\n}\n\nfunction _parseToImageBitmap() {\n  _parseToImageBitmap = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(arrayBuffer, options, url) {\n    var blob, image, imagebitmapOptions;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!isSVG(url)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return parseToImage(arrayBuffer, options, url);\n\n          case 3:\n            image = _context.sent;\n            blob = image;\n            _context.next = 8;\n            break;\n\n          case 7:\n            blob = getBlob(arrayBuffer, url);\n\n          case 8:\n            imagebitmapOptions = options && options.imagebitmap;\n            _context.next = 11;\n            return safeCreateImageBitmap(blob, imagebitmapOptions);\n\n          case 11:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseToImageBitmap.apply(this, arguments);\n}\n\nfunction safeCreateImageBitmap(_x4) {\n  return _safeCreateImageBitmap.apply(this, arguments);\n}\n\nfunction _safeCreateImageBitmap() {\n  _safeCreateImageBitmap = _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(blob) {\n    var imagebitmapOptions,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            imagebitmapOptions = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : null;\n\n            if (isEmptyObject(imagebitmapOptions) || !imagebitmapOptionsSupported) {\n              imagebitmapOptions = null;\n            }\n\n            if (!imagebitmapOptions) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.prev = 3;\n            _context2.next = 6;\n            return createImageBitmap(blob, imagebitmapOptions);\n\n          case 6:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](3);\n            console.warn(_context2.t0);\n            imagebitmapOptionsSupported = false;\n\n          case 13:\n            _context2.next = 15;\n            return createImageBitmap(blob);\n\n          case 15:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[3, 9]]);\n  }));\n  return _safeCreateImageBitmap.apply(this, arguments);\n}\n\nfunction isEmptyObject(object) {\n  for (var key in object || EMPTY_OBJECT) {\n    return true;\n  }\n\n  return false;\n}","import \"core-js/modules/es6.typed.data-view\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nvar BIG_ENDIAN = false;\nvar LITTLE_ENDIAN = true;\nexport function getBinaryImageMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  return getPngMetadata(dataView) || getJpegMetadata(dataView) || getGifMetadata(dataView) || getBmpMetadata(dataView);\n}\n\nfunction getPngMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isPng = dataView.byteLength >= 24 && dataView.getUint32(0, BIG_ENDIAN) === 0x89504e47;\n\n  if (!isPng) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/png',\n    width: dataView.getUint32(16, BIG_ENDIAN),\n    height: dataView.getUint32(20, BIG_ENDIAN)\n  };\n}\n\nfunction getGifMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isGif = dataView.byteLength >= 10 && dataView.getUint32(0, BIG_ENDIAN) === 0x47494638;\n\n  if (!isGif) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/gif',\n    width: dataView.getUint16(6, LITTLE_ENDIAN),\n    height: dataView.getUint16(8, LITTLE_ENDIAN)\n  };\n}\n\nexport function getBmpMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isBmp = dataView.byteLength >= 14 && dataView.getUint16(0, BIG_ENDIAN) === 0x424d && dataView.getUint32(2, LITTLE_ENDIAN) === dataView.byteLength;\n\n  if (!isBmp) {\n    return null;\n  }\n\n  return {\n    mimeType: 'image/bmp',\n    width: dataView.getUint32(18, LITTLE_ENDIAN),\n    height: dataView.getUint32(22, LITTLE_ENDIAN)\n  };\n}\n\nfunction getJpegMetadata(binaryData) {\n  var dataView = toDataView(binaryData);\n  var isJpeg = dataView.byteLength >= 3 && dataView.getUint16(0, BIG_ENDIAN) === 0xffd8 && dataView.getUint8(2) === 0xff;\n\n  if (!isJpeg) {\n    return null;\n  }\n\n  var _getJpegMarkers = getJpegMarkers(),\n      tableMarkers = _getJpegMarkers.tableMarkers,\n      sofMarkers = _getJpegMarkers.sofMarkers;\n\n  var i = 2;\n\n  while (i + 9 < dataView.byteLength) {\n    var marker = dataView.getUint16(i, BIG_ENDIAN);\n\n    if (sofMarkers.has(marker)) {\n      return {\n        mimeType: 'image/jpeg',\n        height: dataView.getUint16(i + 5, BIG_ENDIAN),\n        width: dataView.getUint16(i + 7, BIG_ENDIAN)\n      };\n    }\n\n    if (!tableMarkers.has(marker)) {\n      return null;\n    }\n\n    i += 2;\n    i += dataView.getUint16(i, BIG_ENDIAN);\n  }\n\n  return null;\n}\n\nfunction getJpegMarkers() {\n  var tableMarkers = new Set([0xffdb, 0xffc4, 0xffcc, 0xffdd, 0xfffe]);\n\n  for (var i = 0xffe0; i < 0xfff0; ++i) {\n    tableMarkers.add(i);\n  }\n\n  var sofMarkers = new Set([0xffc0, 0xffc1, 0xffc2, 0xffc3, 0xffc5, 0xffc6, 0xffc7, 0xffc9, 0xffca, 0xffcb, 0xffcd, 0xffce, 0xffcf, 0xffde]);\n  return {\n    tableMarkers: tableMarkers,\n    sofMarkers: sofMarkers\n  };\n}\n\nfunction toDataView(data) {\n  if (data instanceof DataView) {\n    return data;\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new DataView(data.buffer);\n  }\n\n  if (data instanceof ArrayBuffer) {\n    return new DataView(data);\n  }\n\n  throw new Error('toDataView');\n}","import { global } from '../utils/globals';\nimport assert from '../utils/assert';\nimport { getBinaryImageMetadata } from '../category-api/binary-image-api';\nexport default function parseToNodeImage(arrayBuffer, options) {\n  var _ref = getBinaryImageMetadata(arrayBuffer) || {},\n      mimeType = _ref.mimeType;\n\n  var _parseImageNode = global._parseImageNode;\n  assert(_parseImageNode);\n  return _parseImageNode(arrayBuffer, mimeType, options);\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport assert from '../utils/assert';\nimport { isImageTypeSupported, getDefaultImageType } from '../category-api/image-type';\nimport { getImageData } from '../category-api/parsed-image-api';\nimport parseToImage from './parse-to-image';\nimport parseToImageBitmap from './parse-to-image-bitmap';\nimport parseToNodeImage from './parse-to-node-image';\nexport default function parseImage(_x, _x2, _x3) {\n  return _parseImage.apply(this, arguments);\n}\n\nfunction _parseImage() {\n  _parseImage = _asyncToGenerator(_regeneratorRuntime.mark(function _callee(arrayBuffer, options, context) {\n    var imageOptions, imageType, _ref, url, loadType, image;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = options || {};\n            imageOptions = options.image || {};\n            imageType = imageOptions.type || 'auto';\n            _ref = context || {}, url = _ref.url;\n            loadType = getLoadableImageType(imageType);\n            _context.t0 = loadType;\n            _context.next = _context.t0 === 'imagebitmap' ? 8 : _context.t0 === 'image' ? 12 : _context.t0 === 'data' ? 16 : 20;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return parseToImageBitmap(arrayBuffer, options, url);\n\n          case 10:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 12:\n            _context.next = 14;\n            return parseToImage(arrayBuffer, options, url);\n\n          case 14:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 16:\n            _context.next = 18;\n            return parseToNodeImage(arrayBuffer, options);\n\n          case 18:\n            image = _context.sent;\n            return _context.abrupt(\"break\", 21);\n\n          case 20:\n            assert(false);\n\n          case 21:\n            if (imageType === 'data') {\n              image = getImageData(image);\n            }\n\n            return _context.abrupt(\"return\", image);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _parseImage.apply(this, arguments);\n}\n\nfunction getLoadableImageType(type) {\n  switch (type) {\n    case 'auto':\n    case 'data':\n      return getDefaultImageType();\n\n    default:\n      isImageTypeSupported(type);\n      return type;\n  }\n}","import \"core-js/modules/es6.typed.data-view\";\nimport parseImage from './lib/parsers/parse-image';\nimport { getBinaryImageMetadata } from './lib/category-api/binary-image-api';\nvar VERSION = typeof \"2.2.2\" !== 'undefined' ? \"2.2.2\" : 'latest';\nvar EXTENSIONS = ['png', 'jpg', 'jpeg', 'gif', 'webp', 'bmp', 'ico', 'svg'];\nvar MIME_TYPES = ['image/png', 'image/jpeg', 'image/gif', 'image/webp', 'image/bmp', 'image/vndmicrosofticon', 'image/svg+xml'];\nvar ImageLoader = {\n  id: 'image',\n  name: 'Images',\n  version: VERSION,\n  mimeTypes: MIME_TYPES,\n  extensions: EXTENSIONS,\n  parse: parseImage,\n  test: function test(arrayBuffer) {\n    return Boolean(getBinaryImageMetadata(new DataView(arrayBuffer)));\n  },\n  options: {\n    image: {\n      type: 'auto',\n      decode: true\n    }\n  }\n};\nexport default ImageLoader;","function isJSON(text) {\n  var firstChar = text[0];\n  var lastChar = text[text.length - 1];\n  return firstChar === '{' && lastChar === '}' || firstChar === '[' && lastChar === ']';\n}\n\nexport default {\n  name: 'JSON',\n  extensions: ['json', 'geojson'],\n  testText: isJSON,\n  parseTextSync: JSON.parse\n};","import \"core-js/modules/es6.object.assign\";\nimport { registerLoaders } from '@loaders.gl/core';\nimport { ImageLoader } from '@loaders.gl/images';\nimport { global } from 'probe.gl/env';\nimport log from '../utils/log';\nimport { register } from '../debug';\nimport jsonLoader from '../utils/json-loader';\nvar version = typeof \"8.1.12\" !== 'undefined' ? \"8.1.12\" : global.DECK_VERSION || 'untranspiled source';\nvar existingVersion = global.deck && global.deck.VERSION;\n\nif (existingVersion && existingVersion !== version) {\n  throw new Error(\"deck.gl - multiple versions detected: \".concat(existingVersion, \" vs \").concat(version));\n}\n\nif (!existingVersion) {\n  if (process.env.NODE_ENV !== 'production') {\n    log.log(0, \"deck.gl \".concat(version, \" - set deck.log.level=1 (or higher) to trace attribute updates\"))();\n  }\n\n  global.deck = Object.assign(global.deck || {}, {\n    VERSION: version,\n    version: version,\n    log: log,\n    _registerLoggers: register\n  });\n  registerLoaders([jsonLoader, ImageLoader]);\n}\n\nexport default global.deck;","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.seal\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Resource from './resource';\nimport { FEATURES, hasFeatures } from '../features';\nimport { isWebGL2 } from '@luma.gl/gltools';\nimport { assert } from '../utils';\nvar GL_QUERY_RESULT = 0x8866;\nvar GL_QUERY_RESULT_AVAILABLE = 0x8867;\nvar GL_TIME_ELAPSED_EXT = 0x88bf;\nvar GL_GPU_DISJOINT_EXT = 0x8fbb;\nvar GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN = 0x8c88;\nvar GL_ANY_SAMPLES_PASSED = 0x8c2f;\nvar GL_ANY_SAMPLES_PASSED_CONSERVATIVE = 0x8d6a;\n\nvar Query = function (_Resource) {\n  _inherits(Query, _Resource);\n\n  _createClass(Query, null, [{\n    key: \"isSupported\",\n    value: function isSupported(gl) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var webgl2 = isWebGL2(gl);\n      var hasTimerQuery = hasFeatures(gl, FEATURES.TIMER_QUERY);\n      var supported = webgl2 || hasTimerQuery;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = opts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var key = _step.value;\n\n          switch (key) {\n            case 'queries':\n              supported = supported && webgl2;\n              break;\n\n            case 'timers':\n              supported = supported && hasTimerQuery;\n              break;\n\n            default:\n              assert(false);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return supported;\n    }\n  }]);\n\n  function Query(gl) {\n    var _this;\n\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Query);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Query).call(this, gl, opts));\n    _this.target = null;\n    _this._queryPending = false;\n    _this._pollingPromise = null;\n    Object.seal(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Query, [{\n    key: \"beginTimeElapsedQuery\",\n    value: function beginTimeElapsedQuery() {\n      return this.begin(GL_TIME_ELAPSED_EXT);\n    }\n  }, {\n    key: \"beginOcclusionQuery\",\n    value: function beginOcclusionQuery() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$conservative = _ref.conservative,\n          conservative = _ref$conservative === void 0 ? false : _ref$conservative;\n\n      return this.begin(conservative ? GL_ANY_SAMPLES_PASSED_CONSERVATIVE : GL_ANY_SAMPLES_PASSED);\n    }\n  }, {\n    key: \"beginTransformFeedbackQuery\",\n    value: function beginTransformFeedbackQuery() {\n      return this.begin(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN);\n    }\n  }, {\n    key: \"begin\",\n    value: function begin(target) {\n      if (this._queryPending) {\n        return this;\n      }\n\n      this.target = target;\n      this.gl.beginQuery(this.target, this.handle);\n      return this;\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      if (this._queryPending) {\n        return this;\n      }\n\n      if (this.target) {\n        this.gl.endQuery(this.target);\n        this.target = null;\n        this._queryPending = true;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"isResultAvailable\",\n    value: function isResultAvailable() {\n      if (!this._queryPending) {\n        return false;\n      }\n\n      var resultAvailable = this.gl.getQueryParameter(this.handle, GL_QUERY_RESULT_AVAILABLE);\n\n      if (resultAvailable) {\n        this._queryPending = false;\n      }\n\n      return resultAvailable;\n    }\n  }, {\n    key: \"isTimerDisjoint\",\n    value: function isTimerDisjoint() {\n      return this.gl.getParameter(GL_GPU_DISJOINT_EXT);\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult() {\n      return this.gl.getQueryParameter(this.handle, GL_QUERY_RESULT);\n    }\n  }, {\n    key: \"getTimerMilliseconds\",\n    value: function getTimerMilliseconds() {\n      return this.getResult() / 1e6;\n    }\n  }, {\n    key: \"createPoll\",\n    value: function createPoll() {\n      var _this2 = this;\n\n      var limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Number.POSITIVE_INFINITY;\n\n      if (this._pollingPromise) {\n        return this._pollingPromise;\n      }\n\n      var counter = 0;\n      this._pollingPromise = new Promise(function (resolve, reject) {\n        var poll = function poll() {\n          if (_this2.isResultAvailable()) {\n            resolve(_this2.getResult());\n            _this2._pollingPromise = null;\n          } else if (counter++ > limit) {\n            reject('Timed out');\n            _this2._pollingPromise = null;\n          } else {\n            requestAnimationFrame(poll);\n          }\n        };\n\n        requestAnimationFrame(poll);\n      });\n      return this._pollingPromise;\n    }\n  }, {\n    key: \"_createHandle\",\n    value: function _createHandle() {\n      return Query.isSupported(this.gl) ? this.gl.createQuery() : null;\n    }\n  }, {\n    key: \"_deleteHandle\",\n    value: function _deleteHandle() {\n      this.gl.deleteQuery(this.handle);\n    }\n  }]);\n\n  return Query;\n}(Resource);\n\nexport { Query as default };","export function requestAnimationFrame(callback) {\n  return typeof window !== 'undefined' && window.requestAnimationFrame ? window.requestAnimationFrame(callback) : setTimeout(callback, 1000 / 60);\n}\nexport function cancelAnimationFrame(timerId) {\n  return typeof window !== 'undefined' && window.cancelAnimationFrame ? window.cancelAnimationFrame(timerId) : clearTimeout(timerId);\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.function.bind\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { isWebGL, createGLContext, instrumentGLContext, resizeGLContext, resetParameters } from '@luma.gl/gltools';\nimport { requestAnimationFrame, cancelAnimationFrame, Query, lumaStats, Framebuffer, log, assert } from '@luma.gl/webgl';\nimport { isBrowser } from 'probe.gl/env';\nvar isPage = isBrowser() && typeof document !== 'undefined';\nvar statIdCounter = 0;\n\nvar AnimationLoop = function () {\n  function AnimationLoop() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, AnimationLoop);\n\n    var _props$onCreateContex = props.onCreateContext,\n        onCreateContext = _props$onCreateContex === void 0 ? function (opts) {\n      return createGLContext(opts);\n    } : _props$onCreateContex,\n        _props$onAddHTML = props.onAddHTML,\n        onAddHTML = _props$onAddHTML === void 0 ? null : _props$onAddHTML,\n        _props$onInitialize = props.onInitialize,\n        onInitialize = _props$onInitialize === void 0 ? function () {} : _props$onInitialize,\n        _props$onRender = props.onRender,\n        onRender = _props$onRender === void 0 ? function () {} : _props$onRender,\n        _props$onFinalize = props.onFinalize,\n        onFinalize = _props$onFinalize === void 0 ? function () {} : _props$onFinalize,\n        onError = props.onError,\n        _props$gl = props.gl,\n        gl = _props$gl === void 0 ? null : _props$gl,\n        _props$glOptions = props.glOptions,\n        glOptions = _props$glOptions === void 0 ? {} : _props$glOptions,\n        _props$debug = props.debug,\n        debug = _props$debug === void 0 ? false : _props$debug,\n        _props$createFramebuf = props.createFramebuffer,\n        createFramebuffer = _props$createFramebuf === void 0 ? false : _props$createFramebuf,\n        _props$autoResizeView = props.autoResizeViewport,\n        autoResizeViewport = _props$autoResizeView === void 0 ? true : _props$autoResizeView,\n        _props$autoResizeDraw = props.autoResizeDrawingBuffer,\n        autoResizeDrawingBuffer = _props$autoResizeDraw === void 0 ? true : _props$autoResizeDraw,\n        _props$stats = props.stats,\n        stats = _props$stats === void 0 ? lumaStats.get(\"animation-loop-\".concat(statIdCounter++)) : _props$stats;\n    var _props$useDevicePixel = props.useDevicePixels,\n        useDevicePixels = _props$useDevicePixel === void 0 ? true : _props$useDevicePixel;\n\n    if ('useDevicePixelRatio' in props) {\n      log.deprecated('useDevicePixelRatio', 'useDevicePixels')();\n      useDevicePixels = props.useDevicePixelRatio;\n    }\n\n    this.props = {\n      onCreateContext: onCreateContext,\n      onAddHTML: onAddHTML,\n      onInitialize: onInitialize,\n      onRender: onRender,\n      onFinalize: onFinalize,\n      onError: onError,\n      gl: gl,\n      glOptions: glOptions,\n      debug: debug,\n      createFramebuffer: createFramebuffer\n    };\n    this.gl = gl;\n    this.needsRedraw = null;\n    this.timeline = null;\n    this.stats = stats;\n    this.cpuTime = this.stats.get('CPU Time');\n    this.gpuTime = this.stats.get('GPU Time');\n    this.frameRate = this.stats.get('Frame Rate');\n    this._initialized = false;\n    this._running = false;\n    this._animationFrameId = null;\n    this._nextFramePromise = null;\n    this._resolveNextFrame = null;\n    this._cpuStartTime = 0;\n    this.setProps({\n      autoResizeViewport: autoResizeViewport,\n      autoResizeDrawingBuffer: autoResizeDrawingBuffer,\n      useDevicePixels: useDevicePixels\n    });\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this._pageLoadPromise = null;\n    this._onMousemove = this._onMousemove.bind(this);\n    this._onMouseleave = this._onMouseleave.bind(this);\n  }\n\n  _createClass(AnimationLoop, [{\n    key: \"delete\",\n    value: function _delete() {\n      this.stop();\n\n      this._setDisplay(null);\n    }\n  }, {\n    key: \"setNeedsRedraw\",\n    value: function setNeedsRedraw(reason) {\n      assert(typeof reason === 'string');\n      this.needsRedraw = this.needsRedraw || reason;\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      if ('autoResizeViewport' in props) {\n        this.autoResizeViewport = props.autoResizeViewport;\n      }\n\n      if ('autoResizeDrawingBuffer' in props) {\n        this.autoResizeDrawingBuffer = props.autoResizeDrawingBuffer;\n      }\n\n      if ('useDevicePixels' in props) {\n        this.useDevicePixels = props.useDevicePixels;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._running) {\n        return this;\n      }\n\n      this._running = true;\n\n      var startPromise = this._getPageLoadPromise().then(function () {\n        if (!_this._running || _this._initialized) {\n          return null;\n        }\n\n        _this._createWebGLContext(opts);\n\n        _this._createFramebuffer();\n\n        _this._startEventHandling();\n\n        _this._initializeCallbackData();\n\n        _this._updateCallbackData();\n\n        _this._resizeCanvasDrawingBuffer();\n\n        _this._resizeViewport();\n\n        _this._gpuTimeQuery = Query.isSupported(_this.gl, ['timers']) ? new Query(_this.gl) : null;\n        _this._initialized = true;\n        return _this.onInitialize(_this.animationProps);\n      }).then(function (appContext) {\n        if (_this._running) {\n          _this._addCallbackData(appContext || {});\n\n          if (appContext !== false) {\n            _this._startLoop();\n          }\n        }\n      });\n\n      if (this.props.onError) {\n        startPromise[\"catch\"](this.props.onError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      this._beginTimers();\n\n      this._setupFrame();\n\n      this._updateCallbackData();\n\n      this._renderFrame(this.animationProps);\n\n      this._clearNeedsRedraw();\n\n      if (this.offScreen && this.gl.commit) {\n        this.gl.commit();\n      }\n\n      if (this._resolveNextFrame) {\n        this._resolveNextFrame(this);\n\n        this._nextFramePromise = null;\n        this._resolveNextFrame = null;\n      }\n\n      this._endTimers();\n\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      if (this._running) {\n        this._finalizeCallbackData();\n\n        cancelAnimationFrame(this._animationFrameId);\n        this._nextFramePromise = null;\n        this._resolveNextFrame = null;\n        this._animationFrameId = null;\n        this._running = false;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"attachTimeline\",\n    value: function attachTimeline(timeline) {\n      this.timeline = timeline;\n      return this.timeline;\n    }\n  }, {\n    key: \"detachTimeline\",\n    value: function detachTimeline() {\n      this.timeline = null;\n    }\n  }, {\n    key: \"waitForRender\",\n    value: function waitForRender() {\n      var _this2 = this;\n\n      this.setNeedsRedraw('waitForRender');\n\n      if (!this._nextFramePromise) {\n        this._nextFramePromise = new Promise(function (resolve) {\n          _this2._resolveNextFrame = resolve;\n        });\n      }\n\n      return this._nextFramePromise;\n    }\n  }, {\n    key: \"toDataURL\",\n    value: function () {\n      var _toDataURL = _asyncToGenerator(_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setNeedsRedraw('toDataURL');\n                _context.next = 3;\n                return this.waitForRender();\n\n              case 3:\n                return _context.abrupt(\"return\", this.gl.canvas.toDataURL());\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toDataURL() {\n        return _toDataURL.apply(this, arguments);\n      }\n\n      return toDataURL;\n    }()\n  }, {\n    key: \"onCreateContext\",\n    value: function onCreateContext() {\n      var _this$props;\n\n      return (_this$props = this.props).onCreateContext.apply(_this$props, arguments);\n    }\n  }, {\n    key: \"onInitialize\",\n    value: function onInitialize() {\n      var _this$props2;\n\n      return (_this$props2 = this.props).onInitialize.apply(_this$props2, arguments);\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender() {\n      var _this$props3;\n\n      return (_this$props3 = this.props).onRender.apply(_this$props3, arguments);\n    }\n  }, {\n    key: \"onFinalize\",\n    value: function onFinalize() {\n      var _this$props4;\n\n      return (_this$props4 = this.props).onFinalize.apply(_this$props4, arguments);\n    }\n  }, {\n    key: \"getHTMLControlValue\",\n    value: function getHTMLControlValue(id) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var element = document.getElementById(id);\n      return element ? Number(element.value) : defaultValue;\n    }\n  }, {\n    key: \"setViewParameters\",\n    value: function setViewParameters() {\n      log.removed('AnimationLoop.setViewParameters', 'AnimationLoop.setProps')();\n      return this;\n    }\n  }, {\n    key: \"_startLoop\",\n    value: function _startLoop() {\n      var _this3 = this;\n\n      var renderFrame = function renderFrame() {\n        if (!_this3._running) {\n          return;\n        }\n\n        _this3.redraw();\n\n        _this3._animationFrameId = _this3._requestAnimationFrame(renderFrame);\n      };\n\n      cancelAnimationFrame(this._animationFrameId);\n      this._animationFrameId = this._requestAnimationFrame(renderFrame);\n    }\n  }, {\n    key: \"_getPageLoadPromise\",\n    value: function _getPageLoadPromise() {\n      if (!this._pageLoadPromise) {\n        this._pageLoadPromise = isPage ? new Promise(function (resolve, reject) {\n          if (isPage && document.readyState === 'complete') {\n            resolve(document);\n            return;\n          }\n\n          window.addEventListener('load', function () {\n            resolve(document);\n          });\n        }) : Promise.resolve({});\n      }\n\n      return this._pageLoadPromise;\n    }\n  }, {\n    key: \"_setDisplay\",\n    value: function _setDisplay(display) {\n      if (this.display) {\n        this.display[\"delete\"]();\n        this.display.animationLoop = null;\n      }\n\n      if (display) {\n        display.animationLoop = this;\n      }\n\n      this.display = display;\n    }\n  }, {\n    key: \"_requestAnimationFrame\",\n    value: function _requestAnimationFrame(renderFrameCallback) {\n      if (this.display && this.display.requestAnimationFrame(renderFrameCallback)) {\n        return;\n      }\n\n      requestAnimationFrame(renderFrameCallback);\n    }\n  }, {\n    key: \"_renderFrame\",\n    value: function _renderFrame() {\n      if (this.display) {\n        var _this$display;\n\n        (_this$display = this.display)._renderFrame.apply(_this$display, arguments);\n\n        return;\n      }\n\n      this.onRender.apply(this, arguments);\n    }\n  }, {\n    key: \"_clearNeedsRedraw\",\n    value: function _clearNeedsRedraw() {\n      this.needsRedraw = null;\n    }\n  }, {\n    key: \"_setupFrame\",\n    value: function _setupFrame() {\n      if (this._onSetupFrame) {\n        this._onSetupFrame(this.animationProps);\n      } else {\n        this._resizeCanvasDrawingBuffer();\n\n        this._resizeViewport();\n\n        this._resizeFramebuffer();\n      }\n    }\n  }, {\n    key: \"_initializeCallbackData\",\n    value: function _initializeCallbackData() {\n      this.animationProps = {\n        gl: this.gl,\n        stop: this.stop,\n        canvas: this.gl.canvas,\n        framebuffer: this.framebuffer,\n        useDevicePixels: this.useDevicePixels,\n        needsRedraw: null,\n        startTime: Date.now(),\n        engineTime: 0,\n        tick: 0,\n        tock: 0,\n        time: 0,\n        _timeline: this.timeline,\n        _loop: this,\n        _animationLoop: this,\n        _mousePosition: null\n      };\n    }\n  }, {\n    key: \"_updateCallbackData\",\n    value: function _updateCallbackData() {\n      var _this$_getSizeAndAspe = this._getSizeAndAspect(),\n          width = _this$_getSizeAndAspe.width,\n          height = _this$_getSizeAndAspe.height,\n          aspect = _this$_getSizeAndAspe.aspect;\n\n      if (width !== this.animationProps.width || height !== this.animationProps.height) {\n        this.setNeedsRedraw('drawing buffer resized');\n      }\n\n      if (aspect !== this.animationProps.aspect) {\n        this.setNeedsRedraw('drawing buffer aspect changed');\n      }\n\n      this.animationProps.width = width;\n      this.animationProps.height = height;\n      this.animationProps.aspect = aspect;\n      this.animationProps.needsRedraw = this.needsRedraw;\n      this.animationProps.engineTime = Date.now() - this.animationProps.startTime;\n\n      if (this.timeline) {\n        this.timeline.update(this.animationProps.engineTime);\n      }\n\n      this.animationProps.tick = Math.floor(this.animationProps.time / 1000 * 60);\n      this.animationProps.tock++;\n      this.animationProps.time = this.timeline ? this.timeline.getTime() : this.animationProps.engineTime;\n      this.animationProps._offScreen = this.offScreen;\n    }\n  }, {\n    key: \"_finalizeCallbackData\",\n    value: function _finalizeCallbackData() {\n      this.onFinalize(this.animationProps);\n    }\n  }, {\n    key: \"_addCallbackData\",\n    value: function _addCallbackData(appContext) {\n      if (_typeof(appContext) === 'object' && appContext !== null) {\n        this.animationProps = Object.assign({}, this.animationProps, appContext);\n      }\n    }\n  }, {\n    key: \"_createWebGLContext\",\n    value: function _createWebGLContext(opts) {\n      this.offScreen = opts.canvas && typeof OffscreenCanvas !== 'undefined' && opts.canvas instanceof OffscreenCanvas;\n      opts = Object.assign({}, opts, this.props.glOptions);\n      this.gl = this.props.gl ? instrumentGLContext(this.props.gl, opts) : this.onCreateContext(opts);\n\n      if (!isWebGL(this.gl)) {\n        throw new Error('AnimationLoop.onCreateContext - illegal context returned');\n      }\n\n      resetParameters(this.gl);\n\n      this._createInfoDiv();\n    }\n  }, {\n    key: \"_createInfoDiv\",\n    value: function _createInfoDiv() {\n      if (this.gl.canvas && this.props.onAddHTML) {\n        var wrapperDiv = document.createElement('div');\n        document.body.appendChild(wrapperDiv);\n        wrapperDiv.style.position = 'relative';\n        var div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.style.left = '10px';\n        div.style.bottom = '10px';\n        div.style.width = '300px';\n        div.style.background = 'white';\n        wrapperDiv.appendChild(this.gl.canvas);\n        wrapperDiv.appendChild(div);\n        var html = this.props.onAddHTML(div);\n\n        if (html) {\n          div.innerHTML = html;\n        }\n      }\n    }\n  }, {\n    key: \"_getSizeAndAspect\",\n    value: function _getSizeAndAspect() {\n      var width = this.gl.drawingBufferWidth;\n      var height = this.gl.drawingBufferHeight;\n      var aspect = 1;\n      var canvas = this.gl.canvas;\n\n      if (canvas && canvas.clientHeight) {\n        aspect = canvas.clientWidth / canvas.clientHeight;\n      } else if (width > 0 && height > 0) {\n        aspect = width / height;\n      }\n\n      return {\n        width: width,\n        height: height,\n        aspect: aspect\n      };\n    }\n  }, {\n    key: \"_resizeViewport\",\n    value: function _resizeViewport() {\n      if (this.autoResizeViewport) {\n        this.gl.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight);\n      }\n    }\n  }, {\n    key: \"_resizeCanvasDrawingBuffer\",\n    value: function _resizeCanvasDrawingBuffer() {\n      if (this.autoResizeDrawingBuffer) {\n        resizeGLContext(this.gl, {\n          useDevicePixels: this.useDevicePixels\n        });\n      }\n    }\n  }, {\n    key: \"_createFramebuffer\",\n    value: function _createFramebuffer() {\n      if (this.props.createFramebuffer) {\n        this.framebuffer = new Framebuffer(this.gl);\n      }\n    }\n  }, {\n    key: \"_resizeFramebuffer\",\n    value: function _resizeFramebuffer() {\n      if (this.framebuffer) {\n        this.framebuffer.resize({\n          width: this.gl.drawingBufferWidth,\n          height: this.gl.drawingBufferHeight\n        });\n      }\n    }\n  }, {\n    key: \"_beginTimers\",\n    value: function _beginTimers() {\n      this.frameRate.timeEnd();\n      this.frameRate.timeStart();\n\n      if (this._gpuTimeQuery && this._gpuTimeQuery.isResultAvailable() && !this._gpuTimeQuery.isTimerDisjoint()) {\n        this.stats.get('GPU Time').addTime(this._gpuTimeQuery.getTimerMilliseconds());\n      }\n\n      if (this._gpuTimeQuery) {\n        this._gpuTimeQuery.beginTimeElapsedQuery();\n      }\n\n      this.cpuTime.timeStart();\n    }\n  }, {\n    key: \"_endTimers\",\n    value: function _endTimers() {\n      this.cpuTime.timeEnd();\n\n      if (this._gpuTimeQuery) {\n        this._gpuTimeQuery.end();\n      }\n    }\n  }, {\n    key: \"_startEventHandling\",\n    value: function _startEventHandling() {\n      var canvas = this.gl.canvas;\n\n      if (canvas) {\n        canvas.addEventListener('mousemove', this._onMousemove);\n        canvas.addEventListener('mouseleave', this._onMouseleave);\n      }\n    }\n  }, {\n    key: \"_onMousemove\",\n    value: function _onMousemove(e) {\n      this.animationProps._mousePosition = [e.offsetX, e.offsetY];\n    }\n  }, {\n    key: \"_onMouseleave\",\n    value: function _onMouseleave(e) {\n      this.animationProps._mousePosition = null;\n    }\n  }]);\n\n  return AnimationLoop;\n}();\n\nexport { AnimationLoop as default };","var INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n\n    if (ev.button > 0) {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport var Manager = hammerjs.Manager;\nexport default hammerjs;","import Hammer from './utils/hammer';\nexport var RECOGNIZERS = Hammer ? [[Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport var RECOGNIZER_COMPATIBLE_MAP = {\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport var RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport var BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport var INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel', 'DOMMouseScroll']\n};\nexport var EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport var GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\n\nvar WheelInput = function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, WheelInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n  }\n\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      var value = event.deltaY;\n\n      if (window.WheelEvent) {\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n\n  return WheelInput;\n}();\n\nexport { WheelInput as default };","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\n\nvar MoveInput = function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, MoveInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n\n            break;\n\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n\n            break;\n\n          case 'mouseup':\n            this.pressed = false;\n            break;\n\n          default:\n        }\n      }\n    }\n  }]);\n\n  return MoveInput;\n}();\n\nexport { MoveInput as default };","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\n\nvar KeyInput = function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, KeyInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n\n  return KeyInput;\n}();\n\nexport { KeyInput as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar EVENT_TYPE = 'contextmenu';\n\nvar ContextmenuInput = function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, ContextmenuInput);\n\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  _createClass(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n\n      this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n\n  return ContextmenuInput;\n}();\n\nexport { ContextmenuInput as default };","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nvar DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  var eventType = MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  var _event$srcEvent = event.srcEvent,\n      buttons = _event$srcEvent.buttons,\n      button = _event$srcEvent.button,\n      which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth;\n  var scaleY = rect.height / rootElement.offsetHeight;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { whichButtons, getOffsetPosition } from './event-utils';\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\n\nvar EventRegistrar = function () {\n  function EventRegistrar(eventManager) {\n    _classCallCheck(this, EventRegistrar);\n\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  _createClass(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      if (opts && (_typeof(opts) !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n\n      if (once) {\n        entry.once = true;\n      }\n\n      if (passive) {\n        entry.passive = true;\n      }\n\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n\n        insertPosition--;\n      }\n\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n          handlersByElement = this.handlersByElement;\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n\n          if (entries.length === 0) {\n            handlersByElement[\"delete\"](entry.srcElement);\n          }\n        }\n      }\n\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n\n      var mjolnirEvent = this._normalizeEvent(event);\n\n      var target = event.srcEvent.target;\n\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n\n        if (mjolnirEvent.handled) {\n          return;\n        }\n\n        target = target.parentNode;\n      }\n\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n\n      if (entries) {\n        var immediatePropagationStopped = false;\n\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n\n        var entriesToRemove = [];\n\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n              type = _entries$i.type,\n              handler = _entries$i.handler,\n              once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n              type = _entriesToRemove$_i.type,\n              handler = _entriesToRemove$_i.handler;\n          this.remove(type, handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n\n  return EventRegistrar;\n}();\n\nexport { EventRegistrar as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\n\nvar EventManager = function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, EventManager);\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  _createClass(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n\n      if (this.element) {\n        this.destroy();\n      }\n\n      this.element = element;\n\n      if (!element) {\n        return;\n      }\n\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n\n      this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.events[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              eventAlias = _step$value[0],\n              eventRegistrar = _step$value[1];\n\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n\n      if (!manager) {\n        return;\n      }\n\n      var recognizer = manager.get(name);\n\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n\n        return;\n      }\n\n      var manager = this.manager,\n          events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        eventRegistrar = new EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n\n      eventRegistrar.add(event, handler, opts, once, passive);\n\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n\n        return;\n      }\n\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n\n      if (!eventRegistrar) {\n        return;\n      }\n\n      eventRegistrar.remove(event, handler);\n\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = events.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var eh = _step2.value;\n\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport { EventManager as default };","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport LayerManager from './layer-manager';\nimport ViewManager from './view-manager';\nimport MapView from '../views/map-view';\nimport EffectManager from './effect-manager';\nimport Effect from './effect';\nimport DeckRenderer from './deck-renderer';\nimport DeckPicker from './deck-picker';\nimport Tooltip from './tooltip';\nimport log from '../utils/log';\nimport { deepEqual } from '../utils/deep-equal';\nimport deckGlobal from './init';\nimport { getBrowser } from 'probe.gl/env';\nimport { AnimationLoop, createGLContext, instrumentGLContext, setParameters, Timeline, lumaStats } from '@luma.gl/core';\nimport { Stats } from 'probe.gl';\nimport { EventManager } from 'mjolnir.js';\nimport assert from '../utils/assert';\nimport { EVENTS } from './constants';\n\nfunction noop() {}\n\nvar getCursor = function getCursor(_ref) {\n  var isDragging = _ref.isDragging;\n  return isDragging ? 'grabbing' : 'grab';\n};\n\nfunction getPropTypes(PropTypes) {\n  return {\n    id: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    layers: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    layerFilter: PropTypes.func,\n    views: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    viewState: PropTypes.object,\n    effects: PropTypes.arrayOf(PropTypes.instanceOf(Effect)),\n    controller: PropTypes.oneOfType([PropTypes.func, PropTypes.bool, PropTypes.object]),\n    gl: PropTypes.object,\n    glOptions: PropTypes.object,\n    parameters: PropTypes.object,\n    pickingRadius: PropTypes.number,\n    useDevicePixels: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n    touchAction: PropTypes.string,\n    onWebGLInitialized: PropTypes.func,\n    onResize: PropTypes.func,\n    onViewStateChange: PropTypes.func,\n    onBeforeRender: PropTypes.func,\n    onAfterRender: PropTypes.func,\n    onLoad: PropTypes.func,\n    onError: PropTypes.func,\n    debug: PropTypes.bool,\n    drawPickingColors: PropTypes.bool,\n    _framebuffer: PropTypes.object,\n    _animate: PropTypes.bool\n  };\n}\n\nvar defaultProps = {\n  id: 'deckgl-overlay',\n  width: '100%',\n  height: '100%',\n  pickingRadius: 0,\n  layerFilter: null,\n  glOptions: {},\n  gl: null,\n  layers: [],\n  effects: [],\n  views: null,\n  controller: null,\n  useDevicePixels: true,\n  touchAction: 'none',\n  _framebuffer: null,\n  _animate: false,\n  onWebGLInitialized: noop,\n  onResize: noop,\n  onViewStateChange: noop,\n  onBeforeRender: noop,\n  onAfterRender: noop,\n  onLoad: noop,\n  onError: null,\n  _onMetrics: null,\n  getCursor: getCursor,\n  debug: false,\n  drawPickingColors: false\n};\n\nvar Deck = function () {\n  function Deck(props) {\n    _classCallCheck(this, Deck);\n\n    props = Object.assign({}, defaultProps, props);\n    this.props = {};\n    this.width = 0;\n    this.height = 0;\n    this.viewManager = null;\n    this.layerManager = null;\n    this.effectManager = null;\n    this.deckRenderer = null;\n    this.deckPicker = null;\n    this._needsRedraw = true;\n    this._pickRequest = {};\n    this._lastPointerDownInfo = null;\n    this.viewState = null;\n    this.interactiveState = {\n      isDragging: false\n    };\n    this._onEvent = this._onEvent.bind(this);\n    this._onPointerDown = this._onPointerDown.bind(this);\n    this._onPointerMove = this._onPointerMove.bind(this);\n    this._pickAndCallback = this._pickAndCallback.bind(this);\n    this._onRendererInitialized = this._onRendererInitialized.bind(this);\n    this._onRenderFrame = this._onRenderFrame.bind(this);\n    this._onViewStateChange = this._onViewStateChange.bind(this);\n    this._onInteractiveStateChange = this._onInteractiveStateChange.bind(this);\n\n    if (props.viewState && props.initialViewState) {\n      log.warn('View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.')();\n    }\n\n    if (getBrowser() === 'IE') {\n      log.warn('IE 11 support will be deprecated in v8.0')();\n    }\n\n    if (!props.gl) {\n      if (typeof document !== 'undefined') {\n        this.canvas = this._createCanvas(props);\n      }\n    }\n\n    this.animationLoop = this._createAnimationLoop(props);\n    this.stats = new Stats({\n      id: 'deck.gl'\n    });\n    this.metrics = {\n      fps: 0,\n      setPropsTime: 0,\n      updateAttributesTime: 0,\n      framesRedrawn: 0,\n      pickTime: 0,\n      pickCount: 0,\n      gpuTime: 0,\n      gpuTimePerFrame: 0,\n      cpuTime: 0,\n      cpuTimePerFrame: 0,\n      bufferMemory: 0,\n      textureMemory: 0,\n      renderbufferMemory: 0,\n      gpuMemory: 0\n    };\n    this._metricsCounter = 0;\n    this.setProps(props);\n    this.animationLoop.start();\n  }\n\n  _createClass(Deck, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this.animationLoop.stop();\n      this.animationLoop = null;\n      this._lastPointerDownInfo = null;\n\n      if (this.layerManager) {\n        this.layerManager.finalize();\n        this.layerManager = null;\n        this.viewManager.finalize();\n        this.viewManager = null;\n        this.effectManager.finalize();\n        this.effectManager = null;\n        this.deckRenderer.finalize();\n        this.deckRenderer = null;\n        this.deckPicker.finalize();\n        this.deckPicker = null;\n        this.eventManager.destroy();\n        this.eventManager = null;\n        this.tooltip.remove();\n        this.tooltip = null;\n      }\n\n      if (!this.props.canvas && !this.props.gl && this.canvas) {\n        this.canvas.parentElement.removeChild(this.canvas);\n        this.canvas = null;\n      }\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this.stats.get('setProps Time').timeStart();\n\n      if ('onLayerHover' in props) {\n        log.removed('onLayerHover', 'onHover')();\n      }\n\n      if ('onLayerClick' in props) {\n        log.removed('onLayerClick', 'onClick')();\n      }\n\n      if (props.initialViewState && !deepEqual(this.props.initialViewState, props.initialViewState)) {\n        this.viewState = props.initialViewState;\n      }\n\n      Object.assign(this.props, props);\n\n      this._setCanvasSize(this.props);\n\n      var resolvedProps = Object.create(this.props);\n      Object.assign(resolvedProps, {\n        views: this._getViews(),\n        width: this.width,\n        height: this.height,\n        viewState: this._getViewState()\n      });\n      this.animationLoop.setProps(resolvedProps);\n\n      if (this.layerManager) {\n        this.viewManager.setProps(resolvedProps);\n        this.layerManager.setProps(resolvedProps);\n        this.effectManager.setProps(resolvedProps);\n        this.deckRenderer.setProps(resolvedProps);\n        this.deckPicker.setProps(resolvedProps);\n      }\n\n      this.stats.get('setProps Time').timeEnd();\n    }\n  }, {\n    key: \"needsRedraw\",\n    value: function needsRedraw() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        clearRedrawFlags: false\n      };\n\n      if (this.props._animate) {\n        return 'Deck._animate';\n      }\n\n      var redraw = this._needsRedraw;\n\n      if (opts.clearRedrawFlags) {\n        this._needsRedraw = false;\n      }\n\n      var viewManagerNeedsRedraw = this.viewManager.needsRedraw(opts);\n      var layerManagerNeedsRedraw = this.layerManager.needsRedraw(opts);\n      var effectManagerNeedsRedraw = this.effectManager.needsRedraw(opts);\n      var deckRendererNeedsRedraw = this.deckRenderer.needsRedraw(opts);\n      redraw = redraw || viewManagerNeedsRedraw || layerManagerNeedsRedraw || effectManagerNeedsRedraw || deckRendererNeedsRedraw;\n      return redraw;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw(force) {\n      if (!this.layerManager) {\n        return;\n      }\n\n      var redrawReason = force || this.needsRedraw({\n        clearRedrawFlags: true\n      });\n\n      if (!redrawReason) {\n        return;\n      }\n\n      this.stats.get('Redraw Count').incrementCount();\n\n      if (this.props._customRender) {\n        this.props._customRender(redrawReason);\n      } else {\n        this._drawLayers(redrawReason);\n      }\n    }\n  }, {\n    key: \"getViews\",\n    value: function getViews() {\n      return this.viewManager.views;\n    }\n  }, {\n    key: \"getViewports\",\n    value: function getViewports(rect) {\n      return this.viewManager.getViewports(rect);\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      var infos = this._pick('pickObject', 'pickObject Time', opts).result;\n\n      return infos.length ? infos[0] : null;\n    }\n  }, {\n    key: \"pickMultipleObjects\",\n    value: function pickMultipleObjects(opts) {\n      opts.depth = opts.depth || 10;\n      return this._pick('pickObject', 'pickMultipleObjects Time', opts).result;\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this._pick('pickObjects', 'pickObjects Time', opts);\n    }\n  }, {\n    key: \"_pick\",\n    value: function _pick(method, statKey, opts) {\n      var stats = this.stats;\n      stats.get('Pick Count').incrementCount();\n      stats.get(statKey).timeStart();\n      var infos = this.deckPicker[method](Object.assign({\n        layers: this.layerManager.getLayers(opts),\n        viewports: this.getViewports(opts),\n        onViewportActive: this.layerManager.activateViewport\n      }, opts));\n      stats.get(statKey).timeEnd();\n      return infos;\n    }\n  }, {\n    key: \"_createCanvas\",\n    value: function _createCanvas(props) {\n      var canvas = props.canvas;\n\n      if (typeof canvas === 'string') {\n        canvas = document.getElementById(canvas);\n        assert(canvas);\n      }\n\n      if (!canvas) {\n        canvas = document.createElement('canvas');\n        var parent = props.parent || document.body;\n        parent.appendChild(canvas);\n      }\n\n      var id = props.id,\n          style = props.style;\n      canvas.id = id;\n      Object.assign(canvas.style, style);\n      return canvas;\n    }\n  }, {\n    key: \"_setCanvasSize\",\n    value: function _setCanvasSize(props) {\n      if (!this.canvas) {\n        return;\n      }\n\n      var width = props.width,\n          height = props.height;\n\n      if (width || width === 0) {\n        width = Number.isFinite(width) ? \"\".concat(width, \"px\") : width;\n        this.canvas.style.width = width;\n      }\n\n      if (height || height === 0) {\n        height = Number.isFinite(height) ? \"\".concat(height, \"px\") : height;\n        this.canvas.style.position = 'absolute';\n        this.canvas.style.height = height;\n      }\n    }\n  }, {\n    key: \"_updateCanvasSize\",\n    value: function _updateCanvasSize() {\n      if (this._checkForCanvasSizeChange()) {\n        var width = this.width,\n            height = this.height;\n        this.viewManager.setProps({\n          width: width,\n          height: height\n        });\n        this.props.onResize({\n          width: this.width,\n          height: this.height\n        });\n      }\n    }\n  }, {\n    key: \"_checkForCanvasSizeChange\",\n    value: function _checkForCanvasSizeChange() {\n      var canvas = this.canvas;\n\n      if (!canvas) {\n        return false;\n      }\n\n      var newWidth = canvas.clientWidth || canvas.width;\n      var newHeight = canvas.clientHeight || canvas.height;\n\n      if (newWidth !== this.width || newHeight !== this.height) {\n        this.width = newWidth;\n        this.height = newHeight;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_createAnimationLoop\",\n    value: function _createAnimationLoop(props) {\n      var _this = this;\n\n      var width = props.width,\n          height = props.height,\n          gl = props.gl,\n          glOptions = props.glOptions,\n          debug = props.debug,\n          useDevicePixels = props.useDevicePixels,\n          autoResizeDrawingBuffer = props.autoResizeDrawingBuffer;\n      return new AnimationLoop({\n        width: width,\n        height: height,\n        useDevicePixels: useDevicePixels,\n        autoResizeDrawingBuffer: autoResizeDrawingBuffer,\n        autoResizeViewport: false,\n        gl: gl,\n        onCreateContext: function onCreateContext(opts) {\n          return createGLContext(Object.assign({}, glOptions, opts, {\n            canvas: _this.canvas,\n            debug: debug\n          }));\n        },\n        onInitialize: this._onRendererInitialized,\n        onRender: this._onRenderFrame,\n        onBeforeRender: props.onBeforeRender,\n        onAfterRender: props.onAfterRender\n      });\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState() {\n      return this.props.viewState || this.viewState;\n    }\n  }, {\n    key: \"_getViews\",\n    value: function _getViews() {\n      var views = this.props.views || [new MapView({\n        id: 'default-view'\n      })];\n      views = Array.isArray(views) ? views : [views];\n\n      if (views.length && this.props.controller) {\n        views[0].props.controller = this.props.controller;\n      }\n\n      return views;\n    }\n  }, {\n    key: \"_onPointerMove\",\n    value: function _onPointerMove(event) {\n      var _pickRequest = this._pickRequest;\n\n      if (event.type === 'pointerleave') {\n        _pickRequest.x = -1;\n        _pickRequest.y = -1;\n        _pickRequest.radius = 0;\n      } else if (event.leftButton || event.rightButton) {\n        return;\n      } else {\n        var pos = event.offsetCenter;\n\n        if (!pos) {\n          return;\n        }\n\n        _pickRequest.x = pos.x;\n        _pickRequest.y = pos.y;\n        _pickRequest.radius = this.props.pickingRadius;\n      }\n\n      if (this.layerManager) {\n        this.layerManager.context.mousePosition = {\n          x: _pickRequest.x,\n          y: _pickRequest.y\n        };\n      }\n\n      _pickRequest.event = event;\n      _pickRequest.mode = 'hover';\n    }\n  }, {\n    key: \"_pickAndCallback\",\n    value: function _pickAndCallback() {\n      var _pickRequest = this._pickRequest;\n\n      if (_pickRequest.event) {\n        var _this$_pick = this._pick('pickObject', 'pickObject Time', _pickRequest),\n            result = _this$_pick.result,\n            emptyInfo = _this$_pick.emptyInfo;\n\n        var pickedInfo = emptyInfo;\n        var handled = false;\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = result[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var info = _step.value;\n            pickedInfo = info;\n            handled = info.layer.onHover(info, _pickRequest.event);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (!handled && this.props.onHover) {\n          this.props.onHover(pickedInfo, _pickRequest.event);\n        }\n\n        if (this.props.getTooltip) {\n          var displayInfo = this.props.getTooltip(pickedInfo);\n          this.tooltip.setTooltip(displayInfo, pickedInfo.x, pickedInfo.y);\n        }\n\n        _pickRequest.event = null;\n      }\n    }\n  }, {\n    key: \"_updateCursor\",\n    value: function _updateCursor() {\n      var container = this.props.parent || this.canvas;\n\n      if (container) {\n        container.style.cursor = this.props.getCursor(this.interactiveState);\n      }\n    }\n  }, {\n    key: \"_setGLContext\",\n    value: function _setGLContext(gl) {\n      if (this.layerManager) {\n        return;\n      }\n\n      if (!this.canvas) {\n        this.canvas = gl.canvas;\n        instrumentGLContext(gl, {\n          enable: true,\n          copyState: true\n        });\n      }\n\n      this.tooltip = new Tooltip(this.canvas);\n      setParameters(gl, {\n        blend: true,\n        blendFunc: [770, 771, 1, 771],\n        polygonOffsetFill: true,\n        depthTest: true,\n        depthFunc: 515\n      });\n      this.props.onWebGLInitialized(gl);\n      var timeline = new Timeline();\n      timeline.play();\n      this.animationLoop.attachTimeline(timeline);\n      this.eventManager = new EventManager(this.props.parent || gl.canvas, {\n        touchAction: this.props.touchAction,\n        events: {\n          pointerdown: this._onPointerDown,\n          pointermove: this._onPointerMove,\n          pointerleave: this._onPointerMove\n        }\n      });\n\n      for (var eventType in EVENTS) {\n        this.eventManager.on(eventType, this._onEvent);\n      }\n\n      this.viewManager = new ViewManager({\n        timeline: timeline,\n        eventManager: this.eventManager,\n        onViewStateChange: this._onViewStateChange,\n        onInteractiveStateChange: this._onInteractiveStateChange,\n        views: this._getViews(),\n        viewState: this._getViewState(),\n        width: this.width,\n        height: this.height\n      });\n      var viewport = this.viewManager.getViewports()[0];\n      this.layerManager = new LayerManager(gl, {\n        deck: this,\n        stats: this.stats,\n        viewport: viewport,\n        timeline: timeline\n      });\n      this.effectManager = new EffectManager();\n      this.deckRenderer = new DeckRenderer(gl);\n      this.deckPicker = new DeckPicker(gl);\n      this.setProps(this.props);\n\n      this._updateCanvasSize();\n\n      this.props.onLoad();\n    }\n  }, {\n    key: \"_drawLayers\",\n    value: function _drawLayers(redrawReason, renderOptions) {\n      var gl = this.layerManager.context.gl;\n      setParameters(gl, this.props.parameters);\n      this.props.onBeforeRender({\n        gl: gl\n      });\n      this.deckRenderer.renderLayers(Object.assign({\n        target: this.props._framebuffer,\n        layers: this.layerManager.getLayers(),\n        viewports: this.viewManager.getViewports(),\n        onViewportActive: this.layerManager.activateViewport,\n        views: this.viewManager.getViews(),\n        pass: 'screen',\n        redrawReason: redrawReason,\n        effects: this.effectManager.getEffects()\n      }, renderOptions));\n      this.props.onAfterRender({\n        gl: gl\n      });\n    }\n  }, {\n    key: \"_onRendererInitialized\",\n    value: function _onRendererInitialized(_ref2) {\n      var gl = _ref2.gl;\n\n      this._setGLContext(gl);\n    }\n  }, {\n    key: \"_onRenderFrame\",\n    value: function _onRenderFrame(animationProps) {\n      this._getFrameStats();\n\n      if (this._metricsCounter++ % 60 === 0) {\n        this._getMetrics();\n\n        this.stats.reset();\n        log.table(4, this.metrics)();\n\n        if (this.props._onMetrics) {\n          this.props._onMetrics(this.metrics);\n        }\n      }\n\n      this._updateCanvasSize();\n\n      this._updateCursor();\n\n      this.layerManager.updateLayers();\n\n      this._pickAndCallback();\n\n      this.redraw(false);\n\n      if (this.viewManager) {\n        this.viewManager.updateViewStates();\n      }\n    }\n  }, {\n    key: \"_onViewStateChange\",\n    value: function _onViewStateChange(params) {\n      var viewState = this.props.onViewStateChange(params) || params.viewState;\n\n      if (this.viewState) {\n        this.viewState = _objectSpread({}, this.viewState, _defineProperty({}, params.viewId, viewState));\n\n        if (!this.props.viewState) {\n          this.viewManager.setProps({\n            viewState: this.viewState\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_onInteractiveStateChange\",\n    value: function _onInteractiveStateChange(_ref3) {\n      var _ref3$isDragging = _ref3.isDragging,\n          isDragging = _ref3$isDragging === void 0 ? false : _ref3$isDragging;\n\n      if (isDragging !== this.interactiveState.isDragging) {\n        this.interactiveState.isDragging = isDragging;\n      }\n    }\n  }, {\n    key: \"_onEvent\",\n    value: function _onEvent(event) {\n      var eventOptions = EVENTS[event.type];\n      var pos = event.offsetCenter;\n\n      if (!eventOptions || !pos) {\n        return;\n      }\n\n      var layers = this.layerManager.getLayers();\n      var info = this.deckPicker.getLastPickedObject({\n        x: pos.x,\n        y: pos.y,\n        layers: layers,\n        viewports: this.getViewports(pos)\n      }, this._lastPointerDownInfo);\n      var layer = info.layer;\n      var layerHandler = layer && (layer[eventOptions.handler] || layer.props[eventOptions.handler]);\n      var rootHandler = this.props[eventOptions.handler];\n      var handled = false;\n\n      if (layerHandler) {\n        handled = layerHandler.call(layer, info, event);\n      }\n\n      if (!handled && rootHandler) {\n        rootHandler(info, event);\n      }\n    }\n  }, {\n    key: \"_onPointerDown\",\n    value: function _onPointerDown(event) {\n      var pos = event.offsetCenter;\n      this._lastPointerDownInfo = this.pickObject({\n        x: pos.x,\n        y: pos.y,\n        radius: this.props.pickingRadius\n      });\n    }\n  }, {\n    key: \"_getFrameStats\",\n    value: function _getFrameStats() {\n      var stats = this.stats;\n      stats.get('frameRate').timeEnd();\n      stats.get('frameRate').timeStart();\n      var animationLoopStats = this.animationLoop.stats;\n      stats.get('GPU Time').addTime(animationLoopStats.get('GPU Time').lastTiming);\n      stats.get('CPU Time').addTime(animationLoopStats.get('CPU Time').lastTiming);\n    }\n  }, {\n    key: \"_getMetrics\",\n    value: function _getMetrics() {\n      var metrics = this.metrics,\n          stats = this.stats;\n      metrics.fps = stats.get('frameRate').getHz();\n      metrics.setPropsTime = stats.get('setProps Time').time;\n      metrics.updateAttributesTime = stats.get('Update Attributes').time;\n      metrics.framesRedrawn = stats.get('Redraw Count').count;\n      metrics.pickTime = stats.get('pickObject Time').time + stats.get('pickMultipleObjects Time').time + stats.get('pickObjects Time').time;\n      metrics.pickCount = stats.get('Pick Count').count;\n      metrics.gpuTime = stats.get('GPU Time').time;\n      metrics.cpuTime = stats.get('CPU Time').time;\n      metrics.gpuTimePerFrame = stats.get('GPU Time').getAverageTime();\n      metrics.cpuTimePerFrame = stats.get('CPU Time').getAverageTime();\n      var memoryStats = lumaStats.get('Memory Usage');\n      metrics.bufferMemory = memoryStats.get('Buffer Memory').count;\n      metrics.textureMemory = memoryStats.get('Texture Memory').count;\n      metrics.renderbufferMemory = memoryStats.get('Renderbuffer Memory').count;\n      metrics.gpuMemory = memoryStats.get('GPU Memory').count;\n    }\n  }]);\n\n  return Deck;\n}();\n\nexport { Deck as default };\nDeck.getPropTypes = getPropTypes;\nDeck.defaultProps = defaultProps;\nDeck.VERSION = deckGlobal.VERSION;","export function inheritsFrom(Type, ParentType) {\n  while (Type) {\n    if (Type === ParentType) {\n      return true;\n    }\n\n    Type = Object.getPrototypeOf(Type);\n  }\n\n  return false;\n}","import \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { createElement } from 'react';\nimport { inheritsFrom } from './inherits-from';\nimport { Layer, View } from '@deck.gl/core';\n\nfunction wrapInView(node) {\n  if (!node) {\n    return node;\n  }\n\n  if (typeof node === 'function') {\n    return createElement(View, {}, node);\n  }\n\n  if (Array.isArray(node)) {\n    return node.map(wrapInView);\n  }\n\n  if (node.type === React.Fragment) {\n    return wrapInView(node.props.children);\n  }\n\n  if (inheritsFrom(node.type, View)) {\n    return node;\n  }\n\n  return node;\n}\n\nexport default function extractJSXLayers(_ref) {\n  var children = _ref.children,\n      layers = _ref.layers,\n      views = _ref.views;\n  var reactChildren = [];\n  var jsxLayers = [];\n  var jsxViews = {};\n  React.Children.forEach(wrapInView(children), function (reactElement) {\n    if (reactElement) {\n      var ElementType = reactElement.type;\n\n      if (inheritsFrom(ElementType, Layer)) {\n        var layer = createLayer(ElementType, reactElement.props);\n        jsxLayers.push(layer);\n      } else {\n        reactChildren.push(reactElement);\n      }\n\n      if (ElementType !== View && inheritsFrom(ElementType, View) && reactElement.props.id) {\n        var view = new ElementType(reactElement.props);\n        jsxViews[view.id] = view;\n      }\n    }\n  });\n\n  if (Object.keys(jsxViews).length > 0) {\n    if (Array.isArray(views)) {\n      views.forEach(function (view) {\n        jsxViews[view.id] = view;\n      });\n    } else if (views) {\n      jsxViews[views.id] = views;\n    }\n\n    views = Object.values(jsxViews);\n  }\n\n  layers = jsxLayers.length > 0 ? [].concat(jsxLayers, _toConsumableArray(layers)) : layers;\n  return {\n    layers: layers,\n    children: reactChildren,\n    views: views\n  };\n}\n\nfunction createLayer(LayerType, reactProps) {\n  var props = {};\n  var defaultProps = LayerType.defaultProps || {};\n\n  for (var key in reactProps) {\n    if (defaultProps[key] !== reactProps[key]) {\n      props[key] = reactProps[key];\n    }\n  }\n\n  return new LayerType(props);\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.is-array\";\nimport { cloneElement } from 'react';\nvar MAP_STYLE = {\n  position: 'absolute',\n  zIndex: -1\n};\nexport default function evaluateChildren(children, childProps) {\n  if (!children) {\n    return children;\n  }\n\n  if (typeof children === 'function') {\n    return children(childProps);\n  }\n\n  if (Array.isArray(children)) {\n    return children.map(function (child) {\n      return evaluateChildren(child, childProps);\n    });\n  }\n\n  if (isReactMap(children)) {\n    childProps.style = MAP_STYLE;\n    return cloneElement(children, childProps);\n  }\n\n  if (needsDeckGLViewProps(children)) {\n    return cloneElement(children, childProps);\n  }\n\n  return children;\n}\n\nfunction isReactMap(child) {\n  var componentClass = child && child.type;\n  var componentProps = componentClass && componentClass.defaultProps;\n  return componentProps && componentProps.mapStyle;\n}\n\nfunction needsDeckGLViewProps(child) {\n  var componentClass = child && child.type;\n  return componentClass && componentClass.deckGLViewProps;\n}","import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { createElement } from 'react';\nimport { View } from '@deck.gl/core';\nimport { inheritsFrom } from './inherits-from';\nimport evaluateChildren from './evaluate-children';\nexport default function positionChildrenUnderViews(_ref) {\n  var children = _ref.children,\n      viewports = _ref.viewports,\n      deck = _ref.deck,\n      ContextProvider = _ref.ContextProvider;\n\n  var _ref2 = deck || {},\n      viewManager = _ref2.viewManager;\n\n  if (!viewManager || !viewManager.views.length) {\n    return [];\n  }\n\n  var views = {};\n  var defaultViewId = viewManager.views[0].id;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n      var viewId = defaultViewId;\n      var viewChildren = child;\n\n      if (inheritsFrom(child.type, View)) {\n        viewId = child.props.id || defaultViewId;\n        viewChildren = child.props.children;\n      }\n\n      var viewport = viewManager.getViewport(viewId);\n      var viewState = viewManager.getViewState(viewId);\n\n      if (viewport) {\n        var x = viewport.x,\n            y = viewport.y,\n            width = viewport.width,\n            height = viewport.height;\n        viewChildren = evaluateChildren(viewChildren, {\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          viewport: viewport,\n          viewState: viewState\n        });\n\n        if (!views[viewId]) {\n          views[viewId] = {\n            viewport: viewport,\n            children: []\n          };\n        }\n\n        views[viewId].children.push(viewChildren);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return Object.keys(views).map(function (viewId) {\n    var _views$viewId = views[viewId],\n        viewport = _views$viewId.viewport,\n        viewChildren = _views$viewId.children;\n    var x = viewport.x,\n        y = viewport.y,\n        width = viewport.width,\n        height = viewport.height;\n    var style = {\n      position: 'absolute',\n      left: x,\n      top: y,\n      width: width,\n      height: height\n    };\n    var key = \"view-\".concat(viewId);\n    var viewElement = createElement.apply(void 0, ['div', {\n      key: key,\n      id: key,\n      style: style\n    }].concat(_toConsumableArray(viewChildren)));\n\n    if (ContextProvider) {\n      var contextValue = {\n        viewport: viewport,\n        container: deck.canvas.offsetParent,\n        eventManager: deck.eventManager,\n        onViewStateChange: function onViewStateChange(params) {\n          params.viewId = viewId;\n\n          deck._onViewStateChange(params);\n        }\n      };\n      return createElement(ContextProvider, {\n        key: key,\n        value: contextValue\n      }, viewElement);\n    }\n\n    return viewElement;\n  });\n}","var CANVAS_ONLY_STYLES = {\n  mixBlendMode: null\n};\nexport default function extractStyles(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      style = _ref.style;\n  var containerStyle = {\n    position: 'absolute',\n    zIndex: 0,\n    left: 0,\n    top: 0,\n    width: width,\n    height: height\n  };\n  var canvasStyle = {\n    left: 0,\n    top: 0\n  };\n\n  if (style) {\n    for (var key in style) {\n      if (key in CANVAS_ONLY_STYLES) {\n        canvasStyle[key] = style[key];\n      } else {\n        containerStyle[key] = style[key];\n      }\n    }\n  }\n\n  return {\n    containerStyle: containerStyle,\n    canvasStyle: canvasStyle\n  };\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.bind\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport React, { createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { Deck, _memoize as memoize } from '@deck.gl/core';\nimport extractJSXLayers from './utils/extract-jsx-layers';\nimport positionChildrenUnderViews from './utils/position-children-under-views';\nimport extractStyles from './utils/extract-styles';\nvar propTypes = Deck.getPropTypes(PropTypes);\nvar defaultProps = Deck.defaultProps;\n\nvar DeckGL = function (_React$Component) {\n  _inherits(DeckGL, _React$Component);\n\n  function DeckGL(props) {\n    var _this;\n\n    _classCallCheck(this, DeckGL);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeckGL).call(this, props));\n    _this.viewports = null;\n    _this.children = null;\n    _this._needsRedraw = null;\n    _this._containerRef = React.createRef();\n    _this._canvasRef = React.createRef();\n    _this.pickObject = _this.pickObject.bind(_assertThisInitialized(_this));\n    _this.pickMultipleObjects = _this.pickMultipleObjects.bind(_assertThisInitialized(_this));\n    _this.pickObjects = _this.pickObjects.bind(_assertThisInitialized(_this));\n    _this._extractJSXLayers = memoize(extractJSXLayers);\n    _this._positionChildrenUnderViews = memoize(positionChildrenUnderViews);\n    _this._extractStyles = memoize(extractStyles);\n    return _this;\n  }\n\n  _createClass(DeckGL, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var DeckClass = this.props.Deck || Deck;\n      this.deck = this.deck || new DeckClass(Object.assign({}, this.props, {\n        parent: this._containerRef.current,\n        canvas: this._canvasRef.current,\n        style: null,\n        width: '100%',\n        height: '100%',\n        _customRender: this._customRender.bind(this)\n      }));\n\n      this._updateFromProps(this.props);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      this._updateFromProps(nextProps);\n\n      var childrenChanged = this.children !== this._parseJSX(nextProps).children;\n\n      var viewsChanged = this.deck.viewManager && this.deck.viewManager.needsRedraw();\n      return childrenChanged && !viewsChanged;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._redrawDeck();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.deck.finalize();\n    }\n  }, {\n    key: \"pickObject\",\n    value: function pickObject(opts) {\n      return this.deck.pickObject(opts);\n    }\n  }, {\n    key: \"pickMultipleObjects\",\n    value: function pickMultipleObjects(opts) {\n      return this.deck.pickMultipleObjects(opts);\n    }\n  }, {\n    key: \"pickObjects\",\n    value: function pickObjects(opts) {\n      return this.deck.pickObjects(opts);\n    }\n  }, {\n    key: \"_redrawDeck\",\n    value: function _redrawDeck() {\n      if (this._needsRedraw) {\n        this.deck._drawLayers(this._needsRedraw);\n\n        this._needsRedraw = null;\n      }\n    }\n  }, {\n    key: \"_customRender\",\n    value: function _customRender(redrawReason) {\n      this._needsRedraw = redrawReason;\n      var viewports = this.deck.viewManager.getViewports();\n\n      if (viewports !== this.viewports) {\n        this.forceUpdate();\n      } else {\n        this._redrawDeck();\n      }\n    }\n  }, {\n    key: \"_parseJSX\",\n    value: function _parseJSX(props) {\n      return this._extractJSXLayers({\n        layers: props.layers,\n        views: props.views,\n        children: props.children\n      });\n    }\n  }, {\n    key: \"_updateFromProps\",\n    value: function _updateFromProps(props) {\n      var _this$_parseJSX = this._parseJSX(props),\n          layers = _this$_parseJSX.layers,\n          views = _this$_parseJSX.views;\n\n      var deckProps = Object.assign({}, props, {\n        style: null,\n        width: '100%',\n        height: '100%',\n        layers: layers,\n        views: views\n      });\n      this.deck.setProps(deckProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          ContextProvider = _this$props.ContextProvider,\n          width = _this$props.width,\n          height = _this$props.height,\n          style = _this$props.style;\n\n      var _ref = this.deck || {},\n          viewManager = _ref.viewManager;\n\n      this.viewports = viewManager && viewManager.getViewports();\n      this.children = this._parseJSX(this.props).children;\n\n      var children = this._positionChildrenUnderViews({\n        children: this.children,\n        viewports: this.viewports,\n        deck: this.deck,\n        ContextProvider: ContextProvider\n      });\n\n      var _this$_extractStyles = this._extractStyles({\n        width: width,\n        height: height,\n        style: style\n      }),\n          containerStyle = _this$_extractStyles.containerStyle,\n          canvasStyle = _this$_extractStyles.canvasStyle;\n\n      var canvas = createElement('canvas', {\n        key: 'canvas',\n        ref: this._canvasRef,\n        style: canvasStyle\n      });\n      return createElement('div', {\n        id: 'deckgl-wrapper',\n        ref: this._containerRef,\n        style: containerStyle\n      }, [canvas, children]);\n    }\n  }]);\n\n  return DeckGL;\n}(React.Component);\n\nexport { DeckGL as default };\nDeckGL.propTypes = propTypes;\nDeckGL.defaultProps = defaultProps;","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.is-array\";\nvar EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { equals } from '../math-utils';\nimport assert from '../assert';\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    _classCallCheck(this, TransitionInterpolator);\n\n    _defineProperty(this, \"propNames\", []);\n  }\n\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\nexport { TransitionInterpolator as default };","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nvar WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { flyToViewport, getFlyToDuration } from 'viewport-mercator-project';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  _inherits(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"speed\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _defineProperty(_assertThisInitialized(_this), \"props\", void 0);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  _createClass(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = flyToViewport(startProps, endProps, t, this.props);\n\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(TransitionInterpolator);\n\nexport { ViewportFlyToInterpolator as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"around\", void 0);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new WebMercatorViewport(endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new WebMercatorViewport(Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: lerp(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = _slicedToArray(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(TransitionInterpolator);\n\nexport { LinearInterpolator as default };","import \"core-js/modules/es6.math.log2\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport WebMercatorViewport, { normalizeViewportProps } from 'viewport-mercator-project';\nimport { TransitionInterpolator } from './transition';\nimport { clamp } from './math-utils';\nimport assert from './assert';\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 60\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\n\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    _classCallCheck(this, MapState);\n\n    _defineProperty(this, \"_viewportProps\", void 0);\n\n    _defineProperty(this, \"_interactiveState\", void 0);\n\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._interactiveState = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getInteractiveState\",\n    value: function getInteractiveState() {\n      return this._interactiveState;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._interactiveState.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var _ref5$deltaScaleX = _ref5.deltaScaleX,\n          deltaScaleX = _ref5$deltaScaleX === void 0 ? 0 : _ref5$deltaScaleX,\n          _ref5$deltaScaleY = _ref5.deltaScaleY,\n          deltaScaleY = _ref5$deltaScaleY === void 0 ? 0 : _ref5$deltaScaleY;\n      var _this$_interactiveSta = this._interactiveState,\n          startBearing = _this$_interactiveSta.startBearing,\n          startPitch = _this$_interactiveSta.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var _this$_calculateNewPi = this._calculateNewPitchAndBearing({\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY,\n        startBearing: startBearing || 0,\n        startPitch: startPitch || 0\n      }),\n          pitch = _this$_calculateNewPi.pitch,\n          bearing = _this$_calculateNewPi.bearing;\n\n      return this._getUpdatedMapState({\n        bearing: bearing,\n        pitch: pitch\n      });\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_interactiveSta2 = this._interactiveState,\n          startZoom = _this$_interactiveSta2.startZoom,\n          startZoomLngLat = _this$_interactiveSta2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._interactiveState, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\nexport { MapState as default };","import { MAPBOX_LIMITS } from './map-state';\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nexport function checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}","import { createContext } from 'react';\nexport default createContext({\n  viewport: null,\n  map: null,\n  mapContainer: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null,\n  isDragging: false\n});","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { normalizeStyle } from '../utils/style-utils';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport { checkVisibilityConstraints } from '../utils/map-constraints';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport MapContext from './map-context';\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar propTypes = Object.assign({}, Mapbox.propTypes, {\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onResize: PropTypes.func,\n  preventStyleDiffing: PropTypes.bool,\n  disableTokenWarning: PropTypes.bool,\n  visible: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  visibilityConstraints: PropTypes.object\n});\nvar defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  preventStyleDiffing: false,\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\n\nvar StaticMap = function (_PureComponent) {\n  _inherits(StaticMap, _PureComponent);\n\n  var _super = _createSuper(StaticMap);\n\n  function StaticMap() {\n    var _this;\n\n    _classCallCheck(this, StaticMap);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      accessTokenInvalid: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapbox\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapboxMapRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapContainerRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_queryParams\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_width\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_height\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getMap\", function () {\n      return _this._map;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"queryRenderedFeatures\", function (geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return _this._map.queryRenderedFeatures(geometry, options);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapboxMapError\", function (evt) {\n      var statusCode = evt.error && evt.error.status || evt.status;\n\n      if (statusCode === UNAUTHORIZED_ERROR_CODE && !_this.state.accessTokenInvalid) {\n        console.error(NO_TOKEN_WARNING);\n\n        _this.setState({\n          accessTokenInvalid: true\n        });\n      }\n\n      _this.props.onError(evt);\n    });\n\n    return _this;\n  }\n\n  _createClass(StaticMap, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!StaticMap.supported()) {\n        return;\n      }\n\n      var mapStyle = this.props.mapStyle;\n      this._mapbox = new Mapbox(Object.assign({}, this.props, {\n        mapboxgl: mapboxgl,\n        width: this._width,\n        height: this._height,\n        container: this._mapboxMapRef.current,\n        onError: this._mapboxMapError,\n        mapStyle: normalizeStyle(mapStyle)\n      }));\n      this._map = this._mapbox.getMap();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this._mapbox) {\n        this._updateMapStyle(prevProps, this.props);\n\n        this._updateMapProps(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._mapbox) {\n        this._mapbox.finalize();\n\n        this._mapbox = null;\n        this._map = null;\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(width, height) {\n      if (this._width !== width || this._height !== height) {\n        this._width = width;\n        this._height = height;\n\n        this._updateMapProps(this.props);\n      }\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var mapStyle = newProps.mapStyle;\n      var oldMapStyle = oldProps.mapStyle;\n\n      if (mapStyle !== oldMapStyle && mapStyle) {\n        this._map.setStyle(normalizeStyle(mapStyle), {\n          diff: !this.props.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapProps\",\n    value: function _updateMapProps(props) {\n      if (!this._mapbox) {\n        return;\n      }\n\n      this._mapbox.setProps(Object.assign({}, props, {\n        width: this._width,\n        height: this._height\n      }));\n    }\n  }, {\n    key: \"_renderNoTokenWarning\",\n    value: function _renderNoTokenWarning() {\n      if (this.state.accessTokenInvalid && !this.props.disableTokenWarning) {\n        var style = {\n          position: 'absolute',\n          left: 0,\n          top: 0\n        };\n        return React.createElement(\"div\", {\n          key: \"warning\",\n          id: \"no-token-warning\",\n          style: style\n        }, React.createElement(\"h3\", {\n          key: \"header\"\n        }, \"NO_TOKEN_WARNING\"), React.createElement(\"div\", {\n          key: \"text\"\n        }, \"For information on setting up your basemap, read\"), React.createElement(\"a\", {\n          key: \"link\",\n          href: TOKEN_DOC_URL\n        }, \"Note on Map Tokens\"));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderOverlays\",\n    value: function _renderOverlays(dimensions) {\n      var _this2 = this;\n\n      var _dimensions$width = dimensions.width,\n          width = _dimensions$width === void 0 ? Number(this.props.width) : _dimensions$width,\n          _dimensions$height = dimensions.height,\n          height = _dimensions$height === void 0 ? Number(this.props.height) : _dimensions$height;\n\n      this._updateMapSize(width, height);\n\n      return React.createElement(MapContext.Consumer, null, function (interactiveContext) {\n        var context = _objectSpread(_objectSpread({}, interactiveContext), {}, {\n          viewport: new WebMercatorViewport(_objectSpread(_objectSpread(_objectSpread({}, _this2.props), _this2.props.viewState), {}, {\n            width: width,\n            height: height\n          })),\n          map: _this2._map,\n          mapContainer: interactiveContext.mapContainer || _this2._mapContainerRef.current\n        });\n\n        return React.createElement(MapContext.Provider, {\n          value: context\n        }, React.createElement(\"div\", {\n          key: \"map-overlays\",\n          className: \"overlays\",\n          style: CONTAINER_STYLE\n        }, _this2.props.children));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          width = _this$props.width,\n          height = _this$props.height,\n          style = _this$props.style,\n          visibilityConstraints = _this$props.visibilityConstraints;\n      var mapContainerStyle = Object.assign({\n        position: 'relative'\n      }, style, {\n        width: width,\n        height: height\n      });\n      var visible = this.props.visible && checkVisibilityConstraints(this.props.viewState || this.props, visibilityConstraints);\n      var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n        visibility: visible ? 'inherit' : 'hidden'\n      });\n      return React.createElement(\"div\", {\n        key: \"map-container\",\n        style: mapContainerStyle,\n        ref: this._mapContainerRef\n      }, React.createElement(\"div\", {\n        key: \"map-mapbox\",\n        ref: this._mapboxMapRef,\n        style: mapStyle,\n        className: className\n      }), React.createElement(AutoSizer, {\n        key: \"autosizer\",\n        disableWidth: Number.isFinite(width),\n        disableHeight: Number.isFinite(height),\n        onResize: this.props.onResize\n      }, this._renderOverlays.bind(this)), this._renderNoTokenWarning());\n    }\n  }], [{\n    key: \"supported\",\n    value: function supported() {\n      return mapboxgl && mapboxgl.supported();\n    }\n  }]);\n\n  return StaticMap;\n}(PureComponent);\n\n_defineProperty(StaticMap, \"propTypes\", propTypes);\n\n_defineProperty(StaticMap, \"defaultProps\", defaultProps);\n\nexport { StaticMap as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.date.now\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport assert from './assert';\nimport { TransitionInterpolator, LinearInterpolator } from './transition';\nimport MapState from './map-state';\n\nvar noop = function noop() {};\n\nexport function cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop,\n  onViewportChange: noop,\n  onStateChange: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager(props, getTime) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionManager);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"time\", void 0);\n\n    _defineProperty(this, \"_animationFrame\", null);\n\n    _defineProperty(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    if (props) {\n      this.props = props;\n    }\n\n    this.time = getTime || Date.now;\n  }\n\n  _createClass(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {},\n        interactionState: interactionState\n      };\n\n      this._onTransitionFrame();\n\n      this.props.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.props.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.props.onViewportChange(this.state.propsInTransition, this.state.interactionState, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\n_defineProperty(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\nexport { TransitionManager as default };","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport MapState from './map-state';\nimport { LinearInterpolator } from './transition';\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nimport debounce from './debounce';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\nvar ZOOM_ACCEL = 0.01;\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend', 'pinchcancel'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    _classCallCheck(this, MapController);\n\n    _defineProperty(this, \"events\", []);\n\n    _defineProperty(this, \"mapState\", void 0);\n\n    _defineProperty(this, \"onViewportChange\", void 0);\n\n    _defineProperty(this, \"onStateChange\", void 0);\n\n    _defineProperty(this, \"mapStateProps\", void 0);\n\n    _defineProperty(this, \"eventManager\", void 0);\n\n    _defineProperty(this, \"scrollZoom\", true);\n\n    _defineProperty(this, \"dragPan\", true);\n\n    _defineProperty(this, \"dragRotate\", true);\n\n    _defineProperty(this, \"doubleClickZoom\", true);\n\n    _defineProperty(this, \"touchZoom\", true);\n\n    _defineProperty(this, \"touchRotate\", false);\n\n    _defineProperty(this, \"keyboard\", true);\n\n    _defineProperty(this, \"_state\", {\n      isDragging: false\n    });\n\n    _defineProperty(this, \"_events\", {});\n\n    _defineProperty(this, \"_transitionManager\", new TransitionManager());\n\n    _defineProperty(this, \"setState\", function (newState) {\n      Object.assign(_this._state, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._state);\n      }\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._onWheelEnd = debounce(this._onWheelEnd, 100);\n  }\n\n  _createClass(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n\n      switch (event.type) {\n        case 'panstart':\n          return this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchcancel':\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState) {\n      var extraProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var extraState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var oldViewport = this.mapState ? this.mapState.getViewportProps() : {};\n      var newViewport = Object.assign({}, newMapState.getViewportProps(), extraProps);\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, extraState, oldViewport);\n      }\n\n      this.setState(Object.assign({}, newMapState.getInteractiveState(), extraState));\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new MapState(Object.assign({}, this.mapStateProps, this._state, overrides));\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var dimensionChanged = !this.mapStateProps || this.mapStateProps.height !== options.height;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.updateViewport(new MapState(options));\n      }\n\n      this._transitionManager.processViewportChange(Object.assign({}, options, {\n        onStateChange: this.setState\n      }));\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && scrollZoom);\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && (dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && (touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && doubleClickZoom);\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && keyboard);\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this2 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this2._events[eventName] !== enabled) {\n            _this2._events[eventName] = enabled;\n\n            if (enabled) {\n              _this2.eventManager.on(eventName, _this2.handleEvent);\n            } else {\n              _this2.eventManager.off(eventName, _this2.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.panStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      return this.isFunctionKeyPressed(event) || event.rightButton ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      var newMapState = this.mapState.panEnd().rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var deltaX = event.deltaX,\n          deltaY = event.deltaY;\n\n      var _this$getCenter = this.getCenter(event),\n          _this$getCenter2 = _slicedToArray(_this$getCenter, 2),\n          centerY = _this$getCenter2[1];\n\n      var startY = centerY - deltaY;\n\n      var _this$mapState$getVie = this.mapState.getViewportProps(),\n          width = _this$mapState$getVie.width,\n          height = _this$mapState$getVie.height;\n\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      var newMapState = this.mapState.rotate({\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * ZOOM_ACCEL)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isZooming: true\n      });\n\n      this._onWheelEnd();\n\n      return true;\n    }\n  }, {\n    key: \"_onWheelEnd\",\n    value: function _onWheelEnd() {\n      this.setState({\n        isZooming: false\n      });\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._state.startPinchRotation = event.rotation;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        var startPinchRotation = this._state.startPinchRotation;\n        newMapState = newMapState.rotate({\n          deltaScaleX: -(rotation - startPinchRotation) / 180\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: this.touchZoom,\n        isZooming: this.touchZoom,\n        isRotating: this.touchRotate\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - 2\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - 1\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + 2\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + 1\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - 15\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [100, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + 15\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-100, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + 10\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, 100],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - 10\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -100],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\nexport { MapController as default };","export default function debounce(func, delay) {\n  var _this;\n\n  var _arguments;\n\n  var timeout;\n\n  var executeNow = function executeNow() {\n    timeout = null;\n    return func.apply(_this, _arguments);\n  };\n\n  return function () {\n    _this = this;\n    _arguments = arguments;\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(executeNow, delay);\n  };\n}","import \"core-js/modules/es6.array.for-each\";\nvar DEPRECATED_PROPS = [{\n  old: 'onChangeViewport',\n  \"new\": 'onViewportChange'\n}, {\n  old: 'perspectiveEnabled',\n  \"new\": 'dragRotate'\n}, {\n  old: 'onHoverFeatures',\n  \"new\": 'onHover'\n}, {\n  old: 'onClickFeatures',\n  \"new\": 'onClick'\n}, {\n  old: 'touchZoomRotate',\n  \"new\": 'touchZoom, touchRotate'\n}, {\n  old: 'mapControls',\n  \"new\": 'controller'\n}];\n\nfunction getDeprecatedText(name) {\n  return \"react-map-gl: `\".concat(name, \"` is removed.\");\n}\n\nfunction getNewText(name) {\n  return \"Use `\".concat(name, \"` instead.\");\n}\n\nexport default function checkDeprecatedProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  DEPRECATED_PROPS.forEach(function (depProp) {\n    if (props.hasOwnProperty(depProp.old)) {\n      var warnMessage = getDeprecatedText(depProp.old);\n\n      if (depProp[\"new\"]) {\n        warnMessage = \"\".concat(warnMessage, \" \").concat(getNewText(depProp[\"new\"]));\n      }\n\n      console.warn(warnMessage);\n    }\n  });\n}","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport StaticMap from './static-map';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext from './map-context';\nimport { EventManager } from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport deprecateWarn from '../utils/deprecate-warn';\nvar propTypes = Object.assign({}, StaticMap.propTypes, {\n  maxZoom: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxPitch: PropTypes.number,\n  minPitch: PropTypes.number,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  transitionInterpolator: PropTypes.object,\n  transitionInterruption: PropTypes.number,\n  transitionEasing: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n  scrollZoom: PropTypes.bool,\n  dragPan: PropTypes.bool,\n  dragRotate: PropTypes.bool,\n  doubleClickZoom: PropTypes.bool,\n  touchZoom: PropTypes.bool,\n  touchRotate: PropTypes.bool,\n  keyboard: PropTypes.bool,\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n  touchAction: PropTypes.string,\n  clickRadius: PropTypes.number,\n  interactiveLayerIds: PropTypes.array,\n  getCursor: PropTypes.func,\n  controller: PropTypes.instanceOf(MapController)\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar defaultProps = Object.assign({}, StaticMap.defaultProps, MAPBOX_LIMITS, TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nvar InteractiveMap = function (_PureComponent) {\n  _inherits(InteractiveMap, _PureComponent);\n\n  var _super = _createSuper(InteractiveMap);\n\n  _createClass(InteractiveMap, null, [{\n    key: \"supported\",\n    value: function supported() {\n      return StaticMap.supported();\n    }\n  }]);\n\n  function InteractiveMap(props) {\n    var _this;\n\n    _classCallCheck(this, InteractiveMap);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isLoaded: false,\n      isDragging: false,\n      isHovering: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_controller\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_eventManager\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_interactiveContext\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_width\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_height\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_eventCanvasRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_staticMapRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"getMap\", function () {\n      return _this._staticMapRef.current ? _this._staticMapRef.current.getMap() : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"queryRenderedFeatures\", function (geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var map = _this.getMap();\n\n      return map && map.queryRenderedFeatures(geometry, options);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInteractionStateChange\", function (interactionState) {\n      var _interactionState$isD = interactionState.isDragging,\n          isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n      if (isDragging !== _this.state.isDragging) {\n        _this._updateInteractiveContext({\n          isDragging: isDragging\n        });\n\n        _this.setState({\n          isDragging: isDragging\n        });\n      }\n\n      var onInteractionStateChange = _this.props.onInteractionStateChange;\n\n      if (onInteractionStateChange) {\n        onInteractionStateChange(interactionState);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResize\", function (_ref2) {\n      var width = _ref2.width,\n          height = _ref2.height;\n      _this._width = width;\n      _this._height = height;\n\n      _this._setControllerProps(_this.props);\n\n      _this.props.onResize({\n        width: width,\n        height: height\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onViewportChange\", function (viewState, interactionState, oldViewState) {\n      var _this$props = _this.props,\n          onViewStateChange = _this$props.onViewStateChange,\n          onViewportChange = _this$props.onViewportChange;\n\n      if (onViewStateChange) {\n        onViewStateChange({\n          viewState: viewState,\n          interactionState: interactionState,\n          oldViewState: oldViewState\n        });\n      }\n\n      if (onViewportChange) {\n        onViewportChange(viewState, interactionState, oldViewState);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onLoad\", function (event) {\n      _this.setState({\n        isLoaded: true\n      });\n\n      _this.props.onLoad(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onEvent\", function (callbackName, event) {\n      var func = _this.props[callbackName];\n\n      if (func) {\n        func(_this._normalizeEvent(event));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerDown\", function (event) {\n      switch (event.pointerType) {\n        case 'touch':\n          _this._onEvent('onTouchStart', event);\n\n          break;\n\n        default:\n          _this._onEvent('onMouseDown', event);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerUp\", function (event) {\n      switch (event.pointerType) {\n        case 'touch':\n          _this._onEvent('onTouchEnd', event);\n\n          break;\n\n        default:\n          _this._onEvent('onMouseUp', event);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerMove\", function (event) {\n      switch (event.pointerType) {\n        case 'touch':\n          _this._onEvent('onTouchMove', event);\n\n          break;\n\n        default:\n          _this._onEvent('onMouseMove', event);\n\n      }\n\n      if (!_this.state.isDragging) {\n        var _this$props2 = _this.props,\n            onHover = _this$props2.onHover,\n            interactiveLayerIds = _this$props2.interactiveLayerIds;\n        var features;\n        event = _this._normalizeEvent(event);\n\n        if (_this.state.isLoaded && (interactiveLayerIds || onHover)) {\n          features = _this._getFeatures({\n            pos: event.point,\n            radius: _this.props.clickRadius\n          });\n        }\n\n        if (onHover) {\n          event.features = features;\n          onHover(event);\n        }\n\n        var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n        var isEntering = isHovering && !_this.state.isHovering;\n        var isExiting = !isHovering && _this.state.isHovering;\n\n        if (isEntering) {\n          _this._onEvent('onMouseEnter', event);\n        }\n\n        if (isExiting) {\n          _this._onEvent('onMouseLeave', event);\n        }\n\n        if (isEntering || isExiting) {\n          _this.setState({\n            isHovering: isHovering\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (event) {\n      var _this$props3 = _this.props,\n          onClick = _this$props3.onClick,\n          onNativeClick = _this$props3.onNativeClick,\n          onDblClick = _this$props3.onDblClick,\n          doubleClickZoom = _this$props3.doubleClickZoom;\n      var callbacks = [];\n      var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n      switch (event.type) {\n        case 'anyclick':\n          callbacks.push(onNativeClick);\n\n          if (!isDoubleClickEnabled) {\n            callbacks.push(onClick);\n          }\n\n          break;\n\n        case 'click':\n          if (isDoubleClickEnabled) {\n            callbacks.push(onClick);\n          }\n\n          break;\n\n        default:\n      }\n\n      callbacks = callbacks.filter(Boolean);\n\n      if (callbacks.length) {\n        event = _this._normalizeEvent(event);\n        event.features = _this._getFeatures({\n          pos: event.point,\n          radius: _this.props.clickRadius\n        });\n        callbacks.forEach(function (cb) {\n          return cb(event);\n        });\n      }\n    });\n\n    deprecateWarn(props);\n    _this._controller = props.controller || new MapController();\n    _this._eventManager = new EventManager(null, {\n      touchAction: props.touchAction\n    });\n\n    _this._updateInteractiveContext({\n      isDragging: false,\n      eventManager: _this._eventManager\n    });\n\n    return _this;\n  }\n\n  _createClass(InteractiveMap, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var eventManager = this._eventManager;\n      var mapContainer = this._eventCanvasRef.current;\n      eventManager.setElement(mapContainer);\n      eventManager.on({\n        pointerdown: this._onPointerDown,\n        pointermove: this._onPointerMove,\n        pointerup: this._onPointerUp,\n        pointerleave: this._onEvent.bind(this, 'onMouseOut'),\n        click: this._onClick,\n        anyclick: this._onClick,\n        dblclick: this._onEvent.bind(this, 'onDblClick'),\n        wheel: this._onEvent.bind(this, 'onWheel'),\n        contextmenu: this._onEvent.bind(this, 'onContextMenu')\n      });\n\n      this._setControllerProps(this.props);\n\n      this._updateInteractiveContext({\n        mapContainer: mapContainer\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._setControllerProps(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._eventManager.destroy();\n    }\n  }, {\n    key: \"_setControllerProps\",\n    value: function _setControllerProps(props) {\n      props = Object.assign({}, props, props.viewState, {\n        isInteractive: Boolean(props.onViewStateChange || props.onViewportChange),\n        onViewportChange: this._onViewportChange,\n        onStateChange: this._onInteractionStateChange,\n        eventManager: this._eventManager,\n        width: this._width,\n        height: this._height\n      });\n\n      this._controller.setOptions(props);\n\n      var context = this._interactiveContext;\n      context.onViewportChange = props.onViewportChange;\n      context.onViewStateChange = props.onViewStateChange;\n    }\n  }, {\n    key: \"_getFeatures\",\n    value: function _getFeatures(_ref3) {\n      var pos = _ref3.pos,\n          radius = _ref3.radius;\n      var features;\n      var queryParams = {};\n      var map = this.getMap();\n\n      if (this.props.interactiveLayerIds) {\n        queryParams.layers = this.props.interactiveLayerIds;\n      }\n\n      if (radius) {\n        var size = radius;\n        var bbox = [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]];\n        features = map && map.queryRenderedFeatures(bbox, queryParams);\n      } else {\n        features = map && map.queryRenderedFeatures(pos, queryParams);\n      }\n\n      return features;\n    }\n  }, {\n    key: \"_updateInteractiveContext\",\n    value: function _updateInteractiveContext(updatedContext) {\n      this._interactiveContext = Object.assign({}, this._interactiveContext, updatedContext);\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      if (event.lngLat) {\n        return event;\n      }\n\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      var pos = [x, y];\n      var viewport = new WebMercatorViewport(Object.assign({}, this.props, {\n        width: this._width,\n        height: this._height\n      }));\n      event.point = pos;\n      event.lngLat = viewport.unproject(pos);\n      return event;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          width = _this$props4.width,\n          height = _this$props4.height,\n          style = _this$props4.style,\n          getCursor = _this$props4.getCursor;\n      var eventCanvasStyle = Object.assign({\n        position: 'relative'\n      }, style, {\n        width: width,\n        height: height,\n        cursor: getCursor(this.state)\n      });\n      return React.createElement(MapContext.Provider, {\n        value: this._interactiveContext\n      }, React.createElement(\"div\", {\n        key: \"event-canvas\",\n        ref: this._eventCanvasRef,\n        style: eventCanvasStyle\n      }, React.createElement(StaticMap, _extends({}, this.props, {\n        width: \"100%\",\n        height: \"100%\",\n        style: null,\n        onResize: this._onResize,\n        onLoad: this._onLoad,\n        ref: this._staticMapRef\n      }), this.props.children)));\n    }\n  }]);\n\n  return InteractiveMap;\n}(PureComponent);\n\n_defineProperty(InteractiveMap, \"propTypes\", propTypes);\n\n_defineProperty(InteractiveMap, \"defaultProps\", defaultProps);\n\nexport { InteractiveMap as default };","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if (_typeof(a) === 'object' && _typeof(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string\n};\nvar sourceCounter = 0;\n\nvar Source = function (_PureComponent) {\n  _inherits(Source, _PureComponent);\n\n  var _super = _createSuper(Source);\n\n  function Source(_props) {\n    var _this;\n\n    _classCallCheck(this, Source);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"id\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_sourceOptions\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateSource\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          type = _assertThisInitialize.type,\n          map = _assertThisInitialize._map;\n\n      if (!map) {\n        return;\n      }\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          sourceOptions = _assertThisInitialize2._sourceOptions,\n          props = _assertThisInitialize2.props;\n\n      assert(!props.id || props.id === _this.id, 'source id changed');\n      assert(props.type === type, 'source type changed');\n      var changedKey = '';\n      var changedKeyCount = 0;\n\n      for (var key in props) {\n        if (key !== 'children' && key !== 'id' && !deepEqual(sourceOptions[key], props[key])) {\n          sourceOptions[key] = props[key];\n          changedKey = key;\n          changedKeyCount++;\n        }\n      }\n\n      var source = _this.getSource();\n\n      if (!source) {\n        _this._createSource(sourceOptions);\n\n        return;\n      }\n\n      if (!changedKeyCount) {\n        return;\n      }\n\n      if (type === 'geojson') {\n        source.setData(sourceOptions.data);\n      } else if (type === 'image') {\n        source.updateImage({\n          url: sourceOptions.url,\n          coordinates: sourceOptions.coordinates\n        });\n      } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n        source.setCoordinates(sourceOptions.coordinates);\n      } else {\n        console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n      }\n    });\n\n    _this.id = _props.id || \"jsx-source-\".concat(sourceCounter++);\n    _this.type = _props.type;\n    return _this;\n  }\n\n  _createClass(Source, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this2 = this;\n\n      var map = this._map;\n\n      if (map) {\n        map.off('styledata', this._updateSource);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded) {\n            map.removeSource(_this2.id);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource() {\n      var map = this._map;\n      return map && map.style && map.getSource(this.id);\n    }\n  }, {\n    key: \"_createSource\",\n    value: function _createSource(sourceOptions) {\n      var map = this._map;\n\n      if (map.style && map.style._loaded) {\n        map.addSource(this.id, sourceOptions);\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render(context) {\n      var _this3 = this;\n\n      if (!this._map && context.map) {\n        this._map = context.map;\n\n        this._map.on('styledata', this._updateSource);\n      }\n\n      this._updateSource();\n\n      return React.Children.map(this.props.children, function (child) {\n        return cloneElement(child, {\n          source: _this3.id\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MapContext.Consumer, null, this._render.bind(this));\n    }\n  }]);\n\n  return Source;\n}(PureComponent);\n\n_defineProperty(Source, \"propTypes\", propTypes);\n\nexport { Source as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar propTypes = {\n  type: PropTypes.string.isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevProps.layout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    for (var _key in paint) {\n      if (!deepEqual(paint[_key], prevProps.paint[_key])) {\n        map.setPaintProperty(id, _key, paint[_key]);\n      }\n    }\n  }\n\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key2 in otherProps) {\n    if (!deepEqual(otherProps[_key2], prevProps[_key2])) {\n      map.setLayerProperty(id, _key2, otherProps[_key2]);\n    }\n  }\n}\n\nvar layerCounter = 0;\n\nvar Layer = function (_PureComponent) {\n  _inherits(Layer, _PureComponent);\n\n  var _super = _createSuper(Layer);\n\n  function Layer(_props) {\n    var _this;\n\n    _classCallCheck(this, Layer);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"id\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_map\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_layerOptions\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateLayer\", function () {\n      var map = _this._map;\n\n      if (!map) {\n        return;\n      }\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props,\n          layerOptions = _assertThisInitialize._layerOptions;\n\n      assert(!props.id || props.id === _this.id, 'layer id changed');\n      assert(props.type === _this.type, 'layer type changed');\n\n      if (!_this.getLayer()) {\n        _this._createLayer();\n\n        return;\n      }\n\n      try {\n        diffLayerStyles(map, _this.id, props, layerOptions);\n        Object.assign(layerOptions, props);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n\n    _this.id = _props.id || \"jsx-layer-\".concat(layerCounter++);\n    _this.type = _props.type;\n    return _this;\n  }\n\n  _createClass(Layer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._updateLayer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._updateLayer();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var map = this._map;\n\n      if (map) {\n        map.off('styledata', this._updateLayer);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(this.id);\n        }\n      }\n    }\n  }, {\n    key: \"getLayer\",\n    value: function getLayer() {\n      var map = this._map;\n      return map && map.style && map.getLayer(this.id);\n    }\n  }, {\n    key: \"_createLayer\",\n    value: function _createLayer() {\n      var map = this._map;\n\n      if (map.style && map.style._loaded) {\n        var options = Object.assign({}, this.props);\n        options.id = this.id;\n        delete options.beforeId;\n        map.addLayer(options, this.props.beforeId);\n        this._layerOptions = options;\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render(context) {\n      if (!this._map && context.map) {\n        this._map = context.map;\n\n        this._map.on('styledata', this._updateLayer);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MapContext.Consumer, null, this._render.bind(this));\n    }\n  }]);\n\n  return Layer;\n}(PureComponent);\n\n_defineProperty(Layer, \"propTypes\", propTypes);\n\nexport { Layer as default };","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport MapContext from './map-context';\nvar propTypes = {\n  captureScroll: PropTypes.bool,\n  captureDrag: PropTypes.bool,\n  captureClick: PropTypes.bool,\n  captureDoubleClick: PropTypes.bool\n};\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true\n};\n\nvar BaseControl = function (_PureComponent) {\n  _inherits(BaseControl, _PureComponent);\n\n  var _super = _createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    _classCallCheck(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_context\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_events\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (evt) {\n      if (_this.props.captureScroll) {\n        evt.stopPropagation();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (evt) {\n      if (_this.props.captureDrag) {\n        evt.stopPropagation();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDblClick\", function (evt) {\n      if (_this.props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {\n      if (_this.props.captureClick) {\n        evt.stopPropagation();\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(BaseControl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ref = this._containerRef.current;\n\n      if (!ref) {\n        return;\n      }\n\n      var eventManager = this._context.eventManager;\n\n      if (eventManager) {\n        this._events = {\n          wheel: this._onScroll,\n          panstart: this._onDragStart,\n          anyclick: this._onClick,\n          click: this._onClick,\n          dblclick: this._onDblClick\n        };\n        eventManager.watch(this._events, ref);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var eventManager = this._context.eventManager;\n\n      if (eventManager && this._events) {\n        eventManager.off(this._events);\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(MapContext.Consumer, null, function (context) {\n        _this2._context = context;\n        return _this2._render();\n      });\n    }\n  }]);\n\n  return BaseControl;\n}(PureComponent);\n\n_defineProperty(BaseControl, \"propTypes\", propTypes);\n\n_defineProperty(BaseControl, \"defaultProps\", defaultProps);\n\nexport { BaseControl as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nvar DraggableControl = function (_BaseControl) {\n  _inherits(DraggableControl, _BaseControl);\n\n  var _super = _createSuper(DraggableControl);\n\n  function DraggableControl() {\n    var _this;\n\n    _classCallCheck(this, DraggableControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragPos: null,\n      dragOffset: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragEvents\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (event) {\n      var _this$props = _this.props,\n          draggable = _this$props.draggable,\n          captureDrag = _this$props.captureDrag;\n\n      if (draggable || captureDrag) {\n        event.stopPropagation();\n      }\n\n      if (!draggable) {\n        return;\n      }\n\n      var dragPos = _this._getDragEventPosition(event);\n\n      var dragOffset = _this._getDragEventOffset(event);\n\n      _this.setState({\n        dragPos: dragPos,\n        dragOffset: dragOffset\n      });\n\n      _this._setupDragEvents();\n\n      var onDragStart = _this.props.onDragStart;\n\n      if (onDragStart && dragOffset) {\n        var callbackEvent = Object.assign({}, event);\n        callbackEvent.lngLat = _this._getDragLngLat(dragPos, dragOffset);\n        onDragStart(callbackEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrag\", function (event) {\n      event.stopPropagation();\n\n      var dragPos = _this._getDragEventPosition(event);\n\n      _this.setState({\n        dragPos: dragPos\n      });\n\n      var onDrag = _this.props.onDrag;\n      var dragOffset = _this.state.dragOffset;\n\n      if (onDrag && dragOffset) {\n        var callbackEvent = Object.assign({}, event);\n        callbackEvent.lngLat = _this._getDragLngLat(dragPos, dragOffset);\n        onDrag(callbackEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", function (event) {\n      var _this$state = _this.state,\n          dragPos = _this$state.dragPos,\n          dragOffset = _this$state.dragOffset;\n      event.stopPropagation();\n\n      _this.setState({\n        dragPos: null,\n        dragOffset: null\n      });\n\n      _this._removeDragEvents();\n\n      var onDragEnd = _this.props.onDragEnd;\n\n      if (onDragEnd && dragPos && dragOffset) {\n        var callbackEvent = Object.assign({}, event);\n        callbackEvent.lngLat = _this._getDragLngLat(dragPos, dragOffset);\n        onDragEnd(callbackEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragCancel\", function (event) {\n      event.stopPropagation();\n\n      _this.setState({\n        dragPos: null,\n        dragOffset: null\n      });\n\n      _this._removeDragEvents();\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableControl, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _get(_getPrototypeOf(DraggableControl.prototype), \"componentWillUnmount\", this).call(this);\n\n      this._removeDragEvents();\n    }\n  }, {\n    key: \"_setupDragEvents\",\n    value: function _setupDragEvents() {\n      var eventManager = this._context.eventManager;\n\n      if (!eventManager) {\n        return;\n      }\n\n      this._dragEvents = {\n        panmove: this._onDrag,\n        panend: this._onDragEnd,\n        pancancel: this._onDragCancel\n      };\n      eventManager.on(this._dragEvents);\n    }\n  }, {\n    key: \"_removeDragEvents\",\n    value: function _removeDragEvents() {\n      var eventManager = this._context.eventManager;\n\n      if (!eventManager || !this._dragEvents) {\n        return;\n      }\n\n      eventManager.off(this._dragEvents);\n      this._dragEvents = null;\n    }\n  }, {\n    key: \"_getDragEventPosition\",\n    value: function _getDragEventPosition(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"_getDragEventOffset\",\n    value: function _getDragEventOffset(event) {\n      var _event$center = event.center,\n          x = _event$center.x,\n          y = _event$center.y;\n      var container = this._containerRef.current;\n\n      if (container) {\n        var rect = container.getBoundingClientRect();\n        return [rect.left - x, rect.top - y];\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_getDraggedPosition\",\n    value: function _getDraggedPosition(dragPos, dragOffset) {\n      return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n    }\n  }, {\n    key: \"_getDragLngLat\",\n    value: function _getDragLngLat(dragPos, dragOffset) {\n      var _this$props2 = this.props,\n          offsetLeft = _this$props2.offsetLeft,\n          offsetTop = _this$props2.offsetTop;\n\n      var _this$_getDraggedPosi = this._getDraggedPosition(dragPos, dragOffset),\n          _this$_getDraggedPosi2 = _slicedToArray(_this$_getDraggedPosi, 2),\n          x = _this$_getDraggedPosi2[0],\n          y = _this$_getDraggedPosi2[1];\n\n      return this._context.viewport.unproject([x - offsetLeft, y - offsetTop]);\n    }\n  }]);\n\n  return DraggableControl;\n}(BaseControl);\n\n_defineProperty(DraggableControl, \"propTypes\", propTypes);\n\n_defineProperty(DraggableControl, \"defaultProps\", defaultProps);\n\nexport { DraggableControl as default };","var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nexport var crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nexport var crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport DraggableControl from './draggable-control';\nimport { crispPixel } from '../utils/crisp-pixel';\nvar propTypes = Object.assign({}, DraggableControl.propTypes, {\n  className: PropTypes.string,\n  longitude: PropTypes.number.isRequired,\n  latitude: PropTypes.number.isRequired\n});\nvar defaultProps = Object.assign({}, DraggableControl.defaultProps, {\n  className: ''\n});\n\nvar Marker = function (_DraggableControl) {\n  _inherits(Marker, _DraggableControl);\n\n  var _super = _createSuper(Marker);\n\n  function Marker() {\n    var _this;\n\n    _classCallCheck(this, Marker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_control\", null);\n\n    return _this;\n  }\n\n  _createClass(Marker, [{\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var _this$props = this.props,\n          longitude = _this$props.longitude,\n          latitude = _this$props.latitude,\n          offsetLeft = _this$props.offsetLeft,\n          offsetTop = _this$props.offsetTop;\n      var _this$state = this.state,\n          dragPos = _this$state.dragPos,\n          dragOffset = _this$state.dragOffset;\n\n      if (dragPos && dragOffset) {\n        return this._getDraggedPosition(dragPos, dragOffset);\n      }\n\n      var _this$_context$viewpo = this._context.viewport.project([longitude, latitude]),\n          _this$_context$viewpo2 = _slicedToArray(_this$_context$viewpo, 2),\n          x = _this$_context$viewpo2[0],\n          y = _this$_context$viewpo2[1];\n\n      x += offsetLeft;\n      y += offsetTop;\n      return [x, y];\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      var _this$_getPosition = this._getPosition(),\n          _this$_getPosition2 = _slicedToArray(_this$_getPosition, 2),\n          x = _this$_getPosition2[0],\n          y = _this$_getPosition2[1];\n\n      var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n      var div = this._containerRef.current;\n\n      if (this._control && div) {\n        div.style.transform = transform;\n      } else {\n        var _this$props2 = this.props,\n            className = _this$props2.className,\n            draggable = _this$props2.draggable;\n        var dragPos = this.state.dragPos;\n        var containerStyle = {\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          transform: transform,\n          cursor: draggable ? dragPos ? 'grabbing' : 'grab' : 'auto'\n        };\n        this._control = React.createElement(\"div\", {\n          className: \"mapboxgl-marker \".concat(className),\n          ref: this._containerRef,\n          style: containerStyle\n        }, this.props.children);\n      }\n\n      return this._control;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this._control = null;\n      return _get(_getPrototypeOf(Marker.prototype), \"render\", this).call(this);\n    }\n  }]);\n\n  return Marker;\n}(DraggableControl);\n\n_defineProperty(Marker, \"propTypes\", propTypes);\n\n_defineProperty(Marker, \"defaultProps\", defaultProps);\n\nexport { Marker as default };","import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.string.anchor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nexport var ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nexport function getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var yStep = 0.5;\n\n  if (top < padding) {\n    while (top < padding && anchorY >= yStep) {\n      anchorY -= yStep;\n      top += yStep * selfHeight;\n    }\n  } else if (bottom > height - padding) {\n    while (bottom > height - padding && anchorY <= 1 - yStep) {\n      anchorY += yStep;\n      bottom -= yStep * selfHeight;\n    }\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  if (left < padding) {\n    while (left < padding && anchorX >= xStep) {\n      anchorX -= xStep;\n      left += xStep * selfWidth;\n    }\n  } else if (right > width - padding) {\n    while (right > width - padding && anchorX <= 1 - xStep) {\n      anchorX += xStep;\n      right -= xStep * selfWidth;\n    }\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}","import \"core-js/modules/es6.string.anchor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\nimport { getDynamicPosition, ANCHOR_POSITION } from '../utils/dynamic-position';\nimport { crispPercentage, crispPixel } from '../utils/crisp-pixel';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  className: PropTypes.string,\n  longitude: PropTypes.number.isRequired,\n  latitude: PropTypes.number.isRequired,\n  altitude: PropTypes.number,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number,\n  tipSize: PropTypes.number,\n  closeButton: PropTypes.bool,\n  closeOnClick: PropTypes.bool,\n  anchor: PropTypes.oneOf(Object.keys(ANCHOR_POSITION)),\n  dynamicPosition: PropTypes.bool,\n  sortByDepth: PropTypes.bool,\n  onClose: PropTypes.func\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  className: '',\n  altitude: 0,\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nvar Popup = function (_BaseControl) {\n  _inherits(Popup, _BaseControl);\n\n  var _super = _createSuper(Popup);\n\n  function Popup() {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeOnClick\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_contentRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {\n      if (_this.props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (_this.props.closeOnClick || evt.target.className === 'mapboxgl-popup-close-button') {\n        _this.props.onClose();\n\n        var eventManager = _this._context.eventManager;\n\n        if (eventManager) {\n          eventManager.once('click', function (e) {\n            return e.stopPropagation();\n          }, evt.target);\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _get(_getPrototypeOf(Popup.prototype), \"componentDidMount\", this).call(this);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition(x, y) {\n      var viewport = this._context.viewport;\n      var _this$props = this.props,\n          anchor = _this$props.anchor,\n          dynamicPosition = _this$props.dynamicPosition,\n          tipSize = _this$props.tipSize;\n      var content = this._contentRef.current;\n\n      if (content) {\n        return dynamicPosition ? getDynamicPosition({\n          x: x,\n          y: y,\n          anchor: anchor,\n          padding: tipSize,\n          width: viewport.width,\n          height: viewport.height,\n          selfWidth: content.clientWidth,\n          selfHeight: content.clientHeight\n        }) : anchor;\n      }\n\n      return anchor;\n    }\n  }, {\n    key: \"_getContainerStyle\",\n    value: function _getContainerStyle(x, y, z, positionType) {\n      var viewport = this._context.viewport;\n      var _this$props2 = this.props,\n          offsetLeft = _this$props2.offsetLeft,\n          offsetTop = _this$props2.offsetTop,\n          sortByDepth = _this$props2.sortByDepth;\n      var anchorPosition = ANCHOR_POSITION[positionType];\n      var left = x + offsetLeft;\n      var top = y + offsetTop;\n      var el = this._containerRef.current;\n      var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n      var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n      var style = {\n        position: 'absolute',\n        transform: \"\\n        translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n        translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n      \"),\n        display: undefined,\n        zIndex: undefined\n      };\n\n      if (!sortByDepth) {\n        return style;\n      }\n\n      if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n        style.display = 'none';\n      } else {\n        style.zIndex = Math.floor((1 - z) / 2 * 100000);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"_renderTip\",\n    value: function _renderTip(positionType) {\n      var tipSize = this.props.tipSize;\n      return React.createElement(\"div\", {\n        key: \"tip\",\n        className: \"mapboxgl-popup-tip\",\n        style: {\n          borderWidth: tipSize\n        }\n      });\n    }\n  }, {\n    key: \"_renderContent\",\n    value: function _renderContent() {\n      var _this$props3 = this.props,\n          closeButton = _this$props3.closeButton,\n          children = _this$props3.children;\n      var onClick = this._context.eventManager ? null : this._onClick;\n      return React.createElement(\"div\", {\n        key: \"content\",\n        ref: this._contentRef,\n        className: \"mapboxgl-popup-content\",\n        onClick: onClick\n      }, closeButton && React.createElement(\"button\", {\n        key: \"close-button\",\n        className: \"mapboxgl-popup-close-button\",\n        type: \"button\"\n      }, \"\\xD7\"), children);\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          longitude = _this$props4.longitude,\n          latitude = _this$props4.latitude,\n          altitude = _this$props4.altitude;\n\n      var _this$_context$viewpo = this._context.viewport.project([longitude, latitude, altitude]),\n          _this$_context$viewpo2 = _slicedToArray(_this$_context$viewpo, 3),\n          x = _this$_context$viewpo2[0],\n          y = _this$_context$viewpo2[1],\n          z = _this$_context$viewpo2[2];\n\n      var positionType = this._getPosition(x, y);\n\n      var containerStyle = this._getContainerStyle(x, y, z, positionType);\n\n      return React.createElement(\"div\", {\n        className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n        style: containerStyle,\n        ref: this._containerRef\n      }, this._renderTip(positionType), this._renderContent());\n    }\n  }]);\n\n  return Popup;\n}(BaseControl);\n\n_defineProperty(Popup, \"propTypes\", propTypes);\n\n_defineProperty(Popup, \"defaultProps\", defaultProps);\n\nexport { Popup as default };","import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport { document } from '../utils/globals';\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\nimport * as React from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  className: PropTypes.string,\n  container: PropTypes.object\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  className: '',\n  container: null\n});\n\nvar FullscreenControl = function (_BaseControl) {\n  _inherits(FullscreenControl, _BaseControl);\n\n  var _super = _createSuper(FullscreenControl);\n\n  function FullscreenControl() {\n    var _this;\n\n    _classCallCheck(this, FullscreenControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFullscreen: false,\n      showButton: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapboxFullscreenControl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFullscreenChange\", function () {\n      var nextState = !_this._mapboxFullscreenControl._fullscreen;\n      _this._mapboxFullscreenControl._fullscreen = nextState;\n\n      _this.setState({\n        isFullscreen: nextState\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClickFullscreen\", function () {\n      _this._mapboxFullscreenControl._onClickFullscreen();\n    });\n\n    return _this;\n  }\n\n  _createClass(FullscreenControl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var container = this.props.container || this._context.mapContainer;\n      this._mapboxFullscreenControl = new mapboxgl.FullscreenControl({\n        container: container\n      });\n      this.setState({\n        showButton: this._mapboxFullscreenControl._checkFullscreenSupport()\n      });\n      document.addEventListener(this._mapboxFullscreenControl._fullscreenchange, this._onFullscreenChange);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(this._mapboxFullscreenControl._fullscreenchange, this._onFullscreenChange);\n    }\n  }, {\n    key: \"_renderButton\",\n    value: function _renderButton(type, label, callback) {\n      return React.createElement(\"button\", {\n        key: type,\n        className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n        type: \"button\",\n        title: label,\n        onClick: callback\n      }, React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-icon\",\n        \"aria-hidden\": \"true\"\n      }));\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      if (!this.state.showButton) {\n        return null;\n      }\n\n      var className = this.props.className;\n      var isFullscreen = this.state.isFullscreen;\n      var type = isFullscreen ? 'shrink' : 'fullscreen';\n      return React.createElement(\"div\", {\n        className: \"mapboxgl-ctrl mapboxgl-ctrl-group \".concat(className),\n        ref: this._containerRef\n      }, this._renderButton(type, 'Toggle fullscreen', this._onClickFullscreen));\n    }\n  }]);\n\n  return FullscreenControl;\n}(BaseControl);\n\n_defineProperty(FullscreenControl, \"propTypes\", propTypes);\n\n_defineProperty(FullscreenControl, \"defaultProps\", defaultProps);\n\nexport { FullscreenControl as default };","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nvar supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport mapboxgl from '../utils/mapboxgl';\nimport BaseControl from './base-control';\nimport Marker from './marker';\nimport MapState from '../utils/map-state';\nimport TransitionManager from '../utils/transition-manager';\nimport { isGeolocationSupported } from '../utils/geolocate-utils';\nvar LINEAR_TRANSITION_PROPS = Object.assign({}, TransitionManager.defaultProps, {\n  transitionDuration: 500\n});\n\nvar noop = function noop() {};\n\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  label: PropTypes.string,\n  auto: PropTypes.bool,\n  positionOptions: PropTypes.object,\n  fitBoundsOptions: PropTypes.object,\n  trackUserLocation: PropTypes.bool,\n  showUserLocation: PropTypes.bool,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onGeolocate: PropTypes.func\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  className: '',\n  style: {},\n  label: 'Geolocate',\n  auto: false,\n  positionOptions: null,\n  fitBoundsOptions: null,\n  trackUserLocation: false,\n  showUserLocation: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nvar GeolocateControl = function (_BaseControl) {\n  _inherits(GeolocateControl, _BaseControl);\n\n  var _super = _createSuper(GeolocateControl);\n\n  function GeolocateControl() {\n    var _this;\n\n    _classCallCheck(this, GeolocateControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      supportsGeolocation: false,\n      markerPosition: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapboxGeolocateControl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_geolocateButtonRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_setupMapboxGeolocateControl\", function (supportsGeolocation) {\n      if (!supportsGeolocation) {\n        console.warn('Geolocation support is not available, the GeolocateControl will not be visible.');\n        return;\n      }\n\n      var controlOptions = {\n        showUserLocation: false\n      };\n      ['positionOptions', 'fitBoundsOptions', 'trackUserLocation'].forEach(function (prop) {\n        if (prop in _this.props && _this.props[prop] !== null) {\n          controlOptions[prop] = _this.props[prop];\n        }\n      });\n      var control = new mapboxgl.GeolocateControl(controlOptions);\n      _this._mapboxGeolocateControl = control;\n      control._watchState = 'OFF';\n      control._geolocateButton = _this._geolocateButtonRef.current;\n\n      if (control.options.trackUserLocation && control._geolocateButton) {\n        control._geolocateButton.setAttribute('aria-pressed', 'false');\n      }\n\n      control._updateMarker = _this._updateMarker;\n      control._updateCamera = _this._updateCamera;\n      control._setup = true;\n      var eventManager = _this._context.eventManager;\n\n      if (control.options.trackUserLocation && eventManager) {\n        eventManager.on('panstart', function () {\n          if (control._watchState === 'ACTIVE_LOCK') {\n            control._watchState = 'BACKGROUND';\n\n            control._geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n\n            control._geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n          }\n        });\n      }\n\n      control.on('geolocate', _this.props.onGeolocate);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_triggerGeolocate\", function () {\n      var control = _this._mapboxGeolocateControl;\n      control._map = _this._context.map;\n\n      if (_this.props.showUserLocation) {\n        control.on('geolocate', _this._updateMarker);\n        control.on('trackuserlocationend', _this._updateMarker);\n      }\n\n      return _this._mapboxGeolocateControl.trigger();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateMarker\", function (position) {\n      if (position) {\n        _this.setState({\n          markerPosition: position.coords\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getBounds\", function (position) {\n      var center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n      var radius = position.coords.accuracy;\n      var bounds = center.toBounds(radius);\n      return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateCamera\", function (position) {\n      var viewport = _this._context.viewport;\n\n      var bounds = _this._getBounds(position);\n\n      var _WebMercatorViewport$ = new WebMercatorViewport(viewport).fitBounds(bounds),\n          longitude = _WebMercatorViewport$.longitude,\n          latitude = _WebMercatorViewport$.latitude,\n          zoom = _WebMercatorViewport$.zoom;\n\n      var newViewState = Object.assign({}, viewport, {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n      var mapState = new MapState(newViewState);\n      var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n      var onViewportChange = _this.props.onViewportChange || _this._context.onViewportChange || noop;\n      var onViewStateChange = _this.props.onViewStateChange || _this._context.onViewStateChange || noop;\n      onViewStateChange({\n        viewState: viewState\n      });\n      onViewportChange(viewState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderButton\", function (type, label, callback) {\n      return React.createElement(\"button\", {\n        key: type,\n        className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n        ref: _this._geolocateButtonRef,\n        type: \"button\",\n        title: label,\n        onClick: callback\n      }, React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-icon\",\n        \"aria-hidden\": \"true\"\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderMarker\", function () {\n      var markerPosition = _this.state.markerPosition;\n      var showUserLocation = _this.props.showUserLocation;\n\n      if (!markerPosition || !showUserLocation) {\n        return null;\n      }\n\n      return React.createElement(Marker, {\n        key: \"location-maker\",\n        className: \"mapboxgl-user-location-dot\",\n        longitude: markerPosition.longitude,\n        latitude: markerPosition.latitude,\n        onContextMenu: function onContextMenu(e) {\n          return e.preventDefault();\n        },\n        captureDrag: false,\n        captureDoubleClick: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(GeolocateControl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      isGeolocationSupported().then(function (result) {\n        _this2.setState({\n          supportsGeolocation: result\n        });\n\n        _this2._setupMapboxGeolocateControl(result);\n\n        if (result && _this2.props.auto) {\n          _this2._triggerGeolocate();\n        }\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.state.supportsGeolocation && !prevProps.auto && this.props.auto) {\n        this._triggerGeolocate();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._mapboxGeolocateControl) {\n        var geolocationWatchID = this._mapboxGeolocateControl._geolocationWatchID;\n\n        if (geolocationWatchID !== undefined) {\n          window.navigator.geolocation.clearWatch(geolocationWatchID);\n          this._mapboxGeolocateControl._geolocationWatchID = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      if (!this.state.supportsGeolocation) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          style = _this$props.style,\n          label = _this$props.label;\n      return React.createElement(\"div\", null, this._renderMarker(), React.createElement(\"div\", {\n        key: \"geolocate-control\",\n        className: \"mapboxgl-ctrl mapboxgl-ctrl-group \".concat(className),\n        ref: this._containerRef,\n        style: style,\n        onContextMenu: function onContextMenu(e) {\n          return e.preventDefault();\n        }\n      }, this._renderButton('geolocate', label, this._triggerGeolocate)));\n    }\n  }]);\n\n  return GeolocateControl;\n}(BaseControl);\n\n_defineProperty(GeolocateControl, \"propTypes\", propTypes);\n\n_defineProperty(GeolocateControl, \"defaultProps\", defaultProps);\n\nexport { GeolocateControl as default };","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport deprecateWarn from '../utils/deprecate-warn';\nimport { compareVersions } from '../utils/version';\n\nvar noop = function noop() {};\n\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  className: PropTypes.string,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  showCompass: PropTypes.bool,\n  showZoom: PropTypes.bool,\n  zoomInLabel: PropTypes.string,\n  zoomOutLabel: PropTypes.string,\n  compassLabel: PropTypes.string\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nvar NavigationControl = function (_BaseControl) {\n  _inherits(NavigationControl, _BaseControl);\n\n  var _super = _createSuper(NavigationControl);\n\n  function NavigationControl(props) {\n    var _this;\n\n    _classCallCheck(this, NavigationControl);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_uiVersion\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onZoomIn\", function () {\n      _this._updateViewport({\n        zoom: _this._context.viewport.zoom + 1\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onZoomOut\", function () {\n      _this._updateViewport({\n        zoom: _this._context.viewport.zoom - 1\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onResetNorth\", function () {\n      _this._updateViewport({\n        bearing: 0,\n        pitch: 0\n      });\n    });\n\n    deprecateWarn(props);\n    return _this;\n  }\n\n  _createClass(NavigationControl, [{\n    key: \"_updateViewport\",\n    value: function _updateViewport(opts) {\n      var viewport = this._context.viewport;\n      var mapState = new MapState(Object.assign({}, viewport, opts));\n      var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n      var onViewportChange = this.props.onViewportChange || this._context.onViewportChange || noop;\n      var onViewStateChange = this.props.onViewStateChange || this._context.onViewStateChange || noop;\n      onViewStateChange({\n        viewState: viewState\n      });\n      onViewportChange(viewState);\n    }\n  }, {\n    key: \"_renderCompass\",\n    value: function _renderCompass() {\n      var bearing = this._context.viewport.bearing;\n      var style = {\n        transform: \"rotate(\".concat(-bearing, \"deg)\")\n      };\n      return this._uiVersion === VERSION_1_6 ? React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-icon\",\n        \"aria-hidden\": \"true\",\n        style: style\n      }) : React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-compass-arrow\",\n        style: style\n      });\n    }\n  }, {\n    key: \"_renderButton\",\n    value: function _renderButton(type, label, callback, children) {\n      return React.createElement(\"button\", {\n        key: type,\n        className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n        type: \"button\",\n        title: label,\n        onClick: callback\n      }, children || React.createElement(\"span\", {\n        className: \"mapboxgl-ctrl-icon\",\n        \"aria-hidden\": \"true\"\n      }));\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          showCompass = _this$props.showCompass,\n          showZoom = _this$props.showZoom,\n          zoomInLabel = _this$props.zoomInLabel,\n          zoomOutLabel = _this$props.zoomOutLabel,\n          compassLabel = _this$props.compassLabel;\n\n      if (!this._uiVersion) {\n        var map = this._context.map;\n        this._uiVersion = map ? getUIVersion(map.version) : VERSION_1_6;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"mapboxgl-ctrl mapboxgl-ctrl-group \".concat(className),\n        ref: this._containerRef\n      }, showZoom && this._renderButton('zoom-in', zoomInLabel, this._onZoomIn), showZoom && this._renderButton('zoom-out', zoomOutLabel, this._onZoomOut), showCompass && this._renderButton('compass', compassLabel, this._onResetNorth, this._renderCompass()));\n    }\n  }]);\n\n  return NavigationControl;\n}(BaseControl);\n\n_defineProperty(NavigationControl, \"propTypes\", propTypes);\n\n_defineProperty(NavigationControl, \"defaultProps\", defaultProps);\n\nexport { NavigationControl as default };","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nexport function compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from './base-control';\nimport mapboxgl from '../utils/mapboxgl';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  maxWidth: PropTypes.number,\n  unit: PropTypes.oneOf(['imperial', 'metric', 'nautical'])\n});\nvar defaultProps = Object.assign({}, BaseControl.defaultProps, {\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nvar ScaleControl = function (_BaseControl) {\n  _inherits(ScaleControl, _BaseControl);\n\n  var _super = _createSuper(ScaleControl);\n\n  function ScaleControl() {\n    var _this;\n\n    _classCallCheck(this, ScaleControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_control\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mapboxScaleControl\", null);\n\n    return _this;\n  }\n\n  _createClass(ScaleControl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var mapboxScaleControl = new mapboxgl.ScaleControl();\n      mapboxScaleControl._map = this._context.map;\n      mapboxScaleControl._container = this._containerRef.current;\n      this._mapboxScaleControl = mapboxScaleControl;\n\n      this._update();\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var mapboxScaleControl = this._mapboxScaleControl;\n\n      if (mapboxScaleControl) {\n        mapboxScaleControl.options = this.props;\n\n        mapboxScaleControl._onMove();\n      }\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      this._control = this._control || React.createElement(\"div\", {\n        ref: this._containerRef,\n        className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n      });\n\n      this._update();\n\n      return this._control;\n    }\n  }]);\n\n  return ScaleControl;\n}(BaseControl);\n\n_defineProperty(ScaleControl, \"propTypes\", propTypes);\n\n_defineProperty(ScaleControl, \"defaultProps\", defaultProps);\n\nexport { ScaleControl as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from '../components/base-control';\nimport { window } from '../utils/globals';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  redraw: PropTypes.func.isRequired\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false\n};\n\nvar CanvasOverlay = function (_BaseControl) {\n  _inherits(CanvasOverlay, _BaseControl);\n\n  var _super = _createSuper(CanvasOverlay);\n\n  function CanvasOverlay() {\n    var _this;\n\n    _classCallCheck(this, CanvasOverlay);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_ctx\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_redraw\", function () {\n      var ctx = _this._ctx;\n\n      if (!ctx) {\n        return;\n      }\n\n      var pixelRatio = window.devicePixelRatio || 1;\n      ctx.save();\n      ctx.scale(pixelRatio, pixelRatio);\n      var _this$_context = _this._context,\n          viewport = _this$_context.viewport,\n          isDragging = _this$_context.isDragging;\n\n      _this.props.redraw({\n        width: viewport.width,\n        height: viewport.height,\n        ctx: ctx,\n        isDragging: isDragging,\n        project: viewport.project.bind(viewport),\n        unproject: viewport.unproject.bind(viewport)\n      });\n\n      ctx.restore();\n    });\n\n    return _this;\n  }\n\n  _createClass(CanvasOverlay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var canvas = this._containerRef.current;\n\n      if (canvas) {\n        this._canvas = canvas;\n        this._ctx = canvas.getContext('2d');\n      }\n\n      this._redraw();\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      var pixelRatio = window.devicePixelRatio || 1;\n      var _this$_context$viewpo = this._context.viewport,\n          width = _this$_context$viewpo.width,\n          height = _this$_context$viewpo.height;\n\n      this._redraw();\n\n      return React.createElement(\"canvas\", {\n        ref: this._containerRef,\n        width: width * pixelRatio,\n        height: height * pixelRatio,\n        style: {\n          width: \"\".concat(width, \"px\"),\n          height: \"\".concat(height, \"px\"),\n          position: 'absolute',\n          left: 0,\n          top: 0\n        }\n      });\n    }\n  }]);\n\n  return CanvasOverlay;\n}(BaseControl);\n\n_defineProperty(CanvasOverlay, \"propTypes\", propTypes);\n\n_defineProperty(CanvasOverlay, \"defaultProps\", defaultProps);\n\nexport { CanvasOverlay as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from '../components/base-control';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  redraw: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false\n};\n\nvar HTMLOverlay = function (_BaseControl) {\n  _inherits(HTMLOverlay, _BaseControl);\n\n  var _super = _createSuper(HTMLOverlay);\n\n  function HTMLOverlay() {\n    _classCallCheck(this, HTMLOverlay);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HTMLOverlay, [{\n    key: \"_render\",\n    value: function _render() {\n      var _this$_context = this._context,\n          viewport = _this$_context.viewport,\n          isDragging = _this$_context.isDragging;\n      var style = Object.assign({\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: viewport.width,\n        height: viewport.height\n      }, this.props.style);\n      return React.createElement(\"div\", {\n        ref: this._containerRef,\n        style: style\n      }, this.props.redraw({\n        width: viewport.width,\n        height: viewport.height,\n        isDragging: isDragging,\n        project: viewport.project.bind(viewport),\n        unproject: viewport.unproject.bind(viewport)\n      }));\n    }\n  }]);\n\n  return HTMLOverlay;\n}(BaseControl);\n\n_defineProperty(HTMLOverlay, \"propTypes\", propTypes);\n\n_defineProperty(HTMLOverlay, \"defaultProps\", defaultProps);\n\nexport { HTMLOverlay as default };","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BaseControl from '../components/base-control';\nvar propTypes = Object.assign({}, BaseControl.propTypes, {\n  redraw: PropTypes.func.isRequired,\n  style: PropTypes.object\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false\n};\n\nvar SVGOverlay = function (_BaseControl) {\n  _inherits(SVGOverlay, _BaseControl);\n\n  var _super = _createSuper(SVGOverlay);\n\n  function SVGOverlay() {\n    _classCallCheck(this, SVGOverlay);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SVGOverlay, [{\n    key: \"_render\",\n    value: function _render() {\n      var _this$_context = this._context,\n          viewport = _this$_context.viewport,\n          isDragging = _this$_context.isDragging;\n      var style = Object.assign({\n        position: 'absolute',\n        left: 0,\n        top: 0\n      }, this.props.style);\n      return React.createElement(\"svg\", {\n        width: viewport.width,\n        height: viewport.height,\n        ref: this._containerRef,\n        style: style\n      }, this.props.redraw({\n        width: viewport.width,\n        height: viewport.height,\n        isDragging: isDragging,\n        project: viewport.project.bind(viewport),\n        unproject: viewport.unproject.bind(viewport)\n      }));\n    }\n  }]);\n\n  return SVGOverlay;\n}(BaseControl);\n\n_defineProperty(SVGOverlay, \"propTypes\", propTypes);\n\n_defineProperty(SVGOverlay, \"defaultProps\", defaultProps);\n\nexport { SVGOverlay as default };","import mapboxgl from './mapboxgl';\nvar setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : function () {};\nexport default setRTLTextPlugin;","import React, {Component} from 'react';\r\nimport DeckGL, {ScatterplotLayer} from 'deck.gl';\r\nimport {StaticMap} from 'react-map-gl';\r\nimport {fetchData} from '../api';\r\n\r\nclass Mapbox extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            hoveredFeature: null,\r\n            viewport: {\r\n                longitude: -93.1669,\r\n                latitude: 44.8041,\r\n                zoom: 4,\r\n                bear: 0,\r\n                pitch: 0,\r\n                maxZoom: 8\r\n            }\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({\r\n            layer: new ScatterplotLayer({\r\n                id: 'covid-cases',\r\n                data: await fetchData(),\r\n                stroked: false,\r\n                filled: true,\r\n                getPosition: d => d.coordinates,\r\n                getRadius: d => Math.sqrt(d.cases) * 500,\r\n                getFillColor: [255, 200, 0]\r\n            })\r\n        });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.layer);\r\n        return (\r\n            <DeckGL\r\n                initialViewState={this.state.viewport}\r\n                style={{position: 'relative', textAlign: 'center'}}\r\n                width={'100%'}\r\n                height={'100%'}\r\n                controller={true}\r\n                layers={this.state.layer}\r\n                onHover={this._onHover}\r\n            >\r\n                <StaticMap\r\n                    mapStyle={'mapbox://styles/mapbox/dark-v10'}\r\n                    mapboxApiAccessToken={process.env.MAPBOX_ACCESS_TOKEN}/>>\r\n            </DeckGL>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Mapbox;","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\n\n\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.date.to-iso-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n}\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\n\n\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","import axios from 'axios';\r\n\r\n// api_url = 'https://documenter.getpostman.com/view/11144369/Szf6Z9B3?version=latest'\r\n\r\nconst url = 'https://corona.lmao.ninja/v2/';\r\n\r\nexport const fetchHistData = async (country) => {\r\n    try {\r\n        if (country === 'all') {\r\n            const {data: {cases, deaths, recovered}} = await axios.get(`${url}historical/${country}?lastdays=all`);\r\n            return {cases, deaths, recovered};\r\n        } else {\r\n            const {data: {timeline: {cases, deaths, recovered}}} = await axios.get(`${url}historical/${country}?lastdays=all`);\r\n            return {cases, deaths, recovered};\r\n        }\r\n    } catch (error) {\r\n        console.log(\"error\");\r\n    }\r\n};\r\n\r\nconst fetchCountryData = async () => {\r\n    try {\r\n        const {data} = await axios.get(`${url}jhucsse`);\r\n        const points = data.reduce((points, country) => {\r\n            if (country.country !== \"US\") {\r\n                points.push({\r\n                    name: country.province + ', ' + country.country,\r\n                    cases: country.stats.confirmed,\r\n                    coordinates: [\r\n                        parseFloat(country.coordinates.longitude),\r\n                        parseFloat(country.coordinates.latitude)\r\n                    ]\r\n                });\r\n            }\r\n            return points;\r\n        }, []);\r\n        return points;\r\n    } catch (error) {\r\n        console.log(\"error\");\r\n    }\r\n};\r\n\r\nconst fetchUSCountyData = async() => {\r\n    try {\r\n        const {data} = await axios.get(`${url}jhucsse/counties`);\r\n        const points = data.map(country => ({\r\n            name: country.county + ', ' + country.province + ', ' + country.country,\r\n            cases: country.stats.confirmed,\r\n            coordinates: [\r\n                parseFloat(country.coordinates.longitude),\r\n                parseFloat(country.coordinates.latitude)\r\n            ]\r\n        }));\r\n        return points;\r\n    } catch (error) {\r\n        console.log(\"error\");\r\n    }\r\n};\r\n\r\nexport const fetchData = async() => {\r\n    try {\r\n        const other = await fetchCountryData();\r\n        const us = await fetchUSCountyData();\r\n        return other.concat(us);\r\n    } catch (error) {\r\n        console.log(\"error\");\r\n    }\r\n}\r\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","import \"core-js/modules/es6.array.fill\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport { config } from '../../lib/common';\n\nvar Matrix = function (_MathArray) {\n  _inherits(Matrix, _MathArray);\n\n  function Matrix() {\n    _classCallCheck(this, Matrix);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Matrix).apply(this, arguments));\n  }\n\n  _createClass(Matrix, [{\n    key: \"toString\",\n    value: function toString() {\n      var string = '[';\n\n      if (config.printRowMajor) {\n        string += 'row-major:';\n\n        for (var row = 0; row < this.RANK; ++row) {\n          for (var col = 0; col < this.RANK; ++col) {\n            string += \" \".concat(this[col * this.RANK + row]);\n          }\n        }\n      } else {\n        string += 'column-major:';\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          string += \" \".concat(this[i]);\n        }\n      }\n\n      string += ']';\n      return string;\n    }\n  }, {\n    key: \"getElementIndex\",\n    value: function getElementIndex(row, col) {\n      return col * this.RANK + row;\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(row, col) {\n      return this[col * this.RANK + row];\n    }\n  }, {\n    key: \"setElement\",\n    value: function setElement(row, col, value) {\n      this[col * this.RANK + row] = checkNumber(value);\n      return this;\n    }\n  }, {\n    key: \"getColumn\",\n    value: function getColumn(columnIndex) {\n      var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Array(this.RANK).fill(-0);\n      var firstIndex = columnIndex * this.RANK;\n\n      for (var i = 0; i < this.RANK; ++i) {\n        result[i] = this[firstIndex + i];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"setColumn\",\n    value: function setColumn(columnIndex, columnVector) {\n      var firstIndex = columnIndex * this.RANK;\n\n      for (var i = 0; i < this.RANK; ++i) {\n        this[firstIndex + i] = columnVector[i];\n      }\n\n      return this;\n    }\n  }]);\n\n  return Matrix;\n}(MathArray);\n\nexport { Matrix as default };","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.freeze\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { checkVector, deprecated } from '../lib/validators';\nimport Matrix from './base/matrix';\nimport { vec2_transformMat4AsVector, vec3_transformMat4AsVector } from '../lib/gl-matrix-extras';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport * as vec4 from 'gl-matrix/vec4';\nvar IDENTITY = Object.freeze([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\nvar ZERO = Object.freeze([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\nvar INDICES = Object.freeze({\n  COL0ROW0: 0,\n  COL0ROW1: 1,\n  COL0ROW2: 2,\n  COL0ROW3: 3,\n  COL1ROW0: 4,\n  COL1ROW1: 5,\n  COL1ROW2: 6,\n  COL1ROW3: 7,\n  COL2ROW0: 8,\n  COL2ROW1: 9,\n  COL2ROW2: 10,\n  COL2ROW3: 11,\n  COL3ROW0: 12,\n  COL3ROW1: 13,\n  COL3ROW2: 14,\n  COL3ROW3: 15\n});\nvar constants = {};\n\nvar Matrix4 = function (_Matrix) {\n  _inherits(Matrix4, _Matrix);\n\n  _createClass(Matrix4, [{\n    key: \"INDICES\",\n    get: function get() {\n      return INDICES;\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      return 16;\n    }\n  }, {\n    key: \"RANK\",\n    get: function get() {\n      return 4;\n    }\n  }], [{\n    key: \"IDENTITY\",\n    get: function get() {\n      constants.IDENTITY = constants.IDENTITY || Object.freeze(new Matrix4(IDENTITY));\n      return constants.IDENTITY;\n    }\n  }, {\n    key: \"ZERO\",\n    get: function get() {\n      constants.ZERO = constants.ZERO || Object.freeze(new Matrix4(ZERO));\n      return constants.ZERO;\n    }\n  }]);\n\n  function Matrix4(array) {\n    var _this;\n\n    _classCallCheck(this, Matrix4);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Matrix4).call(this, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0));\n\n    if (arguments.length === 1 && Array.isArray(array)) {\n      _this.copy(array);\n    } else {\n      _this.identity();\n    }\n\n    return _this;\n  }\n\n  _createClass(Matrix4, [{\n    key: \"copy\",\n    value: function copy(array) {\n      this[0] = array[0];\n      this[1] = array[1];\n      this[2] = array[2];\n      this[3] = array[3];\n      this[4] = array[4];\n      this[5] = array[5];\n      this[6] = array[6];\n      this[7] = array[7];\n      this[8] = array[8];\n      this[9] = array[9];\n      this[10] = array[10];\n      this[11] = array[11];\n      this[12] = array[12];\n      this[13] = array[13];\n      this[14] = array[14];\n      this[15] = array[15];\n      return this.check();\n    }\n  }, {\n    key: \"set\",\n    value: function set(m00, m10, m20, m30, m01, m11, m21, m31, m02, m12, m22, m32, m03, m13, m23, m33) {\n      this[0] = m00;\n      this[1] = m10;\n      this[2] = m20;\n      this[3] = m30;\n      this[4] = m01;\n      this[5] = m11;\n      this[6] = m21;\n      this[7] = m31;\n      this[8] = m02;\n      this[9] = m12;\n      this[10] = m22;\n      this[11] = m32;\n      this[12] = m03;\n      this[13] = m13;\n      this[14] = m23;\n      this[15] = m33;\n      return this.check();\n    }\n  }, {\n    key: \"setRowMajor\",\n    value: function setRowMajor(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n      this[0] = m00;\n      this[1] = m10;\n      this[2] = m20;\n      this[3] = m30;\n      this[4] = m01;\n      this[5] = m11;\n      this[6] = m21;\n      this[7] = m31;\n      this[8] = m02;\n      this[9] = m12;\n      this[10] = m22;\n      this[11] = m32;\n      this[12] = m03;\n      this[13] = m13;\n      this[14] = m23;\n      this[15] = m33;\n      return this.check();\n    }\n  }, {\n    key: \"toRowMajor\",\n    value: function toRowMajor(result) {\n      result[0] = this[0];\n      result[1] = this[4];\n      result[2] = this[8];\n      result[3] = this[12];\n      result[4] = this[1];\n      result[5] = this[5];\n      result[6] = this[9];\n      result[7] = this[13];\n      result[8] = this[2];\n      result[9] = this[6];\n      result[10] = this[10];\n      result[11] = this[14];\n      result[12] = this[3];\n      result[13] = this[7];\n      result[14] = this[11];\n      result[15] = this[15];\n      return result;\n    }\n  }, {\n    key: \"identity\",\n    value: function identity() {\n      return this.copy(IDENTITY);\n    }\n  }, {\n    key: \"fromQuaternion\",\n    value: function fromQuaternion(q) {\n      mat4.fromQuat(this, q);\n      return this.check();\n    }\n  }, {\n    key: \"frustum\",\n    value: function frustum(_ref) {\n      var left = _ref.left,\n          right = _ref.right,\n          bottom = _ref.bottom,\n          top = _ref.top,\n          near = _ref.near,\n          far = _ref.far;\n\n      if (far === Infinity) {\n        Matrix4._computeInfinitePerspectiveOffCenter(this, left, right, bottom, top, near);\n      } else {\n        mat4.frustum(this, left, right, bottom, top, near, far);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lookAt\",\n    value: function lookAt(eye, center, up) {\n      if (arguments.length === 1) {\n        var _eye = eye;\n        eye = _eye.eye;\n        center = _eye.center;\n        up = _eye.up;\n      }\n\n      center = center || [0, 0, 0];\n      up = up || [0, 1, 0];\n      mat4.lookAt(this, eye, center, up);\n      return this.check();\n    }\n  }, {\n    key: \"ortho\",\n    value: function ortho(_ref2) {\n      var left = _ref2.left,\n          right = _ref2.right,\n          bottom = _ref2.bottom,\n          top = _ref2.top,\n          _ref2$near = _ref2.near,\n          near = _ref2$near === void 0 ? 0.1 : _ref2$near,\n          _ref2$far = _ref2.far,\n          far = _ref2$far === void 0 ? 500 : _ref2$far;\n      mat4.ortho(this, left, right, bottom, top, near, far);\n      return this.check();\n    }\n  }, {\n    key: \"orthographic\",\n    value: function orthographic(_ref3) {\n      var _ref3$fovy = _ref3.fovy,\n          fovy = _ref3$fovy === void 0 ? 45 * Math.PI / 180 : _ref3$fovy,\n          _ref3$aspect = _ref3.aspect,\n          aspect = _ref3$aspect === void 0 ? 1 : _ref3$aspect,\n          _ref3$focalDistance = _ref3.focalDistance,\n          focalDistance = _ref3$focalDistance === void 0 ? 1 : _ref3$focalDistance,\n          _ref3$near = _ref3.near,\n          near = _ref3$near === void 0 ? 0.1 : _ref3$near,\n          _ref3$far = _ref3.far,\n          far = _ref3$far === void 0 ? 500 : _ref3$far;\n\n      if (fovy > Math.PI * 2) {\n        throw Error('radians');\n      }\n\n      var halfY = fovy / 2;\n      var top = focalDistance * Math.tan(halfY);\n      var right = top * aspect;\n      return new Matrix4().ortho({\n        left: -right,\n        right: right,\n        bottom: -top,\n        top: top,\n        near: near,\n        far: far\n      });\n    }\n  }, {\n    key: \"perspective\",\n    value: function perspective() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$fovy = _ref4.fovy,\n          fovy = _ref4$fovy === void 0 ? undefined : _ref4$fovy,\n          _ref4$fov = _ref4.fov,\n          fov = _ref4$fov === void 0 ? 45 * Math.PI / 180 : _ref4$fov,\n          _ref4$aspect = _ref4.aspect,\n          aspect = _ref4$aspect === void 0 ? 1 : _ref4$aspect,\n          _ref4$near = _ref4.near,\n          near = _ref4$near === void 0 ? 0.1 : _ref4$near,\n          _ref4$far = _ref4.far,\n          far = _ref4$far === void 0 ? 500 : _ref4$far;\n\n      fovy = fovy || fov;\n\n      if (fovy > Math.PI * 2) {\n        throw Error('radians');\n      }\n\n      mat4.perspective(this, fovy, aspect, near, far);\n      return this.check();\n    }\n  }, {\n    key: \"determinant\",\n    value: function determinant() {\n      return mat4.determinant(this);\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0];\n      result[0] = Math.sqrt(this[0] * this[0] + this[1] * this[1] + this[2] * this[2]);\n      result[1] = Math.sqrt(this[4] * this[4] + this[5] * this[5] + this[6] * this[6]);\n      result[2] = Math.sqrt(this[8] * this[8] + this[9] * this[9] + this[10] * this[10]);\n      return result;\n    }\n  }, {\n    key: \"getTranslation\",\n    value: function getTranslation() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0];\n      result[0] = this[12];\n      result[1] = this[13];\n      result[2] = this[14];\n      return result;\n    }\n  }, {\n    key: \"getRotation\",\n    value: function getRotation() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0, -0];\n      var scaleResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scale = this.getScale(scaleResult || [-0, -0, -0]);\n      var inverseScale0 = 1 / scale[0];\n      var inverseScale1 = 1 / scale[1];\n      var inverseScale2 = 1 / scale[2];\n      result[0] = this[0] * inverseScale0;\n      result[1] = this[1] * inverseScale1;\n      result[2] = this[2] * inverseScale2;\n      result[3] = 0;\n      result[4] = this[4] * inverseScale0;\n      result[5] = this[5] * inverseScale1;\n      result[6] = this[6] * inverseScale2;\n      result[7] = 0;\n      result[8] = this[8] * inverseScale0;\n      result[9] = this[9] * inverseScale1;\n      result[10] = this[10] * inverseScale2;\n      result[11] = 0;\n      result[12] = 0;\n      result[13] = 0;\n      result[14] = 0;\n      result[15] = 1;\n      return result;\n    }\n  }, {\n    key: \"getRotationMatrix3\",\n    value: function getRotationMatrix3() {\n      var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [-0, -0, -0, -0, -0, -0, -0, -0, -0];\n      var scaleResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var scale = this.getScale(scaleResult || [-0, -0, -0]);\n      var inverseScale0 = 1 / scale[0];\n      var inverseScale1 = 1 / scale[1];\n      var inverseScale2 = 1 / scale[2];\n      result[0] = this[0] * inverseScale0;\n      result[1] = this[1] * inverseScale1;\n      result[2] = this[2] * inverseScale2;\n      result[3] = this[4] * inverseScale0;\n      result[4] = this[5] * inverseScale1;\n      result[5] = this[6] * inverseScale2;\n      result[6] = this[8] * inverseScale0;\n      result[7] = this[9] * inverseScale1;\n      result[8] = this[10] * inverseScale2;\n      return result;\n    }\n  }, {\n    key: \"transpose\",\n    value: function transpose() {\n      mat4.transpose(this, this);\n      return this.check();\n    }\n  }, {\n    key: \"invert\",\n    value: function invert() {\n      mat4.invert(this, this);\n      return this.check();\n    }\n  }, {\n    key: \"multiplyLeft\",\n    value: function multiplyLeft(a) {\n      mat4.multiply(this, a, this);\n      return this.check();\n    }\n  }, {\n    key: \"multiplyRight\",\n    value: function multiplyRight(a) {\n      mat4.multiply(this, this, a);\n      return this.check();\n    }\n  }, {\n    key: \"rotateX\",\n    value: function rotateX(radians) {\n      mat4.rotateX(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateY\",\n    value: function rotateY(radians) {\n      mat4.rotateY(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateZ\",\n    value: function rotateZ(radians) {\n      mat4.rotateZ(this, this, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateXYZ\",\n    value: function rotateXYZ(_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 3),\n          rx = _ref6[0],\n          ry = _ref6[1],\n          rz = _ref6[2];\n\n      return this.rotateX(rx).rotateY(ry).rotateZ(rz);\n    }\n  }, {\n    key: \"rotateAxis\",\n    value: function rotateAxis(radians, axis) {\n      mat4.rotate(this, this, radians, axis);\n      return this.check();\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(factor) {\n      if (Array.isArray(factor)) {\n        mat4.scale(this, this, factor);\n      } else {\n        mat4.scale(this, this, [factor, factor, factor]);\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(vec) {\n      mat4.translate(this, this, vec);\n      return this.check();\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(vector, result) {\n      if (vector.length === 4) {\n        result = vec4.transformMat4(result || [-0, -0, -0, -0], vector, this);\n        checkVector(result, 4);\n        return result;\n      }\n\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformAsPoint\",\n    value: function transformAsPoint(vector, result) {\n      var length = vector.length;\n\n      switch (length) {\n        case 2:\n          result = vec2.transformMat4(result || [-0, -0], vector, this);\n          break;\n\n        case 3:\n          result = vec3.transformMat4(result || [-0, -0, -0], vector, this);\n          break;\n\n        default:\n          throw new Error('Illegal vector');\n      }\n\n      checkVector(result, vector.length);\n      return result;\n    }\n  }, {\n    key: \"transformAsVector\",\n    value: function transformAsVector(vector, result) {\n      switch (vector.length) {\n        case 2:\n          result = vec2_transformMat4AsVector(result || [-0, -0], vector, this);\n          break;\n\n        case 3:\n          result = vec3_transformMat4AsVector(result || [-0, -0, -0], vector, this);\n          break;\n\n        default:\n          throw new Error('Illegal vector');\n      }\n\n      checkVector(result, vector.length);\n      return result;\n    }\n  }, {\n    key: \"makeRotationX\",\n    value: function makeRotationX(radians) {\n      return this.identity().rotateX(radians);\n    }\n  }, {\n    key: \"makeTranslation\",\n    value: function makeTranslation(x, y, z) {\n      return this.identity().translate([x, y, z]);\n    }\n  }, {\n    key: \"transformPoint\",\n    value: function transformPoint(vector, result) {\n      deprecated('Matrix4.transformPoint', '3.0');\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformVector\",\n    value: function transformVector(vector, result) {\n      deprecated('Matrix4.transformVector', '3.0');\n      return this.transformAsPoint(vector, result);\n    }\n  }, {\n    key: \"transformDirection\",\n    value: function transformDirection(vector, result) {\n      deprecated('Matrix4.transformDirection', '3.0');\n      return this.transformAsVector(vector, result);\n    }\n  }], [{\n    key: \"_computeInfinitePerspectiveOffCenter\",\n    value: function _computeInfinitePerspectiveOffCenter(result, left, right, bottom, top, near) {\n      var column0Row0 = 2.0 * near / (right - left);\n      var column1Row1 = 2.0 * near / (top - bottom);\n      var column2Row0 = (right + left) / (right - left);\n      var column2Row1 = (top + bottom) / (top - bottom);\n      var column2Row2 = -1.0;\n      var column2Row3 = -1.0;\n      var column3Row2 = -2.0 * near;\n      result[0] = column0Row0;\n      result[1] = 0.0;\n      result[2] = 0.0;\n      result[3] = 0.0;\n      result[4] = 0.0;\n      result[5] = column1Row1;\n      result[6] = 0.0;\n      result[7] = 0.0;\n      result[8] = column2Row0;\n      result[9] = column2Row1;\n      result[10] = column2Row2;\n      result[11] = column2Row3;\n      result[12] = 0.0;\n      result[13] = 0.0;\n      result[14] = column3Row2;\n      result[15] = 0.0;\n      return result;\n    }\n  }]);\n\n  return Matrix4;\n}(Matrix);\n\nexport { Matrix4 as default };","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.date.to-json\");\n\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function () {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n\n  return error;\n};","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar utils = require('./../utils');\n\nmodule.exports = utils.isStandardBrowserEnv() ? // Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\nfunction standardBrowserEnv() {\n  var msie = /(msie|trident)/i.test(navigator.userAgent);\n  var urlParsingNode = document.createElement('a');\n  var originURL;\n  /**\n  * Parse a URL to discover it's components\n  *\n  * @param {String} url The URL to be parsed\n  * @returns {Object}\n  */\n\n  function resolveURL(url) {\n    var href = url;\n\n    if (msie) {\n      // IE needs attribute set twice to normalize properties\n      urlParsingNode.setAttribute('href', href);\n      href = urlParsingNode.href;\n    }\n\n    urlParsingNode.setAttribute('href', href); // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\n    return {\n      href: urlParsingNode.href,\n      protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n      host: urlParsingNode.host,\n      search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n      hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n      hostname: urlParsingNode.hostname,\n      port: urlParsingNode.port,\n      pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname\n    };\n  }\n\n  originURL = resolveURL(window.location.href);\n  /**\n  * Determine if a URL shares the same origin as the current location\n  *\n  * @param {String} requestURL The URL to test\n  * @returns {boolean} True if URL shares the same origin, otherwise false\n  */\n\n  return function isURLSameOrigin(requestURL) {\n    var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;\n    return parsed.protocol === originURL.protocol && parsed.host === originURL.host;\n  };\n}() : // Non standard browser envs (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n  return function isURLSameOrigin() {\n    return true;\n  };\n}();","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _WEBGL_PARAMETERS;\n\nimport { isWebGL2 } from '../utils';\nvar OES_element_index = 'OES_element_index';\nvar WEBGL_draw_buffers = 'WEBGL_draw_buffers';\nvar EXT_disjoint_timer_query = 'EXT_disjoint_timer_query';\nvar EXT_disjoint_timer_query_webgl2 = 'EXT_disjoint_timer_query_webgl2';\nvar EXT_texture_filter_anisotropic = 'EXT_texture_filter_anisotropic';\nvar WEBGL_debug_renderer_info = 'WEBGL_debug_renderer_info';\nvar GL_FRAGMENT_SHADER_DERIVATIVE_HINT = 0x8b8b;\nvar GL_DONT_CARE = 0x1100;\nvar GL_GPU_DISJOINT_EXT = 0x8fbb;\nvar GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT = 0x84ff;\nvar GL_UNMASKED_VENDOR_WEBGL = 0x9245;\nvar GL_UNMASKED_RENDERER_WEBGL = 0x9246;\n\nvar getWebGL2ValueOrZero = function getWebGL2ValueOrZero(gl) {\n  return !isWebGL2(gl) ? 0 : undefined;\n};\n\nvar WEBGL_PARAMETERS = (_WEBGL_PARAMETERS = {}, _defineProperty(_WEBGL_PARAMETERS, 3074, function (gl) {\n  return !isWebGL2(gl) ? 36064 : undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, GL_FRAGMENT_SHADER_DERIVATIVE_HINT, function (gl) {\n  return !isWebGL2(gl) ? GL_DONT_CARE : undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 35977, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 32937, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, GL_GPU_DISJOINT_EXT, function (gl, getParameter) {\n  var ext = isWebGL2(gl) ? gl.getExtension(EXT_disjoint_timer_query_webgl2) : gl.getExtension(EXT_disjoint_timer_query);\n  return ext && ext.GPU_DISJOINT_EXT ? getParameter(ext.GPU_DISJOINT_EXT) : 0;\n}), _defineProperty(_WEBGL_PARAMETERS, GL_UNMASKED_VENDOR_WEBGL, function (gl, getParameter) {\n  var ext = gl.getExtension(WEBGL_debug_renderer_info);\n  return getParameter(ext && ext.UNMASKED_VENDOR_WEBGL || 7936);\n}), _defineProperty(_WEBGL_PARAMETERS, GL_UNMASKED_RENDERER_WEBGL, function (gl, getParameter) {\n  var ext = gl.getExtension(WEBGL_debug_renderer_info);\n  return getParameter(ext && ext.UNMASKED_RENDERER_WEBGL || 7937);\n}), _defineProperty(_WEBGL_PARAMETERS, GL_MAX_TEXTURE_MAX_ANISOTROPY_EXT, function (gl, getParameter) {\n  var ext = gl.luma.extensions[EXT_texture_filter_anisotropic];\n  return ext ? getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 1.0;\n}), _defineProperty(_WEBGL_PARAMETERS, 32883, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35071, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37447, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 36063, function (gl, getParameter) {\n  if (!isWebGL2(gl)) {\n    var ext = gl.getExtension(WEBGL_draw_buffers);\n    return ext ? getParameter(ext.MAX_COLOR_ATTACHMENTS_WEBGL) : 0;\n  }\n\n  return undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 35379, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35374, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35377, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 34852, function (gl) {\n  if (!isWebGL2(gl)) {\n    var ext = gl.getExtension(WEBGL_draw_buffers);\n    return ext ? ext.MAX_DRAW_BUFFERS_WEBGL : 0;\n  }\n\n  return undefined;\n}), _defineProperty(_WEBGL_PARAMETERS, 36203, function (gl) {\n  return gl.getExtension(OES_element_index) ? 2147483647 : 65535;\n}), _defineProperty(_WEBGL_PARAMETERS, 33001, function (gl) {\n  return gl.getExtension(OES_element_index) ? 16777216 : 65535;\n}), _defineProperty(_WEBGL_PARAMETERS, 33000, function (gl) {\n  return 16777216;\n}), _defineProperty(_WEBGL_PARAMETERS, 37157, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35373, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35657, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 36183, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37137, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 34045, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35978, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35979, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35968, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35376, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35375, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35659, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 37154, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35371, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35658, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35076, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35077, getWebGL2ValueOrZero), _defineProperty(_WEBGL_PARAMETERS, 35380, getWebGL2ValueOrZero), _WEBGL_PARAMETERS);\nexport function getParameterPolyfill(gl, originalGetParameter, pname) {\n  var limit = WEBGL_PARAMETERS[pname];\n  var value = typeof limit === 'function' ? limit(gl, originalGetParameter, pname) : limit;\n  var result = value !== undefined ? value : originalGetParameter(pname);\n  return result;\n}","import \"core-js/modules/es6.typed.int32-array\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _WEBGL2_CONTEXT_POLYF;\n\nimport { assert, isWebGL2 } from '../utils';\nimport { getParameterPolyfill } from './get-parameter-polyfill';\nvar OES_vertex_array_object = 'OES_vertex_array_object';\nvar ANGLE_instanced_arrays = 'ANGLE_instanced_arrays';\nvar WEBGL_draw_buffers = 'WEBGL_draw_buffers';\nvar EXT_disjoint_timer_query = 'EXT_disjoint_timer_query';\nvar EXT_texture_filter_anisotropic = 'EXT_texture_filter_anisotropic';\nvar ERR_VAO_NOT_SUPPORTED = 'VertexArray requires WebGL2 or OES_vertex_array_object extension';\n\nfunction getExtensionData(gl, extension) {\n  return {\n    webgl2: isWebGL2(gl),\n    ext: gl.getExtension(extension)\n  };\n}\n\nexport var WEBGL2_CONTEXT_POLYFILLS = (_WEBGL2_CONTEXT_POLYF = {}, _defineProperty(_WEBGL2_CONTEXT_POLYF, OES_vertex_array_object, {\n  meta: {\n    suffix: 'OES'\n  },\n  createVertexArray: function createVertexArray() {\n    assert(false, ERR_VAO_NOT_SUPPORTED);\n  },\n  deleteVertexArray: function deleteVertexArray() {},\n  bindVertexArray: function bindVertexArray() {},\n  isVertexArray: function isVertexArray() {\n    return false;\n  }\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, ANGLE_instanced_arrays, {\n  meta: {\n    suffix: 'ANGLE'\n  },\n  vertexAttribDivisor: function vertexAttribDivisor(location, divisor) {\n    assert(divisor === 0, 'WebGL instanced rendering not supported');\n  },\n  drawElementsInstanced: function drawElementsInstanced() {},\n  drawArraysInstanced: function drawArraysInstanced() {}\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, WEBGL_draw_buffers, {\n  meta: {\n    suffix: 'WEBGL'\n  },\n  drawBuffers: function drawBuffers() {\n    assert(false);\n  }\n}), _defineProperty(_WEBGL2_CONTEXT_POLYF, EXT_disjoint_timer_query, {\n  meta: {\n    suffix: 'EXT'\n  },\n  createQuery: function createQuery() {\n    assert(false);\n  },\n  deleteQuery: function deleteQuery() {\n    assert(false);\n  },\n  beginQuery: function beginQuery() {\n    assert(false);\n  },\n  endQuery: function endQuery() {},\n  getQuery: function getQuery(handle, pname) {\n    return this.getQueryObject(handle, pname);\n  },\n  getQueryParameter: function getQueryParameter(handle, pname) {\n    return this.getQueryObject(handle, pname);\n  },\n  getQueryObject: function getQueryObject() {}\n}), _WEBGL2_CONTEXT_POLYF);\nexport var WEBGL2_CONTEXT_OVERRIDES = {\n  readBuffer: function readBuffer(gl, originalFunc, attachment) {\n    if (isWebGL2(gl)) {\n      originalFunc(attachment);\n    } else {}\n  },\n  getVertexAttrib: function getVertexAttrib(gl, originalFunc, location, pname) {\n    var _getExtensionData = getExtensionData(gl, ANGLE_instanced_arrays),\n        webgl2 = _getExtensionData.webgl2,\n        ext = _getExtensionData.ext;\n\n    var result;\n\n    switch (pname) {\n      case 35069:\n        result = !webgl2 ? false : undefined;\n        break;\n\n      case 35070:\n        result = !webgl2 && !ext ? 0 : undefined;\n        break;\n\n      default:\n    }\n\n    return result !== undefined ? result : originalFunc(location, pname);\n  },\n  getProgramParameter: function getProgramParameter(gl, originalFunc, program, pname) {\n    if (!isWebGL2(gl)) {\n      switch (pname) {\n        case 35967:\n          return 35981;\n\n        case 35971:\n          return 0;\n\n        case 35382:\n          return 0;\n\n        default:\n      }\n    }\n\n    return originalFunc(program, pname);\n  },\n  getInternalformatParameter: function getInternalformatParameter(gl, originalFunc, target, format, pname) {\n    if (!isWebGL2(gl)) {\n      switch (pname) {\n        case 32937:\n          return new Int32Array([0]);\n\n        default:\n      }\n    }\n\n    return gl.getInternalformatParameter(target, format, pname);\n  },\n  getTexParameter: function getTexParameter(gl, originalFunc, target, pname) {\n    switch (pname) {\n      case 34046:\n        var extensions = gl.luma.extensions;\n        var ext = extensions[EXT_texture_filter_anisotropic];\n        pname = ext && ext.TEXTURE_MAX_ANISOTROPY_EXT || 34046;\n        break;\n\n      default:\n    }\n\n    return originalFunc(target, pname);\n  },\n  getParameter: getParameterPolyfill,\n  hint: function hint(gl, originalFunc, pname, value) {\n    return originalFunc(pname, value);\n  }\n};","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","'use strict';\n\nvar createError = require('./createError');\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\n\n\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError('Request failed with status code ' + response.status, response.config, null, response.request, response));\n  }\n};","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('../utils');\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\n\n\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = ['baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer', 'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName', 'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken', 'socketPath'];\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n  var axiosKeys = valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys);\n  var otherKeys = Object.keys(config2).filter(function filterAxiosKeys(key) {\n    return axiosKeys.indexOf(key) === -1;\n  });\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n  return config;\n};","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","'use strict';\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('./../utils');\n\nvar transformData = require('./transformData');\n\nvar isCancel = require('../cancel/isCancel');\n\nvar defaults = require('../defaults');\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\n\n\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\n\n\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config); // Ensure headers exist\n\n  config.headers = config.headers || {}; // Transform request data\n\n  config.data = transformData(config.data, config.headers, config.transformRequest); // Flatten headers\n\n  config.headers = utils.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers);\n  utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function cleanHeaderConfig(method) {\n    delete config.headers[method];\n  });\n  var adapter = config.adapter || defaults.adapter;\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config); // Transform response data\n\n    response.data = transformData(response.data, response.headers, config.transformResponse);\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config); // Transform response data\n\n      if (reason && reason.response) {\n        reason.response.data = transformData(reason.response.data, reason.response.headers, config.transformResponse);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","export var userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport { passiveSupported };","import { config } from './lib/common';\nexport { default as Vector2 } from './classes/vector2';\nexport { default as Vector3 } from './classes/vector3';\nexport { default as Vector4 } from './classes/vector4';\nexport { default as Matrix3 } from './classes/matrix3';\nexport { default as Matrix4 } from './classes/matrix4';\nexport { default as Quaternion } from './classes/quaternion';\nexport { config, configure, formatValue, isArray, clone, equals, exactEquals, toRadians, toDegrees, radians, degrees, sin, cos, tan, asin, acos, atan, clamp, lerp, withEpsilon } from './lib/common';\nexport { checkNumber } from './lib/validators';\nexport { default as _MathUtils } from './lib/math-utils';\nexport { default as _SphericalCoordinates } from './classes/spherical-coordinates';\nexport { default as _Pose } from './classes/pose';\nexport { default as _Euler } from './classes/euler';\nexport { default as assert } from './lib/assert';\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global\n};\nvar global_ = globals.global || globals.self || globals.window;\nglobal_.mathgl = {\n  config: config\n};","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.typed.data-view\";\nimport \"core-js/modules/es6.array.is-array\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _construct from \"@babel/runtime/helpers/esm/construct\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport assert from './assert';\nvar RADIANS_TO_DEGREES = 1 / Math.PI * 180;\nvar DEGREES_TO_RADIANS = 1 / 180 * Math.PI;\nvar config = {};\nconfig.EPSILON = 1e-12;\nconfig.debug = false;\nconfig.precision = 4;\nconfig.printTypes = false;\nconfig.printDegrees = false;\nconfig.printRowMajor = true;\nexport { config };\nexport function configure() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  for (var key in options) {\n    assert(key in config);\n    config[key] = options[key];\n  }\n\n  return config;\n}\n\nfunction round(value) {\n  return Math.round(value / config.EPSILON) * config.EPSILON;\n}\n\nexport function formatValue(value) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? config.precision || 4 : _ref$precision;\n\n  value = round(value);\n  return \"\".concat(parseFloat(value.toPrecision(precision)));\n}\nexport function isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value) && !(value instanceof DataView);\n}\n\nfunction duplicateArray(array) {\n  return array.clone ? array.clone() : new Array(array.length);\n}\n\nexport function clone(array) {\n  return array.clone ? array.clone() : _construct(Array, _toConsumableArray(array));\n}\n\nfunction map(value, func, result) {\n  if (isArray(value)) {\n    result = result || duplicateArray(value);\n\n    for (var i = 0; i < result.length && i < value.length; ++i) {\n      result[i] = func(value[i], i, result);\n    }\n\n    return result;\n  }\n\n  return func(value);\n}\n\nexport function toRadians(degrees) {\n  return radians(degrees);\n}\nexport function toDegrees(radians) {\n  return degrees(radians);\n}\nexport function radians(degrees, result) {\n  return map(degrees, function (degrees) {\n    return degrees * DEGREES_TO_RADIANS;\n  }, result);\n}\nexport function degrees(radians, result) {\n  return map(radians, function (radians) {\n    return radians * RADIANS_TO_DEGREES;\n  }, result);\n}\nexport function sin(radians) {\n  return map(radians, function (angle) {\n    return Math.sin(angle);\n  });\n}\nexport function cos(radians) {\n  return map(radians, function (angle) {\n    return Math.cos(angle);\n  });\n}\nexport function tan(radians) {\n  return map(radians, function (angle) {\n    return Math.tan(angle);\n  });\n}\nexport function asin(radians) {\n  return map(radians, function (angle) {\n    return Math.asin(angle);\n  });\n}\nexport function acos(radians) {\n  return map(radians, function (angle) {\n    return Math.acos(angle);\n  });\n}\nexport function atan(radians) {\n  return map(radians, function (angle) {\n    return Math.atan(angle);\n  });\n}\nexport function clamp(value, min, max) {\n  return map(value, function (value) {\n    return Math.max(min, Math.min(max, value));\n  });\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}\nexport function equals(a, b, epsilon) {\n  var oldEpsilon = config.EPSILON;\n\n  if (epsilon) {\n    config.EPSILON = epsilon;\n  }\n\n  try {\n    if (a === b) {\n      return true;\n    }\n\n    if (isArray(a) && isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (var i = 0; i < a.length; ++i) {\n        if (!equals(a[i], b[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    if (a && a.equals) {\n      return a.equals(b);\n    }\n\n    if (b && b.equals) {\n      return b.equals(a);\n    }\n\n    if (Number.isFinite(a) && Number.isFinite(b)) {\n      return Math.abs(a - b) <= config.EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n    }\n\n    return false;\n  } finally {\n    config.EPSILON = oldEpsilon;\n  }\n}\nexport function exactEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a && _typeof(a) === 'object' && b && _typeof(b) === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    if (a.exactEquals) {\n      return a.exactEquals(b);\n    }\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!exactEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\nexport function withEpsilon(EPSILON, func) {\n  var oldPrecision = config.EPSILON;\n  config.EPSILON = EPSILON;\n  var value;\n\n  try {\n    value = func();\n  } finally {\n    config.EPSILON = oldPrecision;\n  }\n\n  return value;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import checkIfBrowser from '../env/is-browser';\nexport { self, window, global, document, process, console } from '../env/globals';\nexport var VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\nexport var isBrowser = checkIfBrowser();","import \"core-js/modules/es6.object.assign\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction getStorage(type) {\n  try {\n    var storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\nvar LocalStorage = function () {\n  function LocalStorage(id, defaultSettings) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'sessionStorage';\n\n    _classCallCheck(this, LocalStorage);\n\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n\n    this._loadConfiguration();\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"getConfiguration\",\n    value: function getConfiguration() {\n      return this.config;\n    }\n  }, {\n    key: \"setConfiguration\",\n    value: function setConfiguration(configuration) {\n      this.config = {};\n      return this.updateConfiguration(configuration);\n    }\n  }, {\n    key: \"updateConfiguration\",\n    value: function updateConfiguration(configuration) {\n      Object.assign(this.config, configuration);\n\n      if (this.storage) {\n        var serialized = JSON.stringify(this.config);\n        this.storage.setItem(this.id, serialized);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_loadConfiguration\",\n    value: function _loadConfiguration() {\n      var configuration = {};\n\n      if (this.storage) {\n        var serializedConfiguration = this.storage.getItem(this.id);\n        configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n      }\n\n      Object.assign(this.config, configuration);\n      return this;\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nexport { LocalStorage as default };","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.string.repeat\";\nexport function formatTime(ms) {\n  var formatted;\n\n  if (ms < 10) {\n    formatted = \"\".concat(ms.toFixed(2), \"ms\");\n  } else if (ms < 100) {\n    formatted = \"\".concat(ms.toFixed(1), \"ms\");\n  } else if (ms < 1000) {\n    formatted = \"\".concat(ms.toFixed(0), \"ms\");\n  } else {\n    formatted = \"\".concat((ms / 1000).toFixed(2), \"s\");\n  }\n\n  return formatted;\n}\nexport function leftPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(' '.repeat(padLength)).concat(string);\n}\nexport function rightPad(string) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  var padLength = Math.max(length - string.length, 0);\n  return \"\".concat(string).concat(' '.repeat(padLength));\n}\nexport function formatValue(v) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var EPSILON = 1e-16;\n  var _opts$isInteger = opts.isInteger,\n      isInteger = _opts$isInteger === void 0 ? false : _opts$isInteger;\n\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n\n  if (isInteger) {\n    return v.toFixed(0);\n  }\n\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    return v.toFixed(0);\n  }\n\n  var string = v.toPrecision(2);\n  var decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\nfunction formatArrayValue(v, opts) {\n  var _opts$maxElts = opts.maxElts,\n      maxElts = _opts$maxElts === void 0 ? 16 : _opts$maxElts,\n      _opts$size = opts.size,\n      size = _opts$size === void 0 ? 1 : _opts$size;\n  var string = '[';\n\n  for (var i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += \",\".concat(i % size === 0 ? ' ' : '');\n    }\n\n    string += formatValue(v[i], opts);\n  }\n\n  var terminator = v.length > maxElts ? '...' : ']';\n  return \"\".concat(string).concat(terminator);\n}\n\nexport function formatImage(image, message, scale) {\n  var maxWidth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 600;\n  var imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  var width = image.width * scale;\n  var height = image.height * scale;\n  var style = ['font-size:1px;', \"padding:\".concat(Math.floor(height / 2), \"px \").concat(Math.floor(width / 2), \"px;\"), \"line-height:\".concat(height, \"px;\"), \"background:url(\".concat(imageUrl, \");\"), \"background-size:\".concat(width, \"px \").concat(height, \"px;\"), 'color:transparent;'].join('');\n  return [\"\".concat(message, \" %c+\"), style];\n}","import { isBrowser } from './globals';\nexport var COLOR = {\n  BLACK: 30,\n  RED: 31,\n  GREEN: 32,\n  YELLOW: 33,\n  BLUE: 34,\n  MAGENTA: 35,\n  CYAN: 36,\n  WHITE: 37,\n  BRIGHT_BLACK: 90,\n  BRIGHT_RED: 91,\n  BRIGHT_GREEN: 92,\n  BRIGHT_YELLOW: 93,\n  BRIGHT_BLUE: 94,\n  BRIGHT_MAGENTA: 95,\n  BRIGHT_CYAN: 96,\n  BRIGHT_WHITE: 97\n};\n\nfunction getColor(color) {\n  return typeof color === 'string' ? COLOR[color.toUpperCase()] || COLOR.WHITE : color;\n}\n\nexport function addColor(string, color, background) {\n  if (!isBrowser && typeof string === 'string') {\n    if (color) {\n      color = getColor(color);\n      string = \"\\x1B[\".concat(color, \"m\").concat(string, \"\\x1B[39m\");\n    }\n\n    if (background) {\n      color = getColor(background);\n      string = \"\\x1B[\".concat(background + 10, \"m\").concat(string, \"\\x1B[49m\");\n    }\n  }\n\n  return string;\n}","import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nexport function autobind(obj) {\n  var predefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['constructor'];\n  var proto = Object.getPrototypeOf(obj);\n  var propNames = Object.getOwnPropertyNames(proto);\n\n  var _iterator = _createForOfIteratorHelper(propNames),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      var key = _step.value;\n\n      if (typeof obj[key] === 'function') {\n        if (!predefined.find(function (name) {\n          return key === name;\n        })) {\n          obj[key] = obj[key].bind(obj);\n        }\n      }\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}","import \"core-js/modules/es6.date.now\";\nimport { window, process, isBrowser } from './globals';\nexport default function getHiResTimestamp() {\n  var timestamp;\n\n  if (isBrowser && window.performance) {\n    timestamp = window.performance.now();\n  } else if (process.hrtime) {\n    var timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}","import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.seal\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { VERSION, isBrowser } from '../utils/globals';\nimport LocalStorage from '../utils/local-storage';\nimport { formatImage, formatTime, leftPad } from '../utils/formatters';\nimport { addColor } from '../utils/color';\nimport { autobind } from '../utils/autobind';\nimport _assert from '../utils/assert';\nimport getHiResTimestamp from '../utils/hi-res-timestamp';\nvar originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\nvar DEFAULT_SETTINGS = {\n  enabled: true,\n  level: 0\n};\n\nfunction noop() {}\n\nvar cache = {};\nvar ONCE = {\n  once: true\n};\n\nfunction getTableHeader(table) {\n  for (var key in table) {\n    for (var title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n\n  return 'empty';\n}\n\nvar Log = function () {\n  function Log() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref.id;\n\n    _classCallCheck(this, Log);\n\n    this.id = id;\n    this.VERSION = VERSION;\n    this._startTs = getHiResTimestamp();\n    this._deltaTs = getHiResTimestamp();\n    this.LOG_THROTTLE_TIMEOUT = 0;\n    this._storage = new LocalStorage(\"__probe-\".concat(this.id, \"__\"), DEFAULT_SETTINGS);\n    this.userData = {};\n    this.timeStamp(\"\".concat(this.id, \" started\"));\n    autobind(this);\n    Object.seal(this);\n  }\n\n  _createClass(Log, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this._storage.config.enabled;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      return this._storage.config.level;\n    }\n  }, {\n    key: \"getTotal\",\n    value: function getTotal() {\n      return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n    }\n  }, {\n    key: \"getDelta\",\n    value: function getDelta() {\n      return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n    }\n  }, {\n    key: \"getPriority\",\n    value: function getPriority() {\n      return this.level;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._storage.updateConfiguration({\n        enabled: enabled\n      });\n\n      return this;\n    }\n  }, {\n    key: \"setLevel\",\n    value: function setLevel(level) {\n      this._storage.updateConfiguration({\n        level: level\n      });\n\n      return this;\n    }\n  }, {\n    key: \"assert\",\n    value: function assert(condition, message) {\n      _assert(condition, message);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(message) {\n      return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n    }\n  }, {\n    key: \"error\",\n    value: function error(message) {\n      return this._getLogFunction(0, message, originalConsole.error, arguments);\n    }\n  }, {\n    key: \"deprecated\",\n    value: function deprecated(oldUsage, newUsage) {\n      return this.warn(\"`\".concat(oldUsage, \"` is deprecated and will be removed in a later version. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"removed\",\n    value: function removed(oldUsage, newUsage) {\n      return this.error(\"`\".concat(oldUsage, \"` has been removed. Use `\").concat(newUsage, \"` instead\"));\n    }\n  }, {\n    key: \"probe\",\n    value: function probe(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n        time: true,\n        once: true\n      });\n    }\n  }, {\n    key: \"log\",\n    value: function log(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n    }\n  }, {\n    key: \"info\",\n    value: function info(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.info, arguments);\n    }\n  }, {\n    key: \"once\",\n    value: function once(logLevel, message) {\n      return this._getLogFunction(logLevel, message, originalConsole.debug || originalConsole.info, arguments, ONCE);\n    }\n  }, {\n    key: \"table\",\n    value: function table(logLevel, _table, columns) {\n      if (_table) {\n        return this._getLogFunction(logLevel, _table, console.table || noop, columns && [columns], {\n          tag: getTableHeader(_table)\n        });\n      }\n\n      return noop;\n    }\n  }, {\n    key: \"image\",\n    value: function image(_ref2) {\n      var logLevel = _ref2.logLevel,\n          priority = _ref2.priority,\n          _image = _ref2.image,\n          _ref2$message = _ref2.message,\n          message = _ref2$message === void 0 ? '' : _ref2$message,\n          _ref2$scale = _ref2.scale,\n          scale = _ref2$scale === void 0 ? 1 : _ref2$scale;\n\n      if (!this._shouldLog(logLevel || priority)) {\n        return noop;\n      }\n\n      return isBrowser ? logImageInBrowser({\n        image: _image,\n        message: message,\n        scale: scale\n      }) : logImageInNode({\n        image: _image,\n        message: message,\n        scale: scale\n      });\n    }\n  }, {\n    key: \"settings\",\n    value: function settings() {\n      if (console.table) {\n        console.table(this._storage.config);\n      } else {\n        console.log(this._storage.config);\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(setting) {\n      return this._storage.config[setting];\n    }\n  }, {\n    key: \"set\",\n    value: function set(setting, value) {\n      this._storage.updateConfiguration(_defineProperty({}, setting, value));\n    }\n  }, {\n    key: \"time\",\n    value: function time(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeEnd ? console.timeEnd : console.info);\n    }\n  }, {\n    key: \"timeStamp\",\n    value: function timeStamp(logLevel, message) {\n      return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n    }\n  }, {\n    key: \"group\",\n    value: function group(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n        collapsed: false\n      };\n      opts = normalizeArguments({\n        logLevel: logLevel,\n        message: message,\n        opts: opts\n      });\n      var _opts = opts,\n          collapsed = _opts.collapsed;\n      opts.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n      return this._getLogFunction(opts);\n    }\n  }, {\n    key: \"groupCollapsed\",\n    value: function groupCollapsed(logLevel, message) {\n      var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.group(logLevel, message, Object.assign({}, opts, {\n        collapsed: true\n      }));\n    }\n  }, {\n    key: \"groupEnd\",\n    value: function groupEnd(logLevel) {\n      return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n    }\n  }, {\n    key: \"withGroup\",\n    value: function withGroup(logLevel, message, func) {\n      this.group(logLevel, message)();\n\n      try {\n        func();\n      } finally {\n        this.groupEnd(logLevel)();\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      if (console.trace) {\n        console.trace();\n      }\n    }\n  }, {\n    key: \"_shouldLog\",\n    value: function _shouldLog(logLevel) {\n      return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n    }\n  }, {\n    key: \"_getLogFunction\",\n    value: function _getLogFunction(logLevel, message, method) {\n      var args = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var opts = arguments.length > 4 ? arguments[4] : undefined;\n\n      if (this._shouldLog(logLevel)) {\n        var _method;\n\n        opts = normalizeArguments({\n          logLevel: logLevel,\n          message: message,\n          args: args,\n          opts: opts\n        });\n        method = method || opts.method;\n\n        _assert(method);\n\n        opts.total = this.getTotal();\n        opts.delta = this.getDelta();\n        this._deltaTs = getHiResTimestamp();\n        var tag = opts.tag || opts.message;\n\n        if (opts.once) {\n          if (!cache[tag]) {\n            cache[tag] = getHiResTimestamp();\n          } else {\n            return noop;\n          }\n        }\n\n        message = decorateMessage(this.id, opts.message, opts);\n        return (_method = method).bind.apply(_method, [console, message].concat(_toConsumableArray(opts.args)));\n      }\n\n      return noop;\n    }\n  }, {\n    key: \"level\",\n    set: function set(newLevel) {\n      this.setLevel(newLevel);\n    },\n    get: function get() {\n      return this.getLevel();\n    }\n  }, {\n    key: \"priority\",\n    set: function set(newPriority) {\n      this.level = newPriority;\n    },\n    get: function get() {\n      return this.level;\n    }\n  }]);\n\n  return Log;\n}();\n\nexport { Log as default };\nLog.VERSION = VERSION;\n\nfunction normalizeLogLevel(logLevel) {\n  if (!logLevel) {\n    return 0;\n  }\n\n  var resolvedLevel;\n\n  switch (_typeof(logLevel)) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n\n    case 'object':\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n\n    default:\n      return 0;\n  }\n\n  _assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n\n  return resolvedLevel;\n}\n\nexport function normalizeArguments(opts) {\n  var logLevel = opts.logLevel,\n      message = opts.message;\n  opts.logLevel = normalizeLogLevel(logLevel);\n  var args = opts.args ? Array.from(opts.args) : [];\n\n  while (args.length && args.shift() !== message) {}\n\n  opts.args = args;\n\n  switch (_typeof(logLevel)) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n\n      opts.message = logLevel;\n      break;\n\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n\n    default:\n  }\n\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n\n  var messageType = _typeof(opts.message);\n\n  _assert(messageType === 'string' || messageType === 'object');\n\n  return Object.assign(opts, opts.opts);\n}\n\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    var time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? \"\".concat(id, \": \").concat(time, \"  \").concat(message) : \"\".concat(id, \": \").concat(message);\n    message = addColor(message, opts.color, opts.background);\n  }\n\n  return message;\n}\n\nfunction logImageInNode(_ref3) {\n  var image = _ref3.image,\n      _ref3$message = _ref3.message,\n      message = _ref3$message === void 0 ? '' : _ref3$message,\n      _ref3$scale = _ref3.scale,\n      scale = _ref3$scale === void 0 ? 1 : _ref3$scale;\n  var asciify = null;\n\n  try {\n    asciify = module.require('asciify-image');\n  } catch (error) {}\n\n  if (asciify) {\n    return function () {\n      return asciify(image, {\n        fit: 'box',\n        width: \"\".concat(Math.round(80 * scale), \"%\")\n      }).then(function (data) {\n        return console.log(data);\n      });\n    };\n  }\n\n  return noop;\n}\n\nfunction logImageInBrowser(_ref4) {\n  var image = _ref4.image,\n      _ref4$message = _ref4.message,\n      message = _ref4$message === void 0 ? '' : _ref4$message,\n      _ref4$scale = _ref4.scale,\n      scale = _ref4$scale === void 0 ? 1 : _ref4$scale;\n\n  if (typeof image === 'string') {\n    var img = new Image();\n\n    img.onload = function () {\n      var _console;\n\n      var args = formatImage(img, message, scale);\n\n      (_console = console).log.apply(_console, _toConsumableArray(args));\n    };\n\n    img.src = image;\n    return noop;\n  }\n\n  var element = image.nodeName || '';\n\n  if (element.toLowerCase() === 'img') {\n    var _console2;\n\n    (_console2 = console).log.apply(_console2, _toConsumableArray(formatImage(image, message, scale)));\n\n    return noop;\n  }\n\n  if (element.toLowerCase() === 'canvas') {\n    var _img = new Image();\n\n    _img.onload = function () {\n      var _console3;\n\n      return (_console3 = console).log.apply(_console3, _toConsumableArray(formatImage(_img, message, scale)));\n    };\n\n    _img.src = image.toDataURL();\n    return noop;\n  }\n\n  return noop;\n}","import \"core-js/modules/es6.regexp.match\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document\n};\nvar self_ = globals.self || globals.window || globals.global;\nvar window_ = globals.window || globals.self || globals.global;\nvar global_ = globals.global || globals.self || globals.window;\nvar document_ = globals.document || {};\nexport { self_ as self, window_ as window, global_ as global, document_ as document };\nexport var isBrowser = (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) !== 'object' || String(process) !== '[object process]' || process.browser;\nexport var isWorker = typeof importScripts === 'function';\nvar matches = typeof process !== 'undefined' && process.version && process.version.match(/v([0-9]*)/);\nexport var nodeVersion = matches && parseFloat(matches[1]) || 0;","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\nmodule.exports = Cancel;","'use strict';\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nvar utils = require('./../utils');\n\nmodule.exports = utils.isStandardBrowserEnv() ? // Standard browser envs support document.cookie\nfunction standardBrowserEnv() {\n  return {\n    write: function write(name, value, expires, path, domain, secure) {\n      var cookie = [];\n      cookie.push(name + '=' + encodeURIComponent(value));\n\n      if (utils.isNumber(expires)) {\n        cookie.push('expires=' + new Date(expires).toGMTString());\n      }\n\n      if (utils.isString(path)) {\n        cookie.push('path=' + path);\n      }\n\n      if (utils.isString(domain)) {\n        cookie.push('domain=' + domain);\n      }\n\n      if (secure === true) {\n        cookie.push('secure');\n      }\n\n      document.cookie = cookie.join('; ');\n    },\n    read: function read(name) {\n      var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return match ? decodeURIComponent(match[3]) : null;\n    },\n    remove: function remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  };\n}() : // Non standard browser env (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n  return {\n    write: function write() {},\n    read: function read() {\n      return null;\n    },\n    remove: function remove() {}\n  };\n}();","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import \"core-js/modules/es6.array.is-array\";\nexport function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'luma.gl: assertion failed.');\n  }\n}\nexport function isObjectEmpty(object) {\n  for (var key in object) {\n    return false;\n  }\n\n  return true;\n}\nexport function deepArrayEqual(x, y) {\n  if (x === y) {\n    return true;\n  }\n\n  var isArrayX = Array.isArray(x) || ArrayBuffer.isView(x);\n  var isArrayY = Array.isArray(y) || ArrayBuffer.isView(y);\n\n  if (isArrayX && isArrayY && x.length === y.length) {\n    for (var i = 0; i < x.length; ++i) {\n      if (x[i] !== y[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nexport function cssToDeviceRatio(gl) {\n  if (gl.canvas && gl.luma) {\n    var clientWidth = gl.luma.canvasSizeInfo.clientWidth;\n    return clientWidth ? gl.drawingBufferWidth / clientWidth : 1;\n  }\n\n  return 1;\n}\nexport function cssToDevicePixels(gl, cssPixel) {\n  var yInvert = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var ratio = cssToDeviceRatio(gl);\n  var width = gl.drawingBufferWidth;\n  var height = gl.drawingBufferHeight;\n  return scalePixels(cssPixel, ratio, width, height, yInvert);\n}\nexport function getDevicePixelRatio(useDevicePixels) {\n  var windowRatio = typeof window === 'undefined' ? 1 : window.devicePixelRatio || 1;\n\n  if (Number.isFinite(useDevicePixels)) {\n    return useDevicePixels <= 0 ? 1 : useDevicePixels;\n  }\n\n  return useDevicePixels ? windowRatio : 1;\n}\n\nfunction scalePixels(pixel, ratio, width, height, yInvert) {\n  var x = scaleX(pixel[0], ratio, width);\n  var y = scaleY(pixel[1], ratio, height, yInvert);\n  var t = scaleX(pixel[0] + 1, ratio, width);\n  var xHigh = t === width - 1 ? t : t - 1;\n  t = scaleY(pixel[1] + 1, ratio, height, yInvert);\n  var yHigh;\n\n  if (yInvert) {\n    t = t === 0 ? t : t + 1;\n    yHigh = y;\n    y = t;\n  } else {\n    yHigh = t === height - 1 ? t : t - 1;\n  }\n\n  return {\n    x: x,\n    y: y,\n    width: Math.max(xHigh - x + 1, 1),\n    height: Math.max(yHigh - y + 1, 1)\n  };\n}\n\nfunction scaleX(x, ratio, width) {\n  var r = Math.min(Math.round(x * ratio), width - 1);\n  return r;\n}\n\nfunction scaleY(y, ratio, height, yInvert) {\n  return yInvert ? Math.max(0, height - 1 - Math.round(y * ratio)) : Math.min(Math.round(y * ratio), height - 1);\n}","import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.number.is-finite\";\nimport { assert } from './utils';\nexport var ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport var ERR_WEBGL = ERR_CONTEXT;\nexport var ERR_WEBGL2 = 'Requires WebGL2';\nexport function isWebGL(gl) {\n  return Boolean(gl && Number.isFinite(gl._version));\n}\nexport function isWebGL2(gl) {\n  return Boolean(gl && gl._version === 2);\n}\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n}\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n}","import { Log } from 'probe.gl';\nexport { assert, deepArrayEqual, isObjectEmpty } from './utils';\nexport { cssToDevicePixels, cssToDeviceRatio, getDevicePixelRatio } from './device-pixels';\nexport { isWebGL, isWebGL2 } from './webgl-checks';\nexport var log = new Log({\n  id: 'luma.gl'\n});","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\n\nvar combineURLs = require('../helpers/combineURLs');\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\n\n\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n\n  return requestedURL;\n};","import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { GL_PARAMETER_DEFAULTS, GL_PARAMETER_SETTERS, GL_COMPOSITE_PARAMETER_SETTERS, GL_PARAMETER_GETTERS } from './webgl-parameter-tables';\nimport { pushContextState, popContextState } from './track-context-state';\nimport { isObjectEmpty, isWebGL, assert } from '../utils';\nexport function setParameters(gl, values) {\n  assert(isWebGL(gl), 'setParameters requires a WebGL context');\n\n  if (isObjectEmpty(values)) {\n    return;\n  }\n\n  var compositeSetters = {};\n\n  for (var key in values) {\n    var glConstant = Number(key);\n    var setter = GL_PARAMETER_SETTERS[key];\n\n    if (setter) {\n      if (typeof setter === 'string') {\n        compositeSetters[setter] = true;\n      } else {\n        setter(gl, values[key], glConstant);\n      }\n    }\n  }\n\n  var cache = gl.state && gl.state.cache;\n\n  if (cache) {\n    for (var _key in compositeSetters) {\n      var compositeSetter = GL_COMPOSITE_PARAMETER_SETTERS[_key];\n      compositeSetter(gl, values, cache);\n    }\n  }\n}\nexport function getParameters(gl, parameters) {\n  parameters = parameters || GL_PARAMETER_DEFAULTS;\n\n  if (typeof parameters === 'number') {\n    var key = parameters;\n    var getter = GL_PARAMETER_GETTERS[key];\n    return getter ? getter(gl, key) : gl.getParameter(key);\n  }\n\n  var parameterKeys = Array.isArray(parameters) ? parameters : Object.keys(parameters);\n  var state = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = parameterKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _key2 = _step.value;\n      var _getter = GL_PARAMETER_GETTERS[_key2];\n      state[_key2] = _getter ? _getter(gl, Number(_key2)) : gl.getParameter(Number(_key2));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return state;\n}\nexport function resetParameters(gl) {\n  setParameters(gl, GL_PARAMETER_DEFAULTS);\n}\nexport function withParameters(gl, parameters, func) {\n  if (isObjectEmpty(parameters)) {\n    return func(gl);\n  }\n\n  var _parameters$nocatch = parameters.nocatch,\n      nocatch = _parameters$nocatch === void 0 ? true : _parameters$nocatch;\n  pushContextState(gl);\n  setParameters(gl, parameters);\n  var value;\n\n  if (nocatch) {\n    value = func(gl);\n    popContextState(gl);\n  } else {\n    try {\n      value = func(gl);\n    } finally {\n      popContextState(gl);\n    }\n  }\n\n  return value;\n}","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.console = exports.process = exports.document = exports.global = exports.window = exports.self = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(process)) === 'object' && process\n};\nvar self_ = globals.self || globals.window || globals.global;\nexports.self = self_;\nvar window_ = globals.window || globals.self || globals.global;\nexports.window = window_;\nvar global_ = globals.global || globals.self || globals.window;\nexports.global = global_;\nvar document_ = globals.document || {};\nexports.document = document_;\nvar process_ = globals.process || {};\nexports.process = process_;\nvar console_ = console;\nexports.console = console_;","import \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.index-of\";\nimport { createElement, PureComponent } from 'react';\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n    /* Detect CSS Animations support to detect element display/re-attach */\n\n\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n\n        var elementStyle = _window.getComputedStyle(element);\n\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n        /* Listen for a css animation to detect element display/re-attach */\n\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {// Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n        var _height = _this._parentNode.offsetHeight || 0;\n\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({\n            height: _height,\n            width: _width\n          });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode; // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n\n        this._detectElementResize = createDetectElementResize(nonce);\n\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width; // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = {\n        overflow: 'visible'\n      };\n      var childParams = {}; // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement('div', {\n        className: className,\n        ref: this._setRef,\n        style: _extends({}, outerStyle, style)\n      }, !bailoutOnChildren && children(childParams));\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\nexport default AutoSizer;","'use strict';\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar Cancel = require('./Cancel');\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\n\n\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\n\n\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\n\n\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","module.exports = require(\"regenerator-runtime\");\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.typed.int32-array\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _GL_PARAMETER_DEFAULT, _GL_PARAMETER_SETTERS, _GL_PARAMETER_GETTERS;\n\nimport { isWebGL2 } from '../utils';\nexport var GL_PARAMETER_DEFAULTS = (_GL_PARAMETER_DEFAULT = {}, _defineProperty(_GL_PARAMETER_DEFAULT, 3042, false), _defineProperty(_GL_PARAMETER_DEFAULT, 32773, new Float32Array([0, 0, 0, 0])), _defineProperty(_GL_PARAMETER_DEFAULT, 32777, 32774), _defineProperty(_GL_PARAMETER_DEFAULT, 34877, 32774), _defineProperty(_GL_PARAMETER_DEFAULT, 32969, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32968, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32971, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32970, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3106, new Float32Array([0, 0, 0, 0])), _defineProperty(_GL_PARAMETER_DEFAULT, 3107, [true, true, true, true]), _defineProperty(_GL_PARAMETER_DEFAULT, 2884, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2885, 1029), _defineProperty(_GL_PARAMETER_DEFAULT, 2929, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2931, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 2932, 513), _defineProperty(_GL_PARAMETER_DEFAULT, 2928, new Float32Array([0, 1])), _defineProperty(_GL_PARAMETER_DEFAULT, 2930, true), _defineProperty(_GL_PARAMETER_DEFAULT, 3024, true), _defineProperty(_GL_PARAMETER_DEFAULT, 36006, null), _defineProperty(_GL_PARAMETER_DEFAULT, 2886, 2305), _defineProperty(_GL_PARAMETER_DEFAULT, 33170, 4352), _defineProperty(_GL_PARAMETER_DEFAULT, 2849, 1), _defineProperty(_GL_PARAMETER_DEFAULT, 32823, false), _defineProperty(_GL_PARAMETER_DEFAULT, 32824, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 10752, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32938, 1.0), _defineProperty(_GL_PARAMETER_DEFAULT, 32939, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3089, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3088, new Int32Array([0, 0, 1024, 1024])), _defineProperty(_GL_PARAMETER_DEFAULT, 2960, false), _defineProperty(_GL_PARAMETER_DEFAULT, 2961, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 2968, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 36005, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 2962, 519), _defineProperty(_GL_PARAMETER_DEFAULT, 2967, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 2963, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 34816, 519), _defineProperty(_GL_PARAMETER_DEFAULT, 36003, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 36004, 0xffffffff), _defineProperty(_GL_PARAMETER_DEFAULT, 2964, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2965, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2966, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34817, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34818, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 34819, 7680), _defineProperty(_GL_PARAMETER_DEFAULT, 2978, [0, 0, 1024, 1024]), _defineProperty(_GL_PARAMETER_DEFAULT, 3333, 4), _defineProperty(_GL_PARAMETER_DEFAULT, 3317, 4), _defineProperty(_GL_PARAMETER_DEFAULT, 37440, false), _defineProperty(_GL_PARAMETER_DEFAULT, 37441, false), _defineProperty(_GL_PARAMETER_DEFAULT, 37443, 37444), _defineProperty(_GL_PARAMETER_DEFAULT, 35723, 4352), _defineProperty(_GL_PARAMETER_DEFAULT, 36010, null), _defineProperty(_GL_PARAMETER_DEFAULT, 35977, false), _defineProperty(_GL_PARAMETER_DEFAULT, 3330, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3332, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3331, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3314, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32878, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3316, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 3315, 0), _defineProperty(_GL_PARAMETER_DEFAULT, 32877, 0), _GL_PARAMETER_DEFAULT);\n\nvar enable = function enable(gl, value, key) {\n  return value ? gl.enable(key) : gl.disable(key);\n};\n\nvar hint = function hint(gl, value, key) {\n  return gl.hint(key, value);\n};\n\nvar pixelStorei = function pixelStorei(gl, value, key) {\n  return gl.pixelStorei(key, value);\n};\n\nvar drawFramebuffer = function drawFramebuffer(gl, value) {\n  var target = isWebGL2(gl) ? 36009 : 36160;\n  return gl.bindFramebuffer(target, value);\n};\n\nvar readFramebuffer = function readFramebuffer(gl, value) {\n  return gl.bindFramebuffer(36008, value);\n};\n\nfunction isArray(array) {\n  return Array.isArray(array) || ArrayBuffer.isView(array);\n}\n\nexport var GL_PARAMETER_SETTERS = (_GL_PARAMETER_SETTERS = {}, _defineProperty(_GL_PARAMETER_SETTERS, 3042, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32773, function (gl, value) {\n  return gl.blendColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 32777, 'blendEquation'), _defineProperty(_GL_PARAMETER_SETTERS, 34877, 'blendEquation'), _defineProperty(_GL_PARAMETER_SETTERS, 32969, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32968, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32971, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 32970, 'blendFunc'), _defineProperty(_GL_PARAMETER_SETTERS, 3106, function (gl, value) {\n  return gl.clearColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3107, function (gl, value) {\n  return gl.colorMask.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2884, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2885, function (gl, value) {\n  return gl.cullFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2929, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2931, function (gl, value) {\n  return gl.clearDepth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2932, function (gl, value) {\n  return gl.depthFunc(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2928, function (gl, value) {\n  return gl.depthRange.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2930, function (gl, value) {\n  return gl.depthMask(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3024, enable), _defineProperty(_GL_PARAMETER_SETTERS, 35723, hint), _defineProperty(_GL_PARAMETER_SETTERS, 36006, drawFramebuffer), _defineProperty(_GL_PARAMETER_SETTERS, 2886, function (gl, value) {\n  return gl.frontFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 33170, hint), _defineProperty(_GL_PARAMETER_SETTERS, 2849, function (gl, value) {\n  return gl.lineWidth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 32823, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32824, 'polygonOffset'), _defineProperty(_GL_PARAMETER_SETTERS, 10752, 'polygonOffset'), _defineProperty(_GL_PARAMETER_SETTERS, 35977, enable), _defineProperty(_GL_PARAMETER_SETTERS, 32938, 'sampleCoverage'), _defineProperty(_GL_PARAMETER_SETTERS, 32939, 'sampleCoverage'), _defineProperty(_GL_PARAMETER_SETTERS, 3089, enable), _defineProperty(_GL_PARAMETER_SETTERS, 3088, function (gl, value) {\n  return gl.scissor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2960, enable), _defineProperty(_GL_PARAMETER_SETTERS, 2961, function (gl, value) {\n  return gl.clearStencil(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2968, function (gl, value) {\n  return gl.stencilMaskSeparate(1028, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 36005, function (gl, value) {\n  return gl.stencilMaskSeparate(1029, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, 2962, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2967, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2963, 'stencilFuncFront'), _defineProperty(_GL_PARAMETER_SETTERS, 34816, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 36003, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 36004, 'stencilFuncBack'), _defineProperty(_GL_PARAMETER_SETTERS, 2964, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2965, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 2966, 'stencilOpFront'), _defineProperty(_GL_PARAMETER_SETTERS, 34817, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 34818, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 34819, 'stencilOpBack'), _defineProperty(_GL_PARAMETER_SETTERS, 2978, function (gl, value) {\n  return gl.viewport.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, 3333, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3317, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37440, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37441, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 37443, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3330, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3332, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3331, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 36010, readFramebuffer), _defineProperty(_GL_PARAMETER_SETTERS, 3314, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 32878, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3316, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 3315, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, 32877, pixelStorei), _defineProperty(_GL_PARAMETER_SETTERS, \"framebuffer\", function framebuffer(gl, _framebuffer) {\n  var handle = _framebuffer && 'handle' in _framebuffer ? _framebuffer.handle : _framebuffer;\n  return gl.bindFramebuffer(36160, handle);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blend\", function blend(gl, value) {\n  return value ? gl.enable(3042) : gl.disable(3042);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendColor\", function blendColor(gl, value) {\n  return gl.blendColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendEquation\", function blendEquation(gl, args) {\n  args = isArray(args) ? args : [args, args];\n  gl.blendEquationSeparate.apply(gl, _toConsumableArray(args));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"blendFunc\", function blendFunc(gl, args) {\n  args = isArray(args) && args.length === 2 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n  gl.blendFuncSeparate.apply(gl, _toConsumableArray(args));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearColor\", function clearColor(gl, value) {\n  return gl.clearColor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearDepth\", function clearDepth(gl, value) {\n  return gl.clearDepth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"clearStencil\", function clearStencil(gl, value) {\n  return gl.clearStencil(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"colorMask\", function colorMask(gl, value) {\n  return gl.colorMask.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"cull\", function cull(gl, value) {\n  return value ? gl.enable(2884) : gl.disable(2884);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"cullFace\", function cullFace(gl, value) {\n  return gl.cullFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthTest\", function depthTest(gl, value) {\n  return value ? gl.enable(2929) : gl.disable(2929);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthFunc\", function depthFunc(gl, value) {\n  return gl.depthFunc(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthMask\", function depthMask(gl, value) {\n  return gl.depthMask(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"depthRange\", function depthRange(gl, value) {\n  return gl.depthRange.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"dither\", function dither(gl, value) {\n  return value ? gl.enable(3024) : gl.disable(3024);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"derivativeHint\", function derivativeHint(gl, value) {\n  gl.hint(35723, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"frontFace\", function frontFace(gl, value) {\n  return gl.frontFace(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"mipmapHint\", function mipmapHint(gl, value) {\n  return gl.hint(33170, value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"lineWidth\", function lineWidth(gl, value) {\n  return gl.lineWidth(value);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"polygonOffsetFill\", function polygonOffsetFill(gl, value) {\n  return value ? gl.enable(32823) : gl.disable(32823);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"polygonOffset\", function polygonOffset(gl, value) {\n  return gl.polygonOffset.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"sampleCoverage\", function sampleCoverage(gl, value) {\n  return gl.sampleCoverage.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"scissorTest\", function scissorTest(gl, value) {\n  return value ? gl.enable(3089) : gl.disable(3089);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"scissor\", function scissor(gl, value) {\n  return gl.scissor.apply(gl, _toConsumableArray(value));\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilTest\", function stencilTest(gl, value) {\n  return value ? gl.enable(2960) : gl.disable(2960);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilMask\", function stencilMask(gl, value) {\n  value = isArray(value) ? value : [value, value];\n\n  var _value = value,\n      _value2 = _slicedToArray(_value, 2),\n      mask = _value2[0],\n      backMask = _value2[1];\n\n  gl.stencilMaskSeparate(1028, mask);\n  gl.stencilMaskSeparate(1029, backMask);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilFunc\", function stencilFunc(gl, args) {\n  args = isArray(args) && args.length === 3 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n\n  var _args = args,\n      _args2 = _slicedToArray(_args, 6),\n      func = _args2[0],\n      ref = _args2[1],\n      mask = _args2[2],\n      backFunc = _args2[3],\n      backRef = _args2[4],\n      backMask = _args2[5];\n\n  gl.stencilFuncSeparate(1028, func, ref, mask);\n  gl.stencilFuncSeparate(1029, backFunc, backRef, backMask);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"stencilOp\", function stencilOp(gl, args) {\n  args = isArray(args) && args.length === 3 ? [].concat(_toConsumableArray(args), _toConsumableArray(args)) : args;\n\n  var _args3 = args,\n      _args4 = _slicedToArray(_args3, 6),\n      sfail = _args4[0],\n      dpfail = _args4[1],\n      dppass = _args4[2],\n      backSfail = _args4[3],\n      backDpfail = _args4[4],\n      backDppass = _args4[5];\n\n  gl.stencilOpSeparate(1028, sfail, dpfail, dppass);\n  gl.stencilOpSeparate(1029, backSfail, backDpfail, backDppass);\n}), _defineProperty(_GL_PARAMETER_SETTERS, \"viewport\", function viewport(gl, value) {\n  return gl.viewport.apply(gl, _toConsumableArray(value));\n}), _GL_PARAMETER_SETTERS);\n\nfunction getValue(glEnum, values, cache) {\n  return values[glEnum] !== undefined ? values[glEnum] : cache[glEnum];\n}\n\nexport var GL_COMPOSITE_PARAMETER_SETTERS = {\n  blendEquation: function blendEquation(gl, values, cache) {\n    return gl.blendEquationSeparate(getValue(32777, values, cache), getValue(34877, values, cache));\n  },\n  blendFunc: function blendFunc(gl, values, cache) {\n    return gl.blendFuncSeparate(getValue(32969, values, cache), getValue(32968, values, cache), getValue(32971, values, cache), getValue(32970, values, cache));\n  },\n  polygonOffset: function polygonOffset(gl, values, cache) {\n    return gl.polygonOffset(getValue(32824, values, cache), getValue(10752, values, cache));\n  },\n  sampleCoverage: function sampleCoverage(gl, values, cache) {\n    return gl.sampleCoverage(getValue(32938, values, cache), getValue(32939, values, cache));\n  },\n  stencilFuncFront: function stencilFuncFront(gl, values, cache) {\n    return gl.stencilFuncSeparate(1028, getValue(2962, values, cache), getValue(2967, values, cache), getValue(2963, values, cache));\n  },\n  stencilFuncBack: function stencilFuncBack(gl, values, cache) {\n    return gl.stencilFuncSeparate(1029, getValue(34816, values, cache), getValue(36003, values, cache), getValue(36004, values, cache));\n  },\n  stencilOpFront: function stencilOpFront(gl, values, cache) {\n    return gl.stencilOpSeparate(1028, getValue(2964, values, cache), getValue(2965, values, cache), getValue(2966, values, cache));\n  },\n  stencilOpBack: function stencilOpBack(gl, values, cache) {\n    return gl.stencilOpSeparate(1029, getValue(34817, values, cache), getValue(34818, values, cache), getValue(34819, values, cache));\n  }\n};\nexport var GL_HOOKED_SETTERS = {\n  enable: function enable(update, capability) {\n    return update(_defineProperty({}, capability, true));\n  },\n  disable: function disable(update, capability) {\n    return update(_defineProperty({}, capability, false));\n  },\n  pixelStorei: function pixelStorei(update, pname, value) {\n    return update(_defineProperty({}, pname, value));\n  },\n  hint: function hint(update, pname, _hint) {\n    return update(_defineProperty({}, pname, _hint));\n  },\n  bindFramebuffer: function bindFramebuffer(update, target, framebuffer) {\n    var _update5;\n\n    switch (target) {\n      case 36160:\n        return update((_update5 = {}, _defineProperty(_update5, 36006, framebuffer), _defineProperty(_update5, 36010, framebuffer), _update5));\n\n      case 36009:\n        return update(_defineProperty({}, 36006, framebuffer));\n\n      case 36008:\n        return update(_defineProperty({}, 36010, framebuffer));\n\n      default:\n        return null;\n    }\n  },\n  blendColor: function blendColor(update, r, g, b, a) {\n    return update(_defineProperty({}, 32773, new Float32Array([r, g, b, a])));\n  },\n  blendEquation: function blendEquation(update, mode) {\n    var _update9;\n\n    return update((_update9 = {}, _defineProperty(_update9, 32777, mode), _defineProperty(_update9, 34877, mode), _update9));\n  },\n  blendEquationSeparate: function blendEquationSeparate(update, modeRGB, modeAlpha) {\n    var _update10;\n\n    return update((_update10 = {}, _defineProperty(_update10, 32777, modeRGB), _defineProperty(_update10, 34877, modeAlpha), _update10));\n  },\n  blendFunc: function blendFunc(update, src, dst) {\n    var _update11;\n\n    return update((_update11 = {}, _defineProperty(_update11, 32969, src), _defineProperty(_update11, 32968, dst), _defineProperty(_update11, 32971, src), _defineProperty(_update11, 32970, dst), _update11));\n  },\n  blendFuncSeparate: function blendFuncSeparate(update, srcRGB, dstRGB, srcAlpha, dstAlpha) {\n    var _update12;\n\n    return update((_update12 = {}, _defineProperty(_update12, 32969, srcRGB), _defineProperty(_update12, 32968, dstRGB), _defineProperty(_update12, 32971, srcAlpha), _defineProperty(_update12, 32970, dstAlpha), _update12));\n  },\n  clearColor: function clearColor(update, r, g, b, a) {\n    return update(_defineProperty({}, 3106, new Float32Array([r, g, b, a])));\n  },\n  clearDepth: function clearDepth(update, depth) {\n    return update(_defineProperty({}, 2931, depth));\n  },\n  clearStencil: function clearStencil(update, s) {\n    return update(_defineProperty({}, 2961, s));\n  },\n  colorMask: function colorMask(update, r, g, b, a) {\n    return update(_defineProperty({}, 3107, [r, g, b, a]));\n  },\n  cullFace: function cullFace(update, mode) {\n    return update(_defineProperty({}, 2885, mode));\n  },\n  depthFunc: function depthFunc(update, func) {\n    return update(_defineProperty({}, 2932, func));\n  },\n  depthRange: function depthRange(update, zNear, zFar) {\n    return update(_defineProperty({}, 2928, new Float32Array([zNear, zFar])));\n  },\n  depthMask: function depthMask(update, mask) {\n    return update(_defineProperty({}, 2930, mask));\n  },\n  frontFace: function frontFace(update, face) {\n    return update(_defineProperty({}, 2886, face));\n  },\n  lineWidth: function lineWidth(update, width) {\n    return update(_defineProperty({}, 2849, width));\n  },\n  polygonOffset: function polygonOffset(update, factor, units) {\n    var _update23;\n\n    return update((_update23 = {}, _defineProperty(_update23, 32824, factor), _defineProperty(_update23, 10752, units), _update23));\n  },\n  sampleCoverage: function sampleCoverage(update, value, invert) {\n    var _update24;\n\n    return update((_update24 = {}, _defineProperty(_update24, 32938, value), _defineProperty(_update24, 32939, invert), _update24));\n  },\n  scissor: function scissor(update, x, y, width, height) {\n    return update(_defineProperty({}, 3088, new Int32Array([x, y, width, height])));\n  },\n  stencilMask: function stencilMask(update, mask) {\n    var _update26;\n\n    return update((_update26 = {}, _defineProperty(_update26, 2968, mask), _defineProperty(_update26, 36005, mask), _update26));\n  },\n  stencilMaskSeparate: function stencilMaskSeparate(update, face, mask) {\n    return update(_defineProperty({}, face === 1028 ? 2968 : 36005, mask));\n  },\n  stencilFunc: function stencilFunc(update, func, ref, mask) {\n    var _update28;\n\n    return update((_update28 = {}, _defineProperty(_update28, 2962, func), _defineProperty(_update28, 2967, ref), _defineProperty(_update28, 2963, mask), _defineProperty(_update28, 34816, func), _defineProperty(_update28, 36003, ref), _defineProperty(_update28, 36004, mask), _update28));\n  },\n  stencilFuncSeparate: function stencilFuncSeparate(update, face, func, ref, mask) {\n    var _update29;\n\n    return update((_update29 = {}, _defineProperty(_update29, face === 1028 ? 2962 : 34816, func), _defineProperty(_update29, face === 1028 ? 2967 : 36003, ref), _defineProperty(_update29, face === 1028 ? 2963 : 36004, mask), _update29));\n  },\n  stencilOp: function stencilOp(update, fail, zfail, zpass) {\n    var _update30;\n\n    return update((_update30 = {}, _defineProperty(_update30, 2964, fail), _defineProperty(_update30, 2965, zfail), _defineProperty(_update30, 2966, zpass), _defineProperty(_update30, 34817, fail), _defineProperty(_update30, 34818, zfail), _defineProperty(_update30, 34819, zpass), _update30));\n  },\n  stencilOpSeparate: function stencilOpSeparate(update, face, fail, zfail, zpass) {\n    var _update31;\n\n    return update((_update31 = {}, _defineProperty(_update31, face === 1028 ? 2964 : 34817, fail), _defineProperty(_update31, face === 1028 ? 2965 : 34818, zfail), _defineProperty(_update31, face === 1028 ? 2966 : 34819, zpass), _update31));\n  },\n  viewport: function viewport(update, x, y, width, height) {\n    return update(_defineProperty({}, 2978, [x, y, width, height]));\n  }\n};\n\nvar isEnabled = function isEnabled(gl, key) {\n  return gl.isEnabled(key);\n};\n\nexport var GL_PARAMETER_GETTERS = (_GL_PARAMETER_GETTERS = {}, _defineProperty(_GL_PARAMETER_GETTERS, 3042, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2884, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2929, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 3024, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32823, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32926, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 32928, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 3089, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 2960, isEnabled), _defineProperty(_GL_PARAMETER_GETTERS, 35977, isEnabled), _GL_PARAMETER_GETTERS);","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","export function vec2_transformMat4AsVector(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var w = m[3] * x + m[7] * y || 1.0;\n  out[0] = (m[0] * x + m[4] * y) / w;\n  out[1] = (m[1] * x + m[5] * y) / w;\n  return out;\n}\nexport function vec3_transformMat4AsVector(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n  return out;\n}\nexport function vec3_transformMat2(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  return out;\n}\nexport function vec4_transformMat2(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\nexport function vec4_transformMat3(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  out[0] = m[0] * x + m[3] * y + m[6] * z;\n  out[1] = m[1] * x + m[4] * y + m[7] * z;\n  out[2] = m[2] * x + m[5] * y + m[8] * z;\n  out[3] = a[3];\n  return out;\n}","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar utils = require('./../utils');\n\nvar settle = require('./../core/settle');\n\nvar buildURL = require('./../helpers/buildURL');\n\nvar buildFullPath = require('../core/buildFullPath');\n\nvar parseHeaders = require('./../helpers/parseHeaders');\n\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\n\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest(); // HTTP basic authentication\n\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true); // Set the request timeout in MS\n\n    request.timeout = config.timeout; // Listen for ready state\n\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      } // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n\n\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      } // Prepare the response\n\n\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n      settle(resolve, reject, response); // Clean up request\n\n      request = null;\n    }; // Handle browser request cancellation (as opposed to a manual cancellation)\n\n\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request)); // Clean up request\n\n      request = null;\n    }; // Handle low level network errors\n\n\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request)); // Clean up request\n\n      request = null;\n    }; // Handle timeout\n\n\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED', request)); // Clean up request\n\n      request = null;\n    }; // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n\n\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies'); // Add xsrf header\n\n\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    } // Add headers to the request\n\n\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    } // Add withCredentials to request if needed\n\n\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    } // Add responseType to request if needed\n\n\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    } // Handle progress if needed\n\n\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    } // Not all browsers support upload events\n\n\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel); // Clean up request\n\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    } // Send the request\n\n\n    request.send(requestData);\n  });\n};","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"math.gl assertion \".concat(message));\n  }\n}","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = isBrowser;\nexports.isBrowserMainThread = isBrowserMainThread;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _isElectron = _interopRequireDefault(require(\"./is-electron\"));\n\nfunction isBrowser() {\n  var isNode = (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof2[\"default\"])(process)) === 'object' && String(process) === '[object process]' && !process.browser;\n  return !isNode || (0, _isElectron[\"default\"])();\n}\n\nfunction isBrowserMainThread() {\n  return isBrowser() && typeof document !== 'undefined';\n}","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","module.exports = require('./lib/axios');","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","'use strict';\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('./../utils'); // Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\n\n\nvar ignoreDuplicateOf = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent'];\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\n\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) {\n    return parsed;\n  }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n  return parsed;\n};","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('./../utils');\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\n\n\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n  return data;\n};","// This file enables: import 'probe.gl/bench'.\n// Note: Must be published using package.json \"files\" field\nmodule.exports = require('./dist/es5/env');","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nvar bind = require('./helpers/bind');\n/*global toString:true*/\n// utils is a library of generic helper functions non-specific to axios\n\n\nvar toString = Object.prototype.toString;\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\n\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\n\n\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor) && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\n\n\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\n\n\nfunction isFormData(val) {\n  return typeof FormData !== 'undefined' && val instanceof FormData;\n}\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\n\n\nfunction isArrayBufferView(val) {\n  var result;\n\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = val && val.buffer && val.buffer instanceof ArrayBuffer;\n  }\n\n  return result;\n}\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\n\n\nfunction isString(val) {\n  return typeof val === 'string';\n}\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\n\n\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\n\n\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\n\n\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\n\n\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\n\n\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\n\n\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\n\n\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\n\n\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\n\n\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\n\n\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' || navigator.product === 'NativeScript' || navigator.product === 'NS')) {\n    return false;\n  }\n\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\n\n\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  } // Force an array if not already something iterable\n\n\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\n\n\nfunction merge()\n/* obj1, obj2, obj3, ... */\n{\n  var result = {};\n\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n\n  return result;\n}\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\n\n\nfunction deepMerge()\n/* obj1, obj2, obj3, ... */\n{\n  var result = {};\n\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n\n  return result;\n}\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\n\n\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};","'use strict';\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};","require(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\n/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = ('ontouchstart' in window);\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');","import \"core-js/modules/es6.math.hypot\";\nimport \"core-js/modules/es6.typed.float32-array\";\n\n/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport MathArray from './math-array';\nimport { checkNumber } from '../../lib/validators';\nimport assert from '../../lib/assert';\n\nvar Vector = function (_MathArray) {\n  _inherits(Vector, _MathArray);\n\n  function Vector() {\n    _classCallCheck(this, Vector);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Vector).apply(this, arguments));\n  }\n\n  _createClass(Vector, [{\n    key: \"copy\",\n    value: function copy(vector) {\n      assert(false);\n      return this;\n    }\n  }, {\n    key: \"len\",\n    value: function len() {\n      return Math.sqrt(this.lengthSquared());\n    }\n  }, {\n    key: \"magnitude\",\n    value: function magnitude() {\n      return this.len();\n    }\n  }, {\n    key: \"lengthSquared\",\n    value: function lengthSquared() {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        length += this[i] * this[i];\n      }\n\n      return length;\n    }\n  }, {\n    key: \"magnitudeSquared\",\n    value: function magnitudeSquared() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distance\",\n    value: function distance(mathArray) {\n      return Math.sqrt(this.distanceSquared(mathArray));\n    }\n  }, {\n    key: \"distanceSquared\",\n    value: function distanceSquared(mathArray) {\n      var length = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        var dist = this[i] - mathArray[i];\n        length += dist * dist;\n      }\n\n      return checkNumber(length);\n    }\n  }, {\n    key: \"dot\",\n    value: function dot(mathArray) {\n      var product = 0;\n\n      for (var i = 0; i < this.ELEMENTS; ++i) {\n        product += this[i] * mathArray[i];\n      }\n\n      return checkNumber(product);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var length = this.magnitude();\n\n      if (length !== 0) {\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= length;\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply() {\n      for (var _len = arguments.length, vectors = new Array(_len), _key = 0; _key < _len; _key++) {\n        vectors[_key] = arguments[_key];\n      }\n\n      for (var _i = 0, _vectors = vectors; _i < _vectors.length; _i++) {\n        var vector = _vectors[_i];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] *= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"divide\",\n    value: function divide() {\n      for (var _len2 = arguments.length, vectors = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        vectors[_key2] = arguments[_key2];\n      }\n\n      for (var _i2 = 0, _vectors2 = vectors; _i2 < _vectors2.length; _i2++) {\n        var vector = _vectors2[_i2];\n\n        for (var i = 0; i < this.ELEMENTS; ++i) {\n          this[i] /= vector[i];\n        }\n      }\n\n      return this.check();\n    }\n  }, {\n    key: \"lengthSq\",\n    value: function lengthSq() {\n      return this.lengthSquared();\n    }\n  }, {\n    key: \"distanceTo\",\n    value: function distanceTo(vector) {\n      return this.distance(vector);\n    }\n  }, {\n    key: \"distanceToSquared\",\n    value: function distanceToSquared(vector) {\n      return this.distanceSquared(vector);\n    }\n  }, {\n    key: \"getComponent\",\n    value: function getComponent(i) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      return checkNumber(this[i]);\n    }\n  }, {\n    key: \"setComponent\",\n    value: function setComponent(i, value) {\n      assert(i >= 0 && i < this.ELEMENTS, 'index is out of range');\n      this[i] = value;\n      return this.check();\n    }\n  }, {\n    key: \"addVectors\",\n    value: function addVectors(a, b) {\n      return this.copy(a).add(b);\n    }\n  }, {\n    key: \"subVectors\",\n    value: function subVectors(a, b) {\n      return this.copy(a).subtract(b);\n    }\n  }, {\n    key: \"multiplyVectors\",\n    value: function multiplyVectors(a, b) {\n      return this.copy(a).multiply(b);\n    }\n  }, {\n    key: \"addScaledVector\",\n    value: function addScaledVector(a, b) {\n      return this.add(new this.constructor(a).multiplyScalar(b));\n    }\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this[0];\n    },\n    set: function set(value) {\n      this[0] = checkNumber(value);\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this[1];\n    },\n    set: function set(value) {\n      this[1] = checkNumber(value);\n    }\n  }]);\n\n  return Vector;\n}(MathArray);\n\nexport { Vector as default };","import \"core-js/modules/es6.object.freeze\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport Vector from './base/vector';\nimport { config, isArray } from '../lib/common';\nimport { checkNumber } from '../lib/validators';\nimport * as vec3 from 'gl-matrix/vec3';\nimport { vec3_transformMat2, vec3_transformMat4AsVector } from '../lib/gl-matrix-extras';\nvar ORIGIN = [0, 0, 0];\nvar constants = {};\n\nvar Vector3 = function (_Vector) {\n  _inherits(Vector3, _Vector);\n\n  _createClass(Vector3, null, [{\n    key: \"ZERO\",\n    get: function get() {\n      return constants.ZERO = constants.ZERO || Object.freeze(new Vector3(0, 0, 0, 0));\n    }\n  }]);\n\n  function Vector3() {\n    var _this;\n\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    _classCallCheck(this, Vector3);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Vector3).call(this, -0, -0, -0));\n\n    if (arguments.length === 1 && isArray(x)) {\n      _this.copy(x);\n    } else {\n      if (config.debug) {\n        checkNumber(x);\n        checkNumber(y);\n        checkNumber(z);\n      }\n\n      _this[0] = x;\n      _this[1] = y;\n      _this[2] = z;\n    }\n\n    return _this;\n  }\n\n  _createClass(Vector3, [{\n    key: \"set\",\n    value: function set(x, y, z) {\n      this[0] = x;\n      this[1] = y;\n      this[2] = z;\n      return this.check();\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(array) {\n      this[0] = array[0];\n      this[1] = array[1];\n      this[2] = array[2];\n      return this.check();\n    }\n  }, {\n    key: \"fromObject\",\n    value: function fromObject(object) {\n      if (config.debug) {\n        checkNumber(object.x);\n        checkNumber(object.y);\n        checkNumber(object.z);\n      }\n\n      this[0] = object.x;\n      this[1] = object.y;\n      this[2] = object.z;\n      return this.check();\n    }\n  }, {\n    key: \"toObject\",\n    value: function toObject(object) {\n      object.x = this[0];\n      object.y = this[1];\n      object.z = this[2];\n      return object;\n    }\n  }, {\n    key: \"angle\",\n    value: function angle(vector) {\n      return vec3.angle(this, vector);\n    }\n  }, {\n    key: \"cross\",\n    value: function cross(vector) {\n      vec3.cross(this, this, vector);\n      return this.check();\n    }\n  }, {\n    key: \"rotateX\",\n    value: function rotateX(_ref) {\n      var radians = _ref.radians,\n          _ref$origin = _ref.origin,\n          origin = _ref$origin === void 0 ? ORIGIN : _ref$origin;\n      vec3.rotateX(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateY\",\n    value: function rotateY(_ref2) {\n      var radians = _ref2.radians,\n          _ref2$origin = _ref2.origin,\n          origin = _ref2$origin === void 0 ? ORIGIN : _ref2$origin;\n      vec3.rotateY(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"rotateZ\",\n    value: function rotateZ(_ref3) {\n      var radians = _ref3.radians,\n          _ref3$origin = _ref3.origin,\n          origin = _ref3$origin === void 0 ? ORIGIN : _ref3$origin;\n      vec3.rotateZ(this, this, origin, radians);\n      return this.check();\n    }\n  }, {\n    key: \"transform\",\n    value: function transform(matrix4) {\n      return this.transformAsPoint(matrix4);\n    }\n  }, {\n    key: \"transformAsPoint\",\n    value: function transformAsPoint(matrix4) {\n      vec3.transformMat4(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformAsVector\",\n    value: function transformAsVector(matrix4) {\n      vec3_transformMat4AsVector(this, this, matrix4);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix3\",\n    value: function transformByMatrix3(matrix3) {\n      vec3.transformMat3(this, this, matrix3);\n      return this.check();\n    }\n  }, {\n    key: \"transformByMatrix2\",\n    value: function transformByMatrix2(matrix2) {\n      vec3_transformMat2(this, this, matrix2);\n      return this.check();\n    }\n  }, {\n    key: \"transformByQuaternion\",\n    value: function transformByQuaternion(quaternion) {\n      vec3.transformQuat(this, this, quaternion);\n      return this.check();\n    }\n  }, {\n    key: \"ELEMENTS\",\n    get: function get() {\n      return 3;\n    }\n  }, {\n    key: \"z\",\n    get: function get() {\n      return this[2];\n    },\n    set: function set(value) {\n      this[2] = checkNumber(value);\n    }\n  }]);\n\n  return Vector3;\n}(Vector);\n\nexport { Vector3 as default };","'use strict';\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nvar utils = require('./utils');\n\nvar bind = require('./helpers/bind');\n\nvar Axios = require('./core/Axios');\n\nvar mergeConfig = require('./core/mergeConfig');\n\nvar defaults = require('./defaults');\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\n\n\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context); // Copy axios.prototype to instance\n\n  utils.extend(instance, Axios.prototype, context); // Copy context to instance\n\n  utils.extend(instance, context);\n  return instance;\n} // Create the default instance to be exported\n\n\nvar axios = createInstance(defaults); // Expose Axios class to allow class inheritance\n\naxios.Axios = Axios; // Factory for creating new instances\n\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n}; // Expose Cancel & CancelToken\n\n\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel'); // Expose all/spread\n\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = require('./helpers/spread');\nmodule.exports = axios; // Allow use of default import syntax in TypeScript\n\nmodule.exports[\"default\"] = axios;"],"sourceRoot":""}